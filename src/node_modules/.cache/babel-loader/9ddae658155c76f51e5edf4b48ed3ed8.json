{"ast":null,"code":"var _jsxFileName = \"D:\\\\Projects\\\\React\\\\AMLS\\\\src\\\\pages\\\\approvedFormData.js\";\nimport React from \"react\";\nimport { PageMain, Card, DropDown, Table, Helpers } from \"core\";\nimport NotificationSystem from 'react-notification-system';\nimport { GetUrl, HandleError } from '../utils/generals';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default class ApprovedFormData extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      Requests: null,\n      isLoading: true,\n      TableRows: null\n    };\n    this.notificationSystem = /*#__PURE__*/React.createRef();\n    this.OnFormChecked = this.OnFormChecked.bind(this);\n    this.LoadFormData = this.LoadFormData.bind(this);\n  } // Events.\n\n\n  componentDidMount() {\n    Helpers.CallServer('/api/FRQST/Request/GetLegalCustomerRequests', {\n      CustomerNumber: null\n    }, successfulResponse => {\n      this.setState({\n        Requests: successfulResponse\n      });\n    }, errorResponse => {\n      return HandleError(Helpers, this.notificationSystem, errorResponse);\n    }, () => {\n      // Do tasks if it is neccessary\n      console.log('Done');\n      this.setState({\n        isLoading: false\n      });\n    });\n  }\n\n  OnFormChecked(checkedItems) {\n    console.log('Checked forms: ', checkedItems);\n\n    if (checkedItems == null || checkedItems.length <= 0) {\n      Helpers.DisplayWarningMessage(this.notificationSystem, null, 'هیچ فرمی انتخاب نشده است');\n      return;\n    } // var data = {\n    //     RequestId: this.requestId,\n    //     Forms: []\n    // }\n    // checkedItems.map(item => data.Forms.push({\n    //     Id: item,\n    //     Value: isAdding\n    // }));\n    // this.setState({ IsLoading: true });\n    // Helpers.CallServer('/api/FRQST/Request/SaveSelectedRequestForms/',\n    //                     { FormData: data },\n    //                     successfulResponse =>\n    //                     {\n    //                         Helpers.DisplaySuccessMessage(this.notificationSystem, successfulResponse.message);                                \n    //                     },\n    //                     errorResponse => {\n    //                         return HandleError(Helpers, this.notificationSystem, errorResponse);\n    //                     },\n    //                     () =>\n    //                     {\n    //                         this.setState({ IsLoading: false });\n    //                     })\n\n  }\n\n  LoadFormData(item) {\n    if (item == null) return;\n    var requestId = item.value;\n    if (requestId == null || requestId == '') return;\n    this.setState({\n      isLoading: true\n    });\n    Helpers.CallServer('/api/FRQST/Request/GetFilledConfirmedForms', {\n      Id: requestId\n    }, successfulResponse => {\n      console.log('Data: ', successfulResponse);\n      this.setState({\n        TableRows: successfulResponse.data\n      });\n    }, errorResponse => {\n      return HandleError(Helpers, this.notificationSystem, errorResponse);\n    }, () => {\n      // Do tasks if it is neccessary\n      console.log('Done');\n      this.setState({\n        isLoading: false\n      });\n    });\n  }\n\n  render() {\n    return this.state.Requests != null && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(PageMain, {\n        title: \"\\u0641\\u0631\\u0645 \\u0647\\u0627\\u06CC \\u062A\\u0627\\u06CC\\u06CC\\u062F \\u0634\\u062F\\u0647 \\u06AF\\u0630\\u0634\\u062A\\u0647\",\n        icon: \"forms\",\n        isLoading: false,\n        context: this,\n        footerLinks: [{\n          href: \"/\",\n          text: \"صفحه اصلی\"\n        }, {\n          href: \"https://banksepah.ir\",\n          text: \"وب سایت رسمی بانک سپه\"\n        }],\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          context: this,\n          title: \"\\u0627\\u0646\\u062A\\u062E\\u0627\\u0628 \\u0641\\u0631\\u0645 \\u062A\\u0627\\u06CC\\u06CC\\u062F \\u0634\\u062F\\u0647 \\u06AF\\u0630\\u0634\\u062A\\u0647\",\n          submitUrl: \"\",\n          hasBackButton: true //hasDefaultSaveButton={ true }\n          ,\n          statusColor: \"success\" //updateKey={ this.state.updateKey }\n          // onSubmitError={ this.onSubmitError }\n          // onBeforeSubmit={ this.onBeforeSubmit }\n          //onSubmitSuccess={ this.onSubmitSuccess }\n          ,\n          children: [/*#__PURE__*/_jsxDEV(DropDown, {\n            context: this,\n            name: \"requestId\",\n            title: \"\\u062F\\u0631\\u062E\\u0648\\u0627\\u0633\\u062A \\u0647\\u0627\\u06CC \\u062A\\u0627\\u06CC\\u06CC\\u062F \\u0634\\u062F\\u0647\",\n            changeHandler: item => this.LoadFormData(item),\n            options: this.state.Requests\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Table, {\n            headers: [{\n              title: \"نام فرم\",\n              name: \"formName\"\n            }, {\n              title: \"تاریخ اعتبار\",\n              name: \"expirationDate\"\n            }],\n            data: this.state.TableRows,\n            lgCol: 12,\n            minHeightTableWrapper: 200\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(NotificationSystem, {\n        ref: this.notificationSystem\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true);\n  }\n\n}","map":{"version":3,"names":["React","PageMain","Card","DropDown","Table","Helpers","NotificationSystem","GetUrl","HandleError","ApprovedFormData","Component","constructor","props","state","Requests","isLoading","TableRows","notificationSystem","createRef","OnFormChecked","bind","LoadFormData","componentDidMount","CallServer","CustomerNumber","successfulResponse","setState","errorResponse","console","log","checkedItems","length","DisplayWarningMessage","item","requestId","value","Id","data","render","href","text","title","name"],"sources":["D:/Projects/React/AMLS/src/pages/approvedFormData.js"],"sourcesContent":["import React from \"react\";\r\nimport { PageMain, Card, DropDown, Table, Helpers } from \"core\";\r\nimport NotificationSystem from 'react-notification-system'\r\nimport { GetUrl, HandleError } from '../utils/generals';\r\n\r\nexport default class ApprovedFormData extends React.Component\r\n{\r\n    constructor(props)\r\n    {\r\n        super(props);\r\n        this.state = {\r\n            Requests: null,\r\n            isLoading: true,\r\n            TableRows: null\r\n        };\r\n        this.notificationSystem = React.createRef();\r\n\r\n        this.OnFormChecked = this.OnFormChecked.bind(this);\r\n        this.LoadFormData = this.LoadFormData.bind(this);\r\n    }\r\n\r\n    // Events.\r\n    componentDidMount()\r\n    {\r\n        Helpers.CallServer('/api/FRQST/Request/GetLegalCustomerRequests',\r\n                            { CustomerNumber: null, },\r\n                            successfulResponse =>\r\n                            {\r\n                                this.setState({ Requests: successfulResponse });\r\n                            },\r\n                            errorResponse => {\r\n                                return HandleError(Helpers, this.notificationSystem, errorResponse);\r\n                            },\r\n                            () =>\r\n                            {\r\n                                // Do tasks if it is neccessary\r\n                                console.log('Done');\r\n                                this.setState({ isLoading: false });\r\n                            })\r\n    }\r\n\r\n    OnFormChecked(checkedItems)\r\n    {\r\n        console.log('Checked forms: ', checkedItems);\r\n\r\n        if(checkedItems == null || checkedItems.length <= 0)\r\n        {\r\n            Helpers.DisplayWarningMessage(this.notificationSystem, null, 'هیچ فرمی انتخاب نشده است');                                \r\n            return;\r\n        }\r\n        // var data = {\r\n        //     RequestId: this.requestId,\r\n        //     Forms: []\r\n        // }\r\n\r\n        // checkedItems.map(item => data.Forms.push({\r\n        //     Id: item,\r\n        //     Value: isAdding\r\n        // }));\r\n        // this.setState({ IsLoading: true });\r\n        // Helpers.CallServer('/api/FRQST/Request/SaveSelectedRequestForms/',\r\n        //                     { FormData: data },\r\n        //                     successfulResponse =>\r\n        //                     {\r\n        //                         Helpers.DisplaySuccessMessage(this.notificationSystem, successfulResponse.message);                                \r\n        //                     },\r\n        //                     errorResponse => {\r\n        //                         return HandleError(Helpers, this.notificationSystem, errorResponse);\r\n        //                     },\r\n        //                     () =>\r\n        //                     {\r\n        //                         this.setState({ IsLoading: false });\r\n        //                     })\r\n    }\r\n\r\n    LoadFormData(item)\r\n    {\r\n        if(item == null)\r\n            return;\r\n        var requestId = item.value;\r\n\r\n        if(requestId == null || requestId == '')\r\n            return;\r\n        this.setState({ isLoading: true });\r\n        Helpers.CallServer('/api/FRQST/Request/GetFilledConfirmedForms',\r\n                            { Id: requestId },\r\n                            successfulResponse =>\r\n                            {\r\n                                console.log('Data: ', successfulResponse);\r\n                                this.setState({ TableRows: successfulResponse.data });\r\n                            },\r\n                            errorResponse => {\r\n                                return HandleError(Helpers, this.notificationSystem, errorResponse);\r\n                            },\r\n                            () =>\r\n                            {\r\n                                // Do tasks if it is neccessary\r\n                                console.log('Done');\r\n                                this.setState({ isLoading: false });\r\n                            })\r\n\r\n    }\r\n\r\n    render()\r\n    {\r\n        return this.state.Requests != null && <>\r\n                <PageMain\r\n                    title='فرم های تایید شده گذشته'\r\n                    icon=\"forms\"\r\n                    isLoading={ false }\r\n                    context={ this }\r\n                    footerLinks={[\r\n                    { href: \"/\", text: \"صفحه اصلی\" },\r\n                    { href: \"https://banksepah.ir\", text: \"وب سایت رسمی بانک سپه\" },\r\n                    ]}>\r\n                        <Card context={ this }\r\n                            title=\"انتخاب فرم تایید شده گذشته\"\r\n                            submitUrl=''\r\n                            hasBackButton\r\n                            //hasDefaultSaveButton={ true }\r\n                            statusColor=\"success\"\r\n                            //updateKey={ this.state.updateKey }\r\n                            // onSubmitError={ this.onSubmitError }\r\n                            // onBeforeSubmit={ this.onBeforeSubmit }\r\n                            //onSubmitSuccess={ this.onSubmitSuccess }\r\n                            >\r\n                            <DropDown\r\n                                context={ this }\r\n                                name=\"requestId\"\r\n                                title=\"درخواست های تایید شده\"   \r\n                                changeHandler={ (item) => this.LoadFormData(item) }\r\n                                options={ this.state.Requests } />\r\n                            <Table\r\n                                headers={[\r\n                                    { title: \"نام فرم\", name: \"formName\" },\r\n                                    { title: \"تاریخ اعتبار\", name: \"expirationDate\" }\r\n                                ]}\r\n                                data={ this.state.TableRows }\r\n                                lgCol={ 12 }\r\n                                minHeightTableWrapper={ 200 } />\r\n                            </Card>\r\n                </PageMain>\r\n                <NotificationSystem ref={ this.notificationSystem } />\r\n                </>\r\n    }\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}