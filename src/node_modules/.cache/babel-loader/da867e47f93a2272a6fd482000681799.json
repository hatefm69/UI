{"ast":null,"code":"var _jsxFileName = \"D:\\\\Projects\\\\React\\\\AMLS\\\\src\\\\sections\\\\personelRegionSection.js\";\nimport React from \"react\";\nimport { Card, AutoComplete, Helpers } from \"core\";\nimport NotificationSystem from 'react-notification-system';\nimport { HandleError } from '../utils/generals';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default class PersonelRegionSection extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      personelName: null,\n      regionName: null,\n      updateKey: 1,\n      personelCode: this.props.personRegionData == null ? null : this.props.personRegionData.personelCode,\n      regionCode: this.props.personRegionData == null ? null : this.props.personRegionData.regionCode,\n      Id: this.props.personRegionData == null ? null : this.props.personRegionData.id\n    };\n    this.notificationSystem = /*#__PURE__*/React.createRef();\n    this.OnPersonelSelected = this.OnPersonelSelected.bind(this);\n    this.OnRegionSelected = this.OnRegionSelected.bind(this);\n    this.onSubmitError = this.onSubmitError.bind(this);\n    this.onSubmitSuccess = this.onSubmitSuccess.bind(this);\n    this.onBeforeSubmit = this.onBeforeSubmit.bind(this);\n  } // Events.\n\n\n  OnPersonelSelected(item) {\n    this.setState({\n      personelName: item.label\n    });\n  }\n\n  OnRegionSelected(item) {\n    this.setState({\n      regionName: item.label\n    });\n  }\n\n  onSubmitError(errorResponse) {\n    return HandleError(Helpers, this.notificationSystem, errorResponse);\n  }\n\n  onBeforeSubmit() {\n    if (this.props.personRegionData != null && this.props.personRegionData.personelCode == this.state[\"personelCode\"] && this.props.personRegionData.regionCode == this.state[\"regionCode\"]) {\n      Helpers.DisplayWarningMessage(this.notificationSystem, null, 'اطلاعات پرسنل / منطقه تکراری می باشد');\n      return false;\n    }\n\n    return true;\n  }\n\n  onSubmitSuccess() {\n    if (this.props.personRegionData == null) this.setState({\n      personelCode: null,\n      personelName: null,\n      regionCode: null,\n      regionName: null,\n      updateKey: this.state.updateKey + 1\n    });\n    Helpers.DisplaySuccessMessage(this.notificationSystem, 'در خواست با موفقیت مختومه شد');\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Card, {\n        context: this,\n        title: \"\\u062B\\u0628\\u062A \\u067E\\u0631\\u0633\\u0646\\u0644 / \\u0645\\u0646\\u0637\\u0642\\u0647\",\n        hasDefaultSaveButton: true,\n        statusColor: \"success\",\n        notificationSystem: this.notificationSystem,\n        submitUrl: this.props.personRegionData == null ? '/api/FRQST/PersonelRegion/SavePersonelRegion' : '/api/FRQST/PersonelRegion/EditPersonelRegion',\n        onSubmitError: this.onSubmitError,\n        onBeforeSubmit: this.onBeforeSubmit,\n        onSubmitSuccess: this.onSubmitSuccess,\n        updateKey: this.state.updateKey,\n        children: [/*#__PURE__*/_jsxDEV(AutoComplete, {\n          context: this,\n          name: \"personelCode\",\n          title: \"\\u067E\\u0631\\u0633\\u0646\\u0644\",\n          required: true,\n          notificationSystem: this.notificationSystem,\n          remoteUrl: \"/api/FRQST/PersonelRegion/SearchPersonels\",\n          changeHandler: this.OnPersonelSelected,\n          externalData: this.props.personRegionData == null ? [] : [{\n            label: this.props.personRegionData.personelName,\n            value: this.props.personRegionData.personelCode\n          }]\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(AutoComplete, {\n          context: this,\n          name: \"regionCode\",\n          title: \"\\u0645\\u0646\\u0637\\u0642\\u0647\",\n          required: true,\n          notificationSystem: this.notificationSystem,\n          changeHandler: this.OnRegionSelected,\n          remoteUrl: \"/api/FRQST/PersonelRegion/SearchRegions\",\n          externalData: this.props.personRegionData == null ? [] : [{\n            label: this.props.personRegionData.regionName,\n            value: this.props.personRegionData.regionCode\n          }]\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(NotificationSystem, {\n        ref: this.notificationSystem\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true);\n  }\n\n}","map":{"version":3,"names":["React","Card","AutoComplete","Helpers","NotificationSystem","HandleError","PersonelRegionSection","Component","constructor","props","state","personelName","regionName","updateKey","personelCode","personRegionData","regionCode","Id","id","notificationSystem","createRef","OnPersonelSelected","bind","OnRegionSelected","onSubmitError","onSubmitSuccess","onBeforeSubmit","item","setState","label","errorResponse","DisplayWarningMessage","DisplaySuccessMessage","render","value"],"sources":["D:/Projects/React/AMLS/src/sections/personelRegionSection.js"],"sourcesContent":["import React from \"react\"\r\nimport { Card, AutoComplete, Helpers } from \"core\"\r\nimport NotificationSystem from 'react-notification-system'\r\nimport { HandleError } from '../utils/generals'\r\n\r\nexport default class PersonelRegionSection extends React.Component\r\n{\r\n    constructor(props)\r\n    {\r\n        super(props);\r\n        this.state = {\r\n            personelName: null,\r\n            regionName: null,\r\n            updateKey: 1,\r\n            personelCode: (this.props.personRegionData == null ? null : this.props.personRegionData.personelCode),\r\n            regionCode: (this.props.personRegionData == null ? null : this.props.personRegionData.regionCode),\r\n            Id: (this.props.personRegionData == null ? null : this.props.personRegionData.id)\r\n        };\r\n        this.notificationSystem = React.createRef();\r\n\r\n        this.OnPersonelSelected = this.OnPersonelSelected.bind(this);\r\n        this.OnRegionSelected = this.OnRegionSelected.bind(this);\r\n        this.onSubmitError = this.onSubmitError.bind(this);\r\n        this.onSubmitSuccess = this.onSubmitSuccess.bind(this);\r\n        this.onBeforeSubmit = this.onBeforeSubmit.bind(this);\r\n    }\r\n\r\n    // Events.\r\n    OnPersonelSelected(item)\r\n    {\r\n        this.setState({ personelName: item.label });\r\n    }\r\n\r\n    OnRegionSelected(item)\r\n    {\r\n        this.setState({ regionName: item.label });\r\n    }\r\n\r\n    onSubmitError(errorResponse)\r\n    {\r\n        return HandleError(Helpers, this.notificationSystem, errorResponse);\r\n    }\r\n\r\n    onBeforeSubmit() {\r\n        if(this.props.personRegionData != null && this.props.personRegionData.personelCode == this.state[\"personelCode\"] && this.props.personRegionData.regionCode == this.state[\"regionCode\"])\r\n        {\r\n            Helpers.DisplayWarningMessage(this.notificationSystem, null, 'اطلاعات پرسنل / منطقه تکراری می باشد');\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n\r\n    onSubmitSuccess()\r\n    {\r\n        if(this.props.personRegionData == null)\r\n            this.setState({\r\n                personelCode: null,\r\n                personelName: null,\r\n                regionCode: null,\r\n                regionName: null,\r\n                updateKey: this.state.updateKey + 1\r\n            });\r\n        Helpers.DisplaySuccessMessage(this.notificationSystem, 'در خواست با موفقیت مختومه شد');\r\n    }\r\n\r\n    render()\r\n    {\r\n        return (\r\n            <>\r\n                <Card context={ this }\r\n                      title=\"ثبت پرسنل / منطقه\"\r\n                      hasDefaultSaveButton={ true }\r\n                      statusColor=\"success\"\r\n                      notificationSystem={ this.notificationSystem }\r\n                      submitUrl={ this.props.personRegionData == null\r\n                        ? '/api/FRQST/PersonelRegion/SavePersonelRegion'\r\n                        : '/api/FRQST/PersonelRegion/EditPersonelRegion' }\r\n                      onSubmitError={ this.onSubmitError }\r\n                      onBeforeSubmit={ this.onBeforeSubmit }\r\n                      onSubmitSuccess={ this.onSubmitSuccess }\r\n                      updateKey={ this.state.updateKey }>\r\n                    <AutoComplete context={ this }\r\n                                    name=\"personelCode\"\r\n                                    title=\"پرسنل\"\r\n                                    required\r\n                                    notificationSystem={ this.notificationSystem }\r\n                                    remoteUrl=\"/api/FRQST/PersonelRegion/SearchPersonels\"\r\n                                    changeHandler={ this.OnPersonelSelected }\r\n                                    externalData={ this.props.personRegionData == null\r\n                                        ? []\r\n                                        : [{\r\n                                            label: this.props.personRegionData.personelName,\r\n                                            value: this.props.personRegionData.personelCode\r\n                                           }]} />\r\n                    <AutoComplete context={ this }\r\n                                    name=\"regionCode\"\r\n                                    title=\"منطقه\"\r\n                                    required\r\n                                    notificationSystem={ this.notificationSystem }\r\n                                    changeHandler={ this.OnRegionSelected }\r\n                                    remoteUrl=\"/api/FRQST/PersonelRegion/SearchRegions\"\r\n                                    externalData={ this.props.personRegionData == null\r\n                                        ? []\r\n                                        : [{\r\n                                            label: this.props.personRegionData.regionName,\r\n                                            value: this.props.personRegionData.regionCode\r\n                                           }]} />\r\n                </Card>\r\n                <NotificationSystem ref={ this.notificationSystem } />\r\n            </>\r\n        );\r\n    }\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}