{"ast":null,"code":"import _classCallCheck from\"D:/Projects/React/AMLS/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"D:/Projects/React/AMLS/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _assertThisInitialized from\"D:/Projects/React/AMLS/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";import _inherits from\"D:/Projects/React/AMLS/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"D:/Projects/React/AMLS/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import{Component}from\"react\";import React from\"react\";import{PageMain,Helpers}from\"core\";import NotificationSystem from\"react-notification-system\";import PersonInfSection from'../../sections/personInfSection';import{GetUrl,HandleError,GetDropDownValues,DownloadBlobFile}from\"../../utils/generals\";import Constants from'../../utils/constants';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var PersonInfAddPage=/*#__PURE__*/function(_Component){_inherits(PersonInfAddPage,_Component);var _super=_createSuper(PersonInfAddPage);function PersonInfAddPage(props){var _this;_classCallCheck(this,PersonInfAddPage);_this=_super.call(this,props);_this.state={isLoading:true,dropDowns:null};_this.notificationSystem=/*#__PURE__*/React.createRef();_this.downloadPersonInfoReport=_this.downloadPersonInfoReport.bind(_assertThisInitialized(_this));return _this;}// Events.\n_createClass(PersonInfAddPage,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;Helpers.CallServer('/api/amls/PersonInfo/GetAddPageData',{},function(successfulResponse){_this2.setState({dropDowns:{states:GetDropDownValues(Constants.DropDowns.PersonStateId,successfulResponse.data),personTypes:GetDropDownValues(Constants.DropDowns.PersonTypeId,successfulResponse.data),personNationalities:GetDropDownValues(Constants.DropDowns.PersonNationalityId,successfulResponse.data)}});},function(errorResponse){return HandleError(Helpers,_this2.notificationSystem,errorResponse);},function(){_this2.setState({isLoading:false});},'GET');}},{key:\"downloadPersonInfoReport\",value:function downloadPersonInfoReport(){var _this3=this;this.setState({isLoading:true});Helpers.CallServer(\"/api/amls/PersonInfo/PersonInfoReport\",{},function(successfulResponse){return DownloadBlobFile(successfulResponse,\"Person Info Report.xlsx\");},function(errorResponse){return HandleError(Helpers,_this3.notificationSystem,errorResponse);},function(){return _this3.setState({isLoading:false});},'GET','blob');}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(PageMain,{title:\"\\u0627\\u0641\\u0632\\u0648\\u062F\\u0646 \\u0627\\u0637\\u0644\\u0627\\u0639\\u0627\\u062A \\u0634\\u062E\\u0635\",icon:\"user-plus\",footerLinks:[{href:\"/\",text:\"صفحه اصلی\"}],isLoading:this.state.isLoading,topButtons:[{title:\"لیست اشخاص\",url:GetUrl(\"personInfListPage\"),color:\"outline-primary\",icon:\"users\"},{title:\"دانلود نمونه فایل\",url:this.downloadPersonInfoReport,color:\"outline-success\",icon:\"notebook\"}],children:this.state.dropDowns&&/*#__PURE__*/_jsx(PersonInfSection,{record:null,dropDowns:this.state.dropDowns})}),/*#__PURE__*/_jsx(NotificationSystem,{ref:this.notificationSystem})]});}}]);return PersonInfAddPage;}(Component);export{PersonInfAddPage as default};","map":null,"metadata":{},"sourceType":"module"}