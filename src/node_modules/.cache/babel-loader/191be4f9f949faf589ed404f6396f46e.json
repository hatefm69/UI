{"ast":null,"code":"var _jsxFileName = \"D:\\\\Projects\\\\React\\\\AMLS\\\\src\\\\sections\\\\closingRequestSection.js\";\nimport React from \"react\";\nimport { Card, TextBox, Helpers } from \"core\";\nimport NotificationSystem from 'react-notification-system';\nimport { GetUrl, HandleError } from '../utils/generals';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default class ClosingRequestSection extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      ShowSaveButton: this.props.closedRequestData == null,\n      CloseRequest: {\n        RequestId: this.props.requestId,\n        RequestInfo: {\n          LoanPrice: null,\n          Comment: null\n        }\n      }\n    };\n    this.notificationSystem = /*#__PURE__*/React.createRef();\n    this.onSubmitError = this.onSubmitError.bind(this);\n    this.onBeforeSubmit = this.onBeforeSubmit.bind(this);\n    this.onSubmitSuccess = this.onSubmitSuccess.bind(this);\n  } // Events.\n\n\n  onSubmitError(errorResponse) {\n    return HandleError(Helpers, this.notificationSystem, errorResponse);\n  }\n\n  onBeforeSubmit() {\n    var closeRequest = this.state.CloseRequest;\n    closeRequest.RequestInfo.LoanPrice = this.state['loanPrice'];\n    closeRequest.RequestInfo.Comment = this.state['comment'];\n    this.setState({\n      CloseRequest: closeRequest\n    });\n    return true;\n  }\n\n  onSubmitSuccess() {\n    Helpers.DisplaySuccessMessage(this.notificationSystem, 'در خواست با موفقیت مختومه شد');\n    this.setState({\n      ShowSaveButton: false\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Card, {\n        context: this,\n        title: \"\\u062C\\u0632\\u0626\\u06CC\\u0627\\u062A \\u0645\\u062E\\u062A\\u0648\\u0645\\u0647 \\u06A9\\u0631\\u062F\\u0646 \\u062F\\u0631\\u062E\\u0648\\u0627\\u0633\\u062A \\u0647\\u0627\",\n        submitUrl: this.props.closedRequestData == null ? '/api/FRQST/Request/CloseRequest' : null,\n        hasBackButton: true,\n        hasDefaultSaveButton: this.state.ShowSaveButton,\n        statusColor: \"success\",\n        notificationSystem: this.notificationSystem,\n        submitFields: \"CloseRequest\",\n        onSubmitError: this.onSubmitError,\n        onBeforeSubmit: this.onBeforeSubmit,\n        onSubmitSuccess: this.onSubmitSuccess,\n        children: [/*#__PURE__*/_jsxDEV(TextBox, {\n          context: this,\n          name: \"requestName\",\n          readOnly: true,\n          initialValue: this.props.requestName,\n          title: \"\\u0646\\u0627\\u0645 \\u062F\\u0631\\u062E\\u0648\\u0627\\u0633\\u062A\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(TextBox, {\n          context: this,\n          name: \"loanPrice\",\n          maxLength: 11,\n          minLength: 1,\n          initialValue: this.props.closedRequestData == null ? null : this.props.closedRequestData.loanPrice,\n          readOnly: this.props.closedRequestData != null,\n          validateHandler: Helpers.NumberTypeValidator,\n          commaSeparated: true,\n          title: \"\\u0645\\u0628\\u0644\\u063A \\u062A\\u0633\\u0647\\u06CC\\u0644\\u0627\\u062A\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(TextBox, {\n          context: this,\n          name: \"comment\",\n          maxLength: 512,\n          minLength: 1,\n          validateHandler: Helpers.MinMaxLengthValidator,\n          initialValue: this.props.closedRequestData == null ? null : this.props.closedRequestData.comment,\n          readOnly: this.props.closedRequestData != null,\n          multiline: true,\n          lgCol: 12,\n          mdCol: 12,\n          title: \"\\u062A\\u0648\\u0636\\u06CC\\u062D\\u0627\\u062A\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(NotificationSystem, {\n        ref: this.notificationSystem\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true);\n  }\n\n}","map":{"version":3,"names":["React","Card","TextBox","Helpers","NotificationSystem","GetUrl","HandleError","ClosingRequestSection","Component","constructor","props","state","ShowSaveButton","closedRequestData","CloseRequest","RequestId","requestId","RequestInfo","LoanPrice","Comment","notificationSystem","createRef","onSubmitError","bind","onBeforeSubmit","onSubmitSuccess","errorResponse","closeRequest","setState","DisplaySuccessMessage","render","requestName","loanPrice","NumberTypeValidator","MinMaxLengthValidator","comment"],"sources":["D:/Projects/React/AMLS/src/sections/closingRequestSection.js"],"sourcesContent":["import React from \"react\";\r\nimport { Card, TextBox, Helpers } from \"core\";\r\nimport NotificationSystem from 'react-notification-system'\r\nimport { GetUrl, HandleError } from '../utils/generals'\r\n\r\nexport default class ClosingRequestSection extends React.Component\r\n{\r\n    constructor(props)\r\n    {\r\n        super(props);\r\n        this.state = {\r\n            ShowSaveButton: this.props.closedRequestData == null,\r\n            CloseRequest: {\r\n                RequestId: this.props.requestId,\r\n                RequestInfo: {\r\n                    LoanPrice: null,\r\n                    Comment: null\r\n                }\r\n            }\r\n        };\r\n        this.notificationSystem = React.createRef();\r\n\r\n        this.onSubmitError = this.onSubmitError.bind(this);\r\n        this.onBeforeSubmit = this.onBeforeSubmit.bind(this);\r\n        this.onSubmitSuccess = this.onSubmitSuccess.bind(this);\r\n    }\r\n\r\n    // Events.\r\n    onSubmitError(errorResponse)\r\n    {\r\n        return HandleError(Helpers, this.notificationSystem, errorResponse);\r\n    }\r\n\r\n    onBeforeSubmit()\r\n    {\r\n        var closeRequest = this.state.CloseRequest;\r\n\r\n        closeRequest.RequestInfo.LoanPrice = this.state['loanPrice'];\r\n        closeRequest.RequestInfo.Comment = this.state['comment'];\r\n        this.setState({ CloseRequest: closeRequest });\r\n        return true;\r\n    }\r\n\r\n    onSubmitSuccess()\r\n    {\r\n        Helpers.DisplaySuccessMessage(this.notificationSystem, 'در خواست با موفقیت مختومه شد');\r\n        this.setState({\r\n            ShowSaveButton: false\r\n        });\r\n    }\r\n\r\n    render()\r\n    {\r\n        return <>\r\n                <Card context={ this }\r\n                    title=\"جزئیات مختومه کردن درخواست ها\"\r\n                    submitUrl={ this.props.closedRequestData == null\r\n                        ? '/api/FRQST/Request/CloseRequest'\r\n                        : null }\r\n                    hasBackButton\r\n                    hasDefaultSaveButton={ this.state.ShowSaveButton }\r\n                    statusColor=\"success\"\r\n                    notificationSystem={ this.notificationSystem }\r\n                    submitFields=\"CloseRequest\"\r\n                    onSubmitError={ this.onSubmitError }\r\n                    onBeforeSubmit={ this.onBeforeSubmit }\r\n                    onSubmitSuccess={ this.onSubmitSuccess }>\r\n\r\n                    <TextBox\r\n                        context={ this }\r\n                        name=\"requestName\"\r\n                        readOnly={ true }\r\n                        initialValue={ this.props.requestName }\r\n                        title=\"نام درخواست\" />\r\n\r\n                    <TextBox\r\n                        context={ this }\r\n                        name=\"loanPrice\"\r\n                        maxLength={ 11 }\r\n                        minLength={ 1 }\r\n                        initialValue={ this.props.closedRequestData == null ? null : this.props.closedRequestData.loanPrice }\r\n                        readOnly={ this.props.closedRequestData != null }\r\n                        validateHandler={ Helpers.NumberTypeValidator }\r\n                        commaSeparated={ true }\r\n                        title=\"مبلغ تسهیلات\" />\r\n\r\n                    <TextBox\r\n                        context={ this }\r\n                        name=\"comment\"\r\n                        maxLength={ 512 }\r\n                        minLength={ 1 }\r\n                        validateHandler={ Helpers.MinMaxLengthValidator }\r\n                        initialValue={ this.props.closedRequestData == null ? null : this.props.closedRequestData.comment }\r\n                        readOnly={ this.props.closedRequestData != null }\r\n                        multiline={ true }\r\n                        lgCol={ 12 }\r\n                        mdCol={ 12 }\r\n                        title=\"توضیحات\" />\r\n\r\n                    </Card>\r\n                <NotificationSystem ref={ this.notificationSystem } />\r\n            </>;\r\n    }\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}