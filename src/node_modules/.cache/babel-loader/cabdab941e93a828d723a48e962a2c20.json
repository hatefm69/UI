{"ast":null,"code":"var _jsxFileName = \"D:\\\\Projects\\\\React\\\\AMLS\\\\src\\\\sections\\\\customerActivityLevelSection.js\";\nimport { Component } from \"react\";\nimport React from \"react\";\nimport { Card, DropDown, Helpers, DatePicker, TextBox, Delimiter, AutoComplete } from \"core\";\nimport NotificationSystem from \"react-notification-system\";\nimport { HandleError } from \"../utils/generals\";\nimport Constants from \"../utils/constants\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default class CustomerActivityLevelSection extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      controls: null\n    };\n    this.notificationSystem = /*#__PURE__*/React.createRef();\n    this.onPersonTypeSelected = this.onPersonTypeSelected.bind(this);\n  }\n\n  GetRealPersonControls() {\n    var controls = [];\n    controls.push( /*#__PURE__*/_jsxDEV(DropDown, {\n      context: this,\n      name: \"jobTypeId\",\n      title: \"\\u0648\\u0636\\u0639\\u06CC\\u062A \\u0627\\u0634\\u062A\\u063A\\u0627\\u0644\",\n      options: [],\n      required: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 23\n    }, this));\n    controls.push( /*#__PURE__*/_jsxDEV(AutoComplete, {\n      context: this,\n      name: \"jobId\",\n      title: \"\\u0634\\u063A\\u0644\",\n      notificationSystem: this.notificationSystem,\n      required: true,\n      remoteUrl: \"/api/amls//\",\n      externalData: this.props.record == null ? [] : [{\n        label: this.props.record.regionName,\n        value: this.props.record.regionCode\n      }]\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 23\n    }, this));\n    return controls;\n  }\n\n  GetLegalPersonControls() {\n    var controls = [];\n    controls.push( /*#__PURE__*/_jsxDEV(DropDown, {\n      context: this,\n      name: \"taxStateId\",\n      title: \"\\u0648\\u0636\\u0639\\u06CC\\u062A \\u0645\\u0627\\u0644\\u06CC\\u0627\\u062A\",\n      options: [],\n      required: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 23\n    }, this));\n    controls.push( /*#__PURE__*/_jsxDEV(AutoComplete, {\n      context: this,\n      name: \"guildId\",\n      title: \"\\u0635\\u0646\\u0641\",\n      notificationSystem: this.notificationSystem,\n      required: true,\n      remoteUrl: \"/api/amls//\",\n      externalData: this.props.record == null ? [] : [{\n        label: this.props.record.regionName,\n        value: this.props.record.regionCode\n      }]\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 23\n    }, this));\n    return controls;\n  } // Events.\n\n\n  onPersonTypeSelected(item) {\n    if (item == null || item.value == null || item.value == \"\") {\n      this.setState({\n        controls: null\n      });\n      return;\n    }\n\n    var personTypeId = item.value;\n    var controls = null;\n\n    switch (personTypeId) {\n      case Constants.PersonTypes.Real:\n        controls = GetRealPersonControls();\n        break;\n\n      case Constants.PersonTypes.Legal:\n        controls = GetLegalPersonControls();\n        break;\n\n      default:\n        break;\n    }\n\n    this.setState({\n      controls: controls\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Card, {\n        context: this,\n        title: this.props.record == null ? \"جزئیات افزودن سطح فعالیت مشتری\" : \"جزئیات ویرایش سطح فعالیت مشتری\",\n        name: \"crdCustomer\",\n        statusColor: \"primary\",\n        hasDefaultSaveButton: true,\n        submitUrl: this.props.record == null ? \"/api/amls//\" : \"/api/amls//\",\n        hasBackButton: true,\n        icon: \"user-circle\",\n        onSubmitError: error => HandleError(Helpers, this.notificationSystem, error),\n        onBeforeSubmit: this.onBeforeSubmit,\n        onSubmitSuccess: this.onSubmitSuccess,\n        updateKey: this.state.updateKey,\n        children: [/*#__PURE__*/_jsxDEV(DatePicker, {\n          context: this,\n          name: \"expirationDateFrom\",\n          title: \"\\u062A\\u0627\\u0631\\u06CC\\u062E \\u0627\\u0639\\u062A\\u0628\\u0627\\u0631 \\u0627\\u0632\",\n          useEpoch: true,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(TextBox, {\n          context: this,\n          name: \"allowedActivityLevel\",\n          title: \"\\u0633\\u0637\\u062D \\u0641\\u0639\\u0627\\u0644\\u06CC\\u062A \\u0645\\u062C\\u0627\\u0632\",\n          required: true,\n          commaSeparated: true,\n          minLength: 1,\n          maxLength: 15,\n          validateHandler: [Helpers.NumberCommaSeparated, Helpers.NumberTypeValidator, Helpers.MinMaxLengthValidator],\n          leftText: \"\\u0631\\u06CC\\u0627\\u0644\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(TextBox, {\n          context: this,\n          name: \"allowedLevelAboveActivityLevelPercent\",\n          title: \"\\u0633\\u0637\\u062D \\u0645\\u062C\\u0627\\u0632 \\u0628\\u0627\\u0644\\u0627\\u062A\\u0631 \\u0627\\u0632 \\u0633\\u0637\\u062D \\u0641\\u0639\\u0627\\u0644\\u06CC\\u062A\",\n          minLength: 1,\n          maxLength: 3,\n          required: true,\n          validateHandler: [Helpers.MinMaxLengthValidator, Helpers.NumberTypeValidator],\n          leftIcon: \"percentage\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(DropDown, {\n          context: this,\n          name: \"personTypeId\",\n          title: \"\\u0646\\u0648\\u0639 \\u0634\\u062E\\u0635\",\n          options: this.props.perosnTypes,\n          required: true,\n          changeHandler: this.onPersonTypeSelected\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Delimiter, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 21\n        }, this), this.state.controls]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(NotificationSystem, {\n        ref: this.notificationSystem\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true);\n  }\n\n}","map":{"version":3,"names":["Component","React","Card","DropDown","Helpers","DatePicker","TextBox","Delimiter","AutoComplete","NotificationSystem","HandleError","Constants","CustomerActivityLevelSection","constructor","props","state","controls","notificationSystem","createRef","onPersonTypeSelected","bind","GetRealPersonControls","push","record","label","regionName","value","regionCode","GetLegalPersonControls","item","setState","personTypeId","PersonTypes","Real","Legal","render","error","onBeforeSubmit","onSubmitSuccess","updateKey","NumberCommaSeparated","NumberTypeValidator","MinMaxLengthValidator","perosnTypes"],"sources":["D:/Projects/React/AMLS/src/sections/customerActivityLevelSection.js"],"sourcesContent":["import { Component } from \"react\";\r\nimport React from \"react\";\r\nimport { Card, DropDown, Helpers, DatePicker, TextBox, Delimiter, AutoComplete } from \"core\";\r\nimport NotificationSystem from \"react-notification-system\";\r\nimport { HandleError } from \"../utils/generals\"\r\nimport Constants from \"../utils/constants\"\r\n\r\nexport default class CustomerActivityLevelSection extends Component\r\n{\r\n    constructor(props)\r\n    {\r\n        super(props);\r\n\r\n        this.state = {\r\n            controls: null\r\n        };\r\n\r\n        this.notificationSystem = React.createRef();\r\n\r\n        this.onPersonTypeSelected = this.onPersonTypeSelected.bind(this);\r\n    }\r\n\r\n    GetRealPersonControls()\r\n    {\r\n        var controls  = [];\r\n\r\n        controls.push(<DropDown context={ this } name=\"jobTypeId\" title=\"وضعیت اشتغال\" options={ [] } required />);\r\n        controls.push(<AutoComplete context={ this } name=\"jobId\" title=\"شغل\" notificationSystem={ this.notificationSystem } required\r\n                        remoteUrl=\"/api/amls//\"\r\n                        externalData={ this.props.record == null\r\n                            ? []\r\n                            : [{\r\n                                label: this.props.record.regionName,\r\n                                value: this.props.record.regionCode\r\n                            }]} />);\r\n\r\n        return controls;\r\n    }\r\n\r\n    GetLegalPersonControls()\r\n    {\r\n        var controls  = [];\r\n\r\n        controls.push(<DropDown context={ this } name=\"taxStateId\" title=\"وضعیت مالیات\" options={ [] } required />);\r\n        controls.push(<AutoComplete context={ this } name=\"guildId\" title=\"صنف\" notificationSystem={ this.notificationSystem } required\r\n                        remoteUrl=\"/api/amls//\"\r\n                        externalData={ this.props.record == null\r\n                            ? []\r\n                            : [{\r\n                                label: this.props.record.regionName,\r\n                                value: this.props.record.regionCode\r\n                            }]} />);\r\n\r\n        return controls;\r\n    }\r\n\r\n    // Events.\r\n    onPersonTypeSelected(item)\r\n    {\r\n        if(item == null || item.value == null || item.value == \"\")\r\n        {\r\n            this.setState({ controls: null });\r\n            return;\r\n        }\r\n        var personTypeId = item.value;\r\n        var controls = null;\r\n\r\n        switch(personTypeId)\r\n        {\r\n            case Constants.PersonTypes.Real:\r\n                controls = GetRealPersonControls();\r\n            break;\r\n            case Constants.PersonTypes.Legal:\r\n                controls = GetLegalPersonControls();\r\n            break;\r\n            default:\r\n\r\n            break;\r\n        }\r\n        this.setState({\r\n            controls: controls\r\n        });\r\n    }\r\n\r\n    render()\r\n    {\r\n        return (\r\n            <>\r\n                <Card context={ this } title={ this.props.record == null ? \"جزئیات افزودن سطح فعالیت مشتری\" : \"جزئیات ویرایش سطح فعالیت مشتری\" } name=\"crdCustomer\"\r\n                    statusColor=\"primary\" hasDefaultSaveButton submitUrl={ this.props.record == null ? \"/api/amls//\" : \"/api/amls//\" }\r\n                    hasBackButton icon=\"user-circle\" onSubmitError={(error) => HandleError(Helpers, this.notificationSystem, error)}\r\n                    onBeforeSubmit={ this.onBeforeSubmit } onSubmitSuccess={ this.onSubmitSuccess } updateKey={ this.state.updateKey }>\r\n\r\n                    <DatePicker context={ this } name=\"expirationDateFrom\" title=\"تاریخ اعتبار از\" useEpoch required />\r\n                    <TextBox context={ this } name=\"allowedActivityLevel\" title=\"سطح فعالیت مجاز\" required commaSeparated minLength={ 1 } maxLength={ 15 }\r\n                        validateHandler={[ Helpers.NumberCommaSeparated, Helpers.NumberTypeValidator, Helpers.MinMaxLengthValidator ]} leftText=\"ریال\" />\r\n                    <TextBox context={ this } name=\"allowedLevelAboveActivityLevelPercent\" title=\"سطح مجاز بالاتر از سطح فعالیت\" minLength={ 1 } maxLength={ 3 } required\r\n                        validateHandler={[ Helpers.MinMaxLengthValidator, Helpers.NumberTypeValidator ]} leftIcon=\"percentage\" />\r\n                    <DropDown context={ this } name=\"personTypeId\" title=\"نوع شخص\" options={ this.props.perosnTypes } required\r\n                        changeHandler={ this.onPersonTypeSelected }  />\r\n                    <Delimiter></Delimiter>\r\n                    { this.state.controls }\r\n                    \r\n\r\n                </Card>\r\n                <NotificationSystem ref={ this.notificationSystem } />\r\n            </>\r\n        );\r\n    }\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}