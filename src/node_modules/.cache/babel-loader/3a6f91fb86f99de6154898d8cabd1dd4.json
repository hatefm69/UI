{"ast":null,"code":"import _classCallCheck from\"D:/Projects/React/CMI/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"D:/Projects/React/CMI/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"D:/Projects/React/CMI/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"D:/Projects/React/CMI/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import{PageMain,SimpleGrid}from\"core\";import React,{Component}from\"react\";import NotificationSystem from\"react-notification-system\";import{MinGridHeight}from\"../../../utils/constants\";import{GetUrl}from\"../../../utils/generals\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var CalendarSettingListPage=/*#__PURE__*/function(_Component){_inherits(CalendarSettingListPage,_Component);var _super=_createSuper(CalendarSettingListPage);function CalendarSettingListPage(props){var _this;_classCallCheck(this,CalendarSettingListPage);_this=_super.call(this,props);_this.downloadExcel=function(){_this.setState({isLoading:true});Helpers.CallServer(\"/api/eld/Holiday/GetExcelFileByYear/\"+_this.state.year,{},function(response){downloadBlobFile(response,\"روزهای تعطیل سال \"+_this.state.year+\".xlsx\");},function(error){return HandleError(Helpers,_this.notificationSystem,error);},function(){return _this.setState({isLoading:false});},\"POST\",\"blob\");};_this.state={yearOptions:[],updateKey:1};_this.pageInfo={title:\"لیست تعطیلات سالیانه\",icon:\"list-search\"};_this.notificationSystem=/*#__PURE__*/React.createRef();return _this;}_createClass(CalendarSettingListPage,[{key:\"componentDidMount\",value:function componentDidMount(){var yearOptions=[];for(var index=1404;index<1431;index++){yearOptions.push({title:index,value:index,label:index});}this.setState({yearOptions:yearOptions,updateKey:this.state.updateKey+1});}},{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(PageMain,{title:this.pageInfo.title,icon:this.pageInfo.icon,isLoading:this.state.isLoading,topButtons:[{title:\"افزودن تعطیلات سالیانه\",url:GetUrl(\"calendarSettingPage\"),color:\"outline-primary\",icon:\"circle-plus\"}],footerLinks:[{href:\"/\",text:\"صفحه اصلی\"}],children:/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:/*#__PURE__*/_jsx(SimpleGrid,{context:this,dataKey:\"id\",minHeightTableWrapper:MinGridHeight,filterBgColor:\"primary\",name:\"calendarSettingGrid\",title:\" \\u0641\\u0647\\u0631\\u0633\\u062A \\u062A\\u0639\\u0637\\u06CC\\u0644\\u0627\\u062A \\u0633\\u0627\\u0644\\u06CC\\u0627\\u0646\\u0647\",listApiUrl:\"/api/cmi/CalendarSetting/GetList\",isFilterCollapsed:false,enableAutoFetch:true,hideExportButton:true,notificationSystem:this.notificationSystem,headers:[{title:\"سال\",name:\"year\"}],filterOptions:[{type:\"select\",name:\"year\",title:\"سال\",selectOptions:this.state.yearOptions}],moreInfoLinks:[{title:\"دانلود فایل\",icon:\"download\",func:function func(e){return _this2.onDownloadFile(e);},style:\"small\"}]},this.state.updateKey)})})}),/*#__PURE__*/_jsx(NotificationSystem,{ref:this.notificationSystem})]});}}]);return CalendarSettingListPage;}(Component);export{CalendarSettingListPage as default};","map":null,"metadata":{},"sourceType":"module"}