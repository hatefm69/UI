{"ast":null,"code":"var _jsxFileName = \"D:\\\\Projects\\\\React\\\\AMLS\\\\src\\\\pages\\\\basePage\\\\formVariableRefferenceDataPage.js\";\nimport React from 'react';\nimport { PageMain, Card, DropDown, Helpers, Table, TextBox } from \"core\";\nimport NotificationSystem from 'react-notification-system';\nimport { GetUrl, HandleError } from '../../utils/generals';\nimport TableItem from '../../models/tableItem';\nimport RefferenceVariableInfo from '../../models/refferenceVariableInfo';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst NoFormIdDefined = 'شناسه فرم تعیین نشده است';\nconst ControlNames = {\n  Form: \"formId\",\n  FormField: \"fieldId\",\n  FieldValue: \"fieldValue\",\n  VariableName: 'variableName',\n  RequestFieldId: 'requestFieldId'\n};\nexport default class FormVariableRefferenceDataPage extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isLoading: true,\n      Forms: [],\n      FormFields: [],\n      FieldValues: [],\n      updateKey: 1,\n      TableRows: [],\n      RefferenceVariables: [],\n      FormId: this.props.match.params.formId\n    };\n    this.RowIndex = 1;\n    this.notificationSystem = /*#__PURE__*/React.createRef();\n    this.OnFormChanged = this.OnFormChanged.bind(this);\n    this.OnFieldChanged = this.OnFieldChanged.bind(this);\n    this.AddOrEditField = this.AddOrEditField.bind(this);\n    this.OnFieldValueChanged = this.OnFieldValueChanged.bind(this);\n    this.ClearControlVarialbes = this.ClearControlVarialbes.bind(this);\n    this.onSubmitError = this.onSubmitError.bind(this);\n    this.LoadData = this.LoadData.bind(this);\n    this.GetRequestFieldId = this.GetRequestFieldId.bind(this);\n    this.DeleteRefferenceVariable = this.DeleteRefferenceVariable.bind(this);\n    this.ClearControlVarialbes();\n  } // Functions.\n\n\n  ClearControlVarialbes() {\n    this.SelectedField = null;\n    this.SelectedFieldValue = null;\n  }\n\n  LoadData(rows) {\n    if (rows == null || rows.length <= 0) return;\n    var tableRows = [];\n    var refVariables = [];\n    rows.forEach(row => {\n      var rd = [];\n      refVariables.push(new RefferenceVariableInfo(row.variableName, row.requestFieldId));\n      rd.push(new TableItem(ControlNames.Form, row.formName));\n      rd.push(new TableItem(ControlNames.FormField, row.fieldName));\n      rd.push(new TableItem(ControlNames.FieldValue, row.requestFieldValue));\n      rd.push(new TableItem(ControlNames.VariableName, row.variableName, row.variableName));\n      rd.push(new TableItem(ControlNames.RequestFieldId, row.requestFieldId));\n      tableRows.push(rd);\n    });\n    this.setState({\n      TableRows: tableRows,\n      RefferenceVariables: refVariables\n    });\n  }\n\n  GetRequestFieldId(row) {\n    var requestFieldId = null;\n    if (row == null || row.length <= 0) return requestFieldId;\n    row.forEach(cln => {\n      if (cln.name == ControlNames.RequestFieldId) requestFieldId = cln.value;\n    });\n    return requestFieldId;\n  } // Events\n\n\n  componentDidMount() {\n    Helpers.CallServer('/api/FRQST/Form/GetAllFormsAndRefferenceVariables/', {\n      Id: this.props.match.params.formId\n    }, successfulResponse => {\n      this.setState({\n        Forms: successfulResponse.forms,\n        RefferenceVariables: successfulResponse.refferenceVariables\n      });\n      this.LoadData(successfulResponse.refferenceVariables);\n    }, errorResponse => {\n      return HandleError(Helpers, this.notificationSystem, errorResponse);\n    }, () => {\n      this.setState({\n        isLoading: false\n      });\n    });\n  }\n\n  onSubmitError(er) {\n    return HandleError(Helpers, this.notificationSystem, er);\n  }\n\n  OnFormChanged(item) {\n    if (item == null || item.value == '') {\n      this.SelectedForm = null;\n      Helpers.DisplayWarningMessage(this.notificationSystem, null, NoFormIdDefined);\n      return;\n    }\n\n    this.SelectedForm = item;\n    Helpers.CallServer('/api/FRQST/Field/GetFormFields/', {\n      Id: item.value\n    }, successfulResponse => {\n      var state = {};\n      state['FormFields'] = successfulResponse;\n      state[ControlNames.FormField] = null;\n      state[ControlNames.FieldValue] = null;\n      this.ClearControlVarialbes();\n      this.setState(state);\n    }, errorResponse => {\n      return HandleError(Helpers, this.notificationSystem, errorResponse);\n    }, () => {});\n  }\n\n  OnFieldChanged(item) {\n    if (this.state.FormFields.length == 0) return;\n\n    if (item == null || item.value == '') {\n      this.SelectedField = null;\n      Helpers.DisplayWarningMessage(this.notificationSystem, null, 'شناسه فیلد تعیین نشده است');\n      return;\n    }\n\n    this.SelectedField = item;\n    var formId = this.state[ControlNames.Form];\n    if (formId == null) return;\n    Helpers.CallServer('/api/FRQST/RequestField/GetFormFields/', {\n      FormId: formId,\n      FieldId: item.value\n    }, successfulResponse => {\n      var state = {\n        FieldValues: successfulResponse\n      };\n      state[ControlNames.FieldValue] = null;\n      this.SelectedFieldValue = null;\n      this.setState(state);\n    }, errorResponse => {\n      return HandleError(Helpers, this.notificationSystem, errorResponse);\n    }, () => {});\n  }\n\n  OnFieldValueChanged(item) {\n    this.SelectedFieldValue = item == null || item.value == '' ? null : item;\n  }\n\n  AddOrEditField() {\n    if (this.SelectedForm == null || this.SelectedForm == undefined) {\n      Helpers.DisplayWarningMessage(this.notificationSystem, null, 'یک فرم انتخاب نمایید');\n      return;\n    }\n\n    if (this.SelectedField == null || this.SelectedField == undefined) {\n      Helpers.DisplayWarningMessage(this.notificationSystem, null, 'یک فیلد انتخاب نمایید');\n      return;\n    }\n\n    if (this.SelectedFieldValue == null || this.SelectedFieldValue == undefined) {\n      Helpers.DisplayWarningMessage(this.notificationSystem, null, 'مقدار فیلد را انتخاب نمایید');\n      return;\n    }\n\n    var variableName = this.state[ControlNames.VariableName];\n\n    if (variableName == null || variableName == '' || variableName.trim() == '') {\n      Helpers.DisplayWarningMessage(this.notificationSystem, null, 'نام متغییر را مشخص نمایید');\n      return;\n    }\n\n    if (this.SelectedFieldValue == null || this.SelectedFieldValue.value == null || this.SelectedFieldValue.value.trim().length == 0) {\n      Helpers.DisplayWarningMessage(this.notificationSystem, null, 'شناسه فیلد ارجاعی پیدا نشد');\n      return;\n    }\n\n    var record = [];\n    var records = this.state.TableRows;\n    var state = {};\n    var refVariables = this.state.RefferenceVariables;\n    var variableName = this.state[ControlNames.VariableName];\n    if (refVariables == null) refVariables = [];\n\n    if (refVariables.filter(rd => rd.RequestFieldId == this.SelectedFieldValue.value).length != 0) {\n      Helpers.DisplayWarningMessage(this.notificationSystem, null, 'متغییر جاری قبلا اضافه شده است');\n      return;\n    }\n\n    if (refVariables.filter(rd => rd.Name == variableName).length != 0) {\n      Helpers.DisplayWarningMessage(this.notificationSystem, null, 'نام متغییر تکراری می باشد');\n      return;\n    }\n\n    if (variableName.includes('[') || variableName.includes(']')) {\n      Helpers.DisplayWarningMessage(this.notificationSystem, null, 'نام متغییر نمی تواند شامل حروف [ یا ] باشد');\n      return;\n    }\n\n    record.push(new TableItem(ControlNames.Form, this.SelectedForm.title, this.SelectedForm));\n    record.push(new TableItem(ControlNames.FormField, this.SelectedField.label, this.SelectedField));\n    record.push(new TableItem(ControlNames.FieldValue, this.SelectedFieldValue.label, this.SelectedFieldValue));\n    record.push(new TableItem(ControlNames.VariableName, variableName, variableName));\n    record.push(new TableItem(ControlNames.RequestFieldId, this.SelectedFieldValue.value));\n    refVariables.push(new RefferenceVariableInfo(variableName, this.SelectedFieldValue.value));\n    records.push(record);\n    this.ClearControlVarialbes();\n    state['TableRows'] = records;\n    state[ControlNames.Form] = null;\n    state[ControlNames.FormField] = null;\n    state[ControlNames.FieldValue] = null;\n    state[ControlNames.VariableName] = null;\n    state['updateKey'] = this.state.updateKey + 1;\n    state['RefferenceVariables'] = refVariables;\n    this.setState(state);\n  }\n\n  DeleteRefferenceVariable(option) {\n    var row = option.modalData;\n    var tableRows = this.state.TableRows;\n    var records = [];\n    var requestFieldId = this.GetRequestFieldId(row);\n    tableRows.forEach(row => {\n      var record = [];\n      var addRecord = true;\n      row.forEach(cln => {\n        record.push(cln);\n        if (cln.name == ControlNames.RequestFieldId && cln.value == requestFieldId) addRecord = false;\n      });\n      if (addRecord) records.push(record);\n    });\n    option.modalOpen = false;\n    this.setState({\n      updateKey: this.state.updateKey + 1,\n      TableRows: records,\n      RefferenceVariables: this.state.RefferenceVariables.filter(rv => rv.RequestFieldId != requestFieldId)\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(PageMain, {\n        title: \"\\u062B\\u0628\\u062A \\u0627\\u0637\\u0644\\u0627\\u0639\\u0627\\u062A \\u0627\\u0631\\u062C\\u0627\\u0639 \\u0645\\u0642\\u0627\\u062F\\u06CC\\u0631 \\u0645\\u062A\\u063A\\u06CC\\u06CC\\u0631\\u0647\\u0627\\u06CC \\u0641\\u0631\\u0645\",\n        icon: \"variable\",\n        isLoading: this.state.isLoading,\n        context: this,\n        footerLinks: [{\n          href: \"/\",\n          text: \"صفحه اصلی\"\n        }, {\n          href: \"https://banksepah.ir\",\n          text: \"وب سایت رسمی بانک سپه\"\n        }],\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          context: this,\n          title: \"\\u062C\\u0632\\u0626\\u06CC\\u0627\\u062A \\u0645\\u0642\\u0627\\u062F\\u06CC\\u0631 \\u0645\\u062A\\u063A\\u06CC\\u06CC\\u0631\\u0647\\u0627\\u06CC \\u0641\\u0631\\u0645\",\n          hasBackButton: true,\n          hasDefaultSaveButton: true,\n          submitUrl: '/api/FRQST/Form/SaveFormRefferenceVariables',\n          statusColor: \"success\",\n          ignoreValidation: true,\n          onSubmitError: this.onSubmitError,\n          updateKey: this.state.updateKey,\n          topButtons: [{\n            title: \"لیست فرم های پویا\",\n            icon: \"list-details\",\n            color: \"outline-success\",\n            url: GetUrl(\"formListPage\")\n          }],\n          submitFields: \"RefferenceVariables, FormId\",\n          children: [/*#__PURE__*/_jsxDEV(DropDown, {\n            context: this,\n            name: ControlNames.Form,\n            title: \"\\u0641\\u0631\\u0645\",\n            options: this.state.Forms,\n            required: true,\n            changeHandler: this.OnFormChanged\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 323,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(DropDown, {\n            context: this,\n            name: ControlNames.FormField,\n            title: \"\\u0641\\u06CC\\u0644\\u062F\",\n            options: this.state.FormFields,\n            required: true,\n            changeHandler: this.OnFieldChanged,\n            disabled: this.state.FormFields.length == 0\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 330,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(DropDown, {\n            context: this,\n            name: ControlNames.FieldValue,\n            title: \"\\u0645\\u0642\\u062F\\u0627\\u0631\",\n            options: this.state.FieldValues,\n            required: true,\n            changeHandler: this.OnFieldValueChanged,\n            disabled: this.state.FieldValues.length == 0\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 338,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(TextBox, {\n            context: this,\n            name: ControlNames.VariableName,\n            title: \"\\u0646\\u0627\\u0645 \\u0645\\u062A\\u063A\\u06CC\\u06CC\\u0631\",\n            required: true,\n            minLength: 1,\n            maxLength: 10,\n            validateHandler: Helpers.MinMaxLengthValidator\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 346,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col p-2\",\n              children: /*#__PURE__*/_jsxDEV(\"a\", {\n                className: \"btn btn-sm btn-outline-primary float-end\",\n                onClick: this.AddOrEditField,\n                children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"ti me-2 ti-circle-plus\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 357,\n                  columnNumber: 29\n                }, this), \"\\u0627\\u0641\\u0632\\u0648\\u062F\\u0646\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 356,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 355,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 354,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col align-self-center\",\n              children: /*#__PURE__*/_jsxDEV(Table, {\n                headers: [{\n                  title: 'نام فرم',\n                  name: ControlNames.Form\n                }, {\n                  title: 'نام فیلد',\n                  name: ControlNames.FormField\n                }, {\n                  title: 'مقدار فیلد',\n                  name: ControlNames.FieldValue\n                }, {\n                  title: 'نام متغییر',\n                  name: ControlNames.VariableName\n                }],\n                data: this.state.TableRows,\n                lgCol: 12,\n                minHeightTableWrapper: 200,\n                hasDeleteButton: true,\n                onDeleteButton: this.DeleteRefferenceVariable\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 363,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 362,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 361,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 304,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 299,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(NotificationSystem, {\n        ref: this.notificationSystem\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 380,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true);\n  }\n\n}","map":{"version":3,"names":["React","PageMain","Card","DropDown","Helpers","Table","TextBox","NotificationSystem","GetUrl","HandleError","TableItem","RefferenceVariableInfo","NoFormIdDefined","ControlNames","Form","FormField","FieldValue","VariableName","RequestFieldId","FormVariableRefferenceDataPage","Component","constructor","props","state","isLoading","Forms","FormFields","FieldValues","updateKey","TableRows","RefferenceVariables","FormId","match","params","formId","RowIndex","notificationSystem","createRef","OnFormChanged","bind","OnFieldChanged","AddOrEditField","OnFieldValueChanged","ClearControlVarialbes","onSubmitError","LoadData","GetRequestFieldId","DeleteRefferenceVariable","SelectedField","SelectedFieldValue","rows","length","tableRows","refVariables","forEach","row","rd","push","variableName","requestFieldId","formName","fieldName","requestFieldValue","setState","cln","name","value","componentDidMount","CallServer","Id","successfulResponse","forms","refferenceVariables","errorResponse","er","item","SelectedForm","DisplayWarningMessage","FieldId","undefined","trim","record","records","filter","Name","includes","title","label","option","modalData","addRecord","modalOpen","rv","render","href","text","icon","color","url","MinMaxLengthValidator"],"sources":["D:/Projects/React/AMLS/src/pages/basePage/formVariableRefferenceDataPage.js"],"sourcesContent":["import React from 'react'\r\nimport { PageMain, Card, DropDown, Helpers, Table, TextBox } from \"core\";\r\nimport NotificationSystem from 'react-notification-system';\r\nimport { GetUrl, HandleError } from '../../utils/generals'\r\nimport TableItem from '../../models/tableItem';\r\nimport RefferenceVariableInfo from '../../models/refferenceVariableInfo'\r\n\r\nconst NoFormIdDefined = 'شناسه فرم تعیین نشده است';\r\nconst ControlNames = {\r\n    Form: \"formId\",\r\n    FormField: \"fieldId\",\r\n    FieldValue: \"fieldValue\",\r\n    VariableName: 'variableName',\r\n    RequestFieldId: 'requestFieldId'\r\n};\r\n\r\nexport default class FormVariableRefferenceDataPage extends React.Component\r\n{\r\n    constructor(props)\r\n    {\r\n        super(props);\r\n        this.state = {\r\n            isLoading: true,\r\n            Forms: [],\r\n            FormFields: [],\r\n            FieldValues: [],\r\n            updateKey: 1,\r\n            TableRows: [],\r\n            RefferenceVariables: [],\r\n            FormId: this.props.match.params.formId\r\n        };\r\n        \r\n        this.RowIndex = 1;\r\n        this.notificationSystem = React.createRef();\r\n\r\n        this.OnFormChanged = this.OnFormChanged.bind(this);\r\n        this.OnFieldChanged = this.OnFieldChanged.bind(this);\r\n        this.AddOrEditField = this.AddOrEditField.bind(this);\r\n        this.OnFieldValueChanged = this.OnFieldValueChanged.bind(this);\r\n        this.ClearControlVarialbes = this.ClearControlVarialbes.bind(this);\r\n        this.onSubmitError = this.onSubmitError.bind(this);\r\n        this.LoadData = this.LoadData.bind(this);\r\n        this.GetRequestFieldId = this.GetRequestFieldId.bind(this);\r\n        this.DeleteRefferenceVariable = this.DeleteRefferenceVariable.bind(this);\r\n\r\n        this.ClearControlVarialbes();\r\n    }\r\n\r\n    // Functions.\r\n    ClearControlVarialbes()\r\n    {\r\n        this.SelectedField = null;\r\n        this.SelectedFieldValue = null;\r\n    }\r\n\r\n    LoadData(rows)\r\n    {\r\n        if(rows == null || rows.length <= 0)\r\n            return;\r\n        var tableRows = [];\r\n        var refVariables = [];\r\n\r\n        rows.forEach(row =>\r\n        {\r\n            var rd = [];\r\n\r\n            refVariables.push(new RefferenceVariableInfo(row.variableName, row.requestFieldId));\r\n\r\n            rd.push(new TableItem(ControlNames.Form, row.formName));\r\n            rd.push(new TableItem(ControlNames.FormField, row.fieldName));\r\n            rd.push(new TableItem(ControlNames.FieldValue, row.requestFieldValue));\r\n            rd.push(new TableItem(ControlNames.VariableName, row.variableName, row.variableName));\r\n            rd.push(new TableItem(ControlNames.RequestFieldId, row.requestFieldId));\r\n\r\n            tableRows.push(rd);\r\n        });\r\n        this.setState({\r\n            TableRows: tableRows,\r\n            RefferenceVariables: refVariables\r\n        });\r\n    }\r\n\r\n    GetRequestFieldId(row)\r\n    {\r\n        var requestFieldId = null;\r\n\r\n        if(row == null || row.length <= 0)\r\n            return requestFieldId;\r\n        row.forEach(cln =>\r\n        {\r\n            if(cln.name == ControlNames.RequestFieldId)\r\n                requestFieldId = cln.value;\r\n        });\r\n        return requestFieldId;\r\n    }\r\n\r\n    // Events\r\n    componentDidMount()\r\n    {\r\n        Helpers.CallServer('/api/FRQST/Form/GetAllFormsAndRefferenceVariables/',\r\n                            { Id: this.props.match.params.formId },\r\n                            successfulResponse =>\r\n                            {\r\n                                this.setState({\r\n                                    Forms: successfulResponse.forms,\r\n                                    RefferenceVariables: successfulResponse.refferenceVariables\r\n                                });\r\n                                this.LoadData(successfulResponse.refferenceVariables);\r\n                            },\r\n                            errorResponse => {\r\n                                return HandleError(Helpers, this.notificationSystem, errorResponse);\r\n                            },\r\n                            () =>\r\n                            {\r\n                                this.setState({ isLoading: false });\r\n                            })\r\n    }\r\n\r\n    onSubmitError(er) {\r\n        return HandleError(Helpers, this.notificationSystem, er);\r\n    }\r\n\r\n    OnFormChanged(item)\r\n    {\r\n        if(item == null || item.value == '')\r\n        {\r\n            this.SelectedForm = null;\r\n            Helpers.DisplayWarningMessage(this.notificationSystem, null, NoFormIdDefined);\r\n            return;\r\n        }\r\n        this.SelectedForm = item;\r\n        Helpers.CallServer('/api/FRQST/Field/GetFormFields/',\r\n        { Id: item.value },\r\n        successfulResponse =>\r\n        {\r\n            var state = { };\r\n\r\n            state['FormFields'] = successfulResponse;\r\n            state[ControlNames.FormField] = null;\r\n            state[ControlNames.FieldValue] = null;\r\n            this.ClearControlVarialbes();\r\n            this.setState(state);\r\n        },\r\n        errorResponse => {\r\n            return HandleError(Helpers, this.notificationSystem, errorResponse);\r\n        },\r\n        () =>\r\n        {\r\n            \r\n        });\r\n    }\r\n\r\n    OnFieldChanged(item)\r\n    {\r\n        if(this.state.FormFields.length == 0)\r\n            return;\r\n        if(item == null || item.value == '')\r\n        {\r\n            this.SelectedField = null;\r\n            Helpers.DisplayWarningMessage(this.notificationSystem, null, 'شناسه فیلد تعیین نشده است');\r\n            return;\r\n        }\r\n        this.SelectedField = item;\r\n        var formId = this.state[ControlNames.Form];\r\n\r\n        if(formId == null)\r\n            return;\r\n        Helpers.CallServer('/api/FRQST/RequestField/GetFormFields/',\r\n                            {\r\n                                FormId: formId,\r\n                                FieldId: item.value\r\n                            },\r\n                            successfulResponse =>\r\n                            {\r\n                                var state = {\r\n                                    FieldValues: successfulResponse\r\n                                };\r\n                                state[ControlNames.FieldValue] = null;\r\n                                this.SelectedFieldValue = null;\r\n                                this.setState(state);\r\n                            },\r\n                            errorResponse => {\r\n                                return HandleError(Helpers, this.notificationSystem, errorResponse);\r\n                            },\r\n                            () =>\r\n                            {\r\n                                \r\n                            })\r\n    }\r\n\r\n    OnFieldValueChanged(item)\r\n    {\r\n        this.SelectedFieldValue = (item == null || item.value == '' ? null : item);\r\n    }\r\n\r\n    AddOrEditField()\r\n    {\r\n        if(this.SelectedForm == null || this.SelectedForm == undefined)\r\n        {\r\n            Helpers.DisplayWarningMessage(this.notificationSystem, null, 'یک فرم انتخاب نمایید');\r\n            return;\r\n        }\r\n        if(this.SelectedField == null || this.SelectedField == undefined)\r\n        {\r\n            Helpers.DisplayWarningMessage(this.notificationSystem, null, 'یک فیلد انتخاب نمایید');\r\n            return;\r\n        }\r\n        if(this.SelectedFieldValue == null || this.SelectedFieldValue == undefined)\r\n        {\r\n            Helpers.DisplayWarningMessage(this.notificationSystem, null, 'مقدار فیلد را انتخاب نمایید');\r\n            return;\r\n        }\r\n        var variableName = this.state[ControlNames.VariableName];\r\n\r\n        if(variableName == null || variableName == '' || variableName.trim() == '')\r\n        {\r\n            Helpers.DisplayWarningMessage(this.notificationSystem, null, 'نام متغییر را مشخص نمایید');\r\n            return;\r\n        }\r\n        if(this.SelectedFieldValue == null || this.SelectedFieldValue.value == null || this.SelectedFieldValue.value.trim().length == 0)\r\n        {\r\n            Helpers.DisplayWarningMessage(this.notificationSystem, null, 'شناسه فیلد ارجاعی پیدا نشد');\r\n            return;\r\n        }\r\n        var record = [];\r\n        var records = this.state.TableRows;\r\n        var state = { };\r\n        var refVariables = this.state.RefferenceVariables;\r\n        var variableName = this.state[ControlNames.VariableName];\r\n\r\n        if(refVariables == null)\r\n            refVariables = [];\r\n        if(refVariables.filter(rd => rd.RequestFieldId == this.SelectedFieldValue.value).length != 0)\r\n        {\r\n            Helpers.DisplayWarningMessage(this.notificationSystem, null, 'متغییر جاری قبلا اضافه شده است');\r\n            return;\r\n        }\r\n        if(refVariables.filter(rd => rd.Name == variableName).length != 0)\r\n        {\r\n            Helpers.DisplayWarningMessage(this.notificationSystem, null, 'نام متغییر تکراری می باشد');\r\n            return;\r\n        }\r\n        if(variableName.includes('[') || variableName.includes(']'))\r\n        {\r\n            Helpers.DisplayWarningMessage(this.notificationSystem, null, 'نام متغییر نمی تواند شامل حروف [ یا ] باشد');\r\n            return;\r\n        }\r\n        record.push(new TableItem(ControlNames.Form, this.SelectedForm.title, this.SelectedForm));\r\n        record.push(new TableItem(ControlNames.FormField, this.SelectedField.label, this.SelectedField));\r\n        record.push(new TableItem(ControlNames.FieldValue, this.SelectedFieldValue.label, this.SelectedFieldValue));\r\n        record.push(new TableItem(ControlNames.VariableName, variableName, variableName));\r\n        record.push(new TableItem(ControlNames.RequestFieldId, this.SelectedFieldValue.value));\r\n        \r\n        refVariables.push(new RefferenceVariableInfo(variableName, this.SelectedFieldValue.value));\r\n        records.push(record);\r\n        this.ClearControlVarialbes();\r\n        state['TableRows'] = records;\r\n        state[ControlNames.Form] = null;\r\n        state[ControlNames.FormField] = null;\r\n        state[ControlNames.FieldValue] = null;\r\n        state[ControlNames.VariableName] = null;\r\n        state['updateKey'] = this.state.updateKey + 1;\r\n        state['RefferenceVariables'] = refVariables;\r\n        this.setState(state);\r\n    }\r\n\r\n    DeleteRefferenceVariable(option)\r\n    {\r\n        var row = option.modalData;\r\n        var tableRows = this.state.TableRows;\r\n        var records = [];\r\n        var requestFieldId = this.GetRequestFieldId(row);\r\n\r\n        tableRows.forEach(row =>\r\n        {\r\n            var record = [];\r\n            var addRecord = true;\r\n\r\n            row.forEach(cln =>\r\n            {\r\n                record.push(cln);\r\n                if(cln.name == ControlNames.RequestFieldId && cln.value == requestFieldId)\r\n                    addRecord = false;\r\n            });\r\n            if(addRecord)\r\n                records.push(record);\r\n        });\r\n        option.modalOpen = false;\r\n        this.setState({\r\n            updateKey: this.state.updateKey + 1,\r\n            TableRows: records,\r\n            RefferenceVariables: this.state.RefferenceVariables.filter(rv => rv.RequestFieldId != requestFieldId)\r\n        });\r\n    }\r\n\r\n    render()\r\n    {\r\n        return <>\r\n        <PageMain title=\"ثبت اطلاعات ارجاع مقادیر متغییرهای فرم\"\r\n                icon=\"variable\"\r\n                isLoading={ this.state.isLoading }\r\n                context={ this }\r\n                footerLinks={[{ href: \"/\", text: \"صفحه اصلی\" }, { href: \"https://banksepah.ir\", text: \"وب سایت رسمی بانک سپه\" }]}>\r\n            <Card\r\n              context={ this }\r\n              title=\"جزئیات مقادیر متغییرهای فرم\"\r\n              hasBackButton={ true }\r\n              hasDefaultSaveButton\r\n              submitUrl={ '/api/FRQST/Form/SaveFormRefferenceVariables' }\r\n              statusColor=\"success\"\r\n              ignoreValidation={ true }\r\n              onSubmitError={ this.onSubmitError }\r\n              updateKey={ this.state.updateKey }\r\n              topButtons={[\r\n                {\r\n                  title: \"لیست فرم های پویا\",\r\n                  icon: \"list-details\",\r\n                  color: \"outline-success\",\r\n                  url: GetUrl(\"formListPage\"),\r\n                },\r\n              ]}\r\n            submitFields={ \"RefferenceVariables, FormId\" }>\r\n                <DropDown\r\n                    context={ this }\r\n                    name={ ControlNames.Form }\r\n                    title=\"فرم\" \r\n                    options={ this.state.Forms }\r\n                    required\r\n                    changeHandler={ this.OnFormChanged } />\r\n                <DropDown\r\n                    context={ this }\r\n                    name={ ControlNames.FormField }\r\n                    title=\"فیلد\" \r\n                    options={ this.state.FormFields }\r\n                    required\r\n                    changeHandler={ this.OnFieldChanged }\r\n                    disabled={ this.state.FormFields.length == 0 } />\r\n                <DropDown\r\n                    context={ this }\r\n                    name={ ControlNames.FieldValue }\r\n                    title=\"مقدار\" \r\n                    options={ this.state.FieldValues }\r\n                    required\r\n                    changeHandler={ this.OnFieldValueChanged }\r\n                    disabled={ this.state.FieldValues.length == 0 } />\r\n                <TextBox\r\n                    context={ this }\r\n                    name={ ControlNames.VariableName }\r\n                    title=\"نام متغییر\"\r\n                    required\r\n                    minLength={ 1 }\r\n                    maxLength={ 10 }\r\n                    validateHandler={ Helpers.MinMaxLengthValidator } /> \r\n                <div className=\"row\">\r\n                    <div className=\"col p-2\">\r\n                        <a className=\"btn btn-sm btn-outline-primary float-end\" onClick={ this.AddOrEditField }>\r\n                            <i className=\"ti me-2 ti-circle-plus\" />افزودن\r\n                        </a>\r\n                    </div>\r\n                </div>\r\n                <div className=\"row\">\r\n                    <div className=\"col align-self-center\">\r\n                        <Table\r\n                            headers={[\r\n                                { title: 'نام فرم', name: ControlNames.Form },\r\n                                { title: 'نام فیلد', name: ControlNames.FormField },\r\n                                { title: 'مقدار فیلد', name: ControlNames.FieldValue },\r\n                                { title: 'نام متغییر', name: ControlNames.VariableName },\r\n                            ]}\r\n                            data={ this.state.TableRows }\r\n                            lgCol={ 12 }\r\n                            minHeightTableWrapper={ 200 }\r\n                            hasDeleteButton\r\n                            onDeleteButton={ this.DeleteRefferenceVariable }\r\n                            />\r\n                    </div>\r\n                </div>\r\n            </Card>\r\n        </PageMain>\r\n        <NotificationSystem ref={ this.notificationSystem } />\r\n    </>\r\n    }\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}