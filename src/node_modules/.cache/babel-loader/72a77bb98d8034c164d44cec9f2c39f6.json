{"ast":null,"code":"var _jsxFileName = \"D:\\\\Projects\\\\React\\\\AMLS\\\\src\\\\pages\\\\report\\\\fiuCodingReportListPage.js\";\nimport { DropDown, Helpers, PageMain, SimpleGrid, Card } from \"core\";\nimport React, { Component } from \"react\";\nimport constants from \"../../utils/constants\";\nimport NotificationSystem from \"react-notification-system\";\nimport Button from \"../../componet/button\";\nimport { HandleError } from \"../../utils/generals\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default class FIUCodingReportListPage extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onSearch = () => {\n      var reportTypeId = this.state.reportTypeId;\n\n      if (reportTypeId == null || reportTypeId == \"\") {\n        Helpers.DisplayErrorMessage(this.notificationSystem, null, \"نوع گزارش را وارد نمایید\");\n        return false;\n      }\n\n      this.setState({\n        isLoading: true\n      });\n      Helpers.CallServer(`/api/amls/bi/DepositeStatusCoding/GetSimpleGridOptions/${this.currentSelectedReport.value}`, {}, successfulResponse => {\n        this.setState({\n          gridHeaders: successfulResponse.headers,\n          selectedReport: this.currentSelectedReport\n        });\n      }, errorResponse => {\n        this.setState({\n          gridHeaders: null,\n          selectedReport: item\n        });\n        return HandleError(Helpers, this.notificationSystem, errorResponse);\n      }, () => {\n        this.setState({\n          isLoading: false\n        });\n      }, \"GET\");\n    };\n\n    this.onRemoveFilter = () => {\n      this.setState({\n        reportTypeId: null,\n        updateKey: this.state.updateKey + 1\n      });\n    };\n\n    this.onReportTypeSelected = item => {\n      if (item == null || item.value == null || item.value == \"\") {\n        this.currentSelectedReport = null;\n        return;\n      }\n\n      this.currentSelectedReport = item;\n    };\n\n    this.state = {\n      isLoading: false,\n      updateKey: 1,\n      gridHeaders: [],\n      reportTypes: null,\n      selectedReport: null\n    };\n    this.currentSelectedReport = null;\n    this.notificationSystem = /*#__PURE__*/React.createRef();\n  } // Events.\n\n\n  componentDidMount() {\n    Helpers.CallServer(\"/api/amls/bi/DepositeStatusCoding/GetFIUReportTypes\", {}, successfulResponse => {\n      this.setState({\n        reportTypes: successfulResponse\n      });\n    }, errorResponse => HandleError(Helpers, this.notificationSystem, errorResponse), () => {\n      this.setState({\n        isLoading: false\n      });\n    }, \"GET\");\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(PageMain, {\n        title: \"\\u06AF\\u0632\\u0627\\u0631\\u0634 \\u06A9\\u062F\\u06CC\\u0646\\u06AF FIU\",\n        icon: \"list-search\",\n        isLoading: this.state.isLoading,\n        footerLinks: [{\n          href: \"/\",\n          text: \"صفحه اصلی\"\n        }],\n        children: this.state.reportTypes && /*#__PURE__*/_jsxDEV(Card, {\n          context: this,\n          title: \"\\u06AF\\u0632\\u0627\\u0631\\u0634\\u0627\\u062A\",\n          icon: \"list-search\",\n          hasBackButton: true,\n          statusColor: \"primary\",\n          onSubmitError: error => HandleError(Helpers, this.notificationSystem, error),\n          hasDefaultSaveButton: false,\n          children: [/*#__PURE__*/_jsxDEV(DropDown, {\n            context: this,\n            mdCol: 4,\n            lgCol: 4,\n            name: \"reportTypeId\",\n            title: \"\\u0646\\u0648\\u0639 \\u06AF\\u0632\\u0627\\u0631\\u0634\",\n            options: this.state.reportTypes,\n            required: true,\n            changeHandler: e => this.onReportTypeSelected(e)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col\",\n              children: [/*#__PURE__*/_jsxDEV(Button, {\n                buttonClass: `btn btn-outline-primary m-2`,\n                text: \"\\u062C\\u0633\\u062A\\u062C\\u0648\",\n                onclick: () => this.onSearch()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 125,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                buttonClass: `btn btn-outline-danger `,\n                text: \"\\u062D\\u0630\\u0641 \\u0641\\u06CC\\u0644\\u062A\\u0631\",\n                onclick: () => this.onRemoveFilter()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 130,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 124,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 15\n          }, this), this.state.selectedReport && /*#__PURE__*/_jsxDEV(SimpleGrid, {\n            context: this,\n            minHeightTableWrapper: constants.MinGridHeight,\n            filterBgColor: \"primary\",\n            hideExportButton: true,\n            name: \"fiuList\",\n            title: `گزارش کدینگ FIU - ${this.state.selectedReport.title}`,\n            listApiUrl: \"/api/amls/bi/DepositeStatusCoding/SearchReport\",\n            extraItemsSentToFetchData: {\n              reportTypeId: this.state.selectedReport.value\n            },\n            headers: this.state.gridHeaders,\n            enableAutoFetch: true,\n            filterOptions: null,\n            notificationSystem: this.notificationSystem\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 143,\n            columnNumber: 17\n          }, this)]\n        }, this.state.updateKey, true, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 13\n        }, this)\n      }, this.state.updateKey, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(NotificationSystem, {\n        ref: this.notificationSystem\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true);\n  }\n\n}","map":{"version":3,"names":["DropDown","Helpers","PageMain","SimpleGrid","Card","React","Component","constants","NotificationSystem","Button","HandleError","FIUCodingReportListPage","constructor","props","onSearch","reportTypeId","state","DisplayErrorMessage","notificationSystem","setState","isLoading","CallServer","currentSelectedReport","value","successfulResponse","gridHeaders","headers","selectedReport","errorResponse","item","onRemoveFilter","updateKey","onReportTypeSelected","reportTypes","createRef","componentDidMount","render","href","text","error","e","MinGridHeight","title"],"sources":["D:/Projects/React/AMLS/src/pages/report/fiuCodingReportListPage.js"],"sourcesContent":["import { DropDown, Helpers, PageMain, SimpleGrid, Card } from \"core\";\r\nimport React, { Component } from \"react\";\r\nimport constants from \"../../utils/constants\";\r\nimport NotificationSystem from \"react-notification-system\";\r\nimport Button from \"../../componet/button\";\r\nimport { HandleError } from \"../../utils/generals\";\r\n\r\nexport default class FIUCodingReportListPage extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      isLoading: false,\r\n      updateKey: 1,\r\n      gridHeaders: [],\r\n      reportTypes: null,\r\n      selectedReport: null,\r\n    };\r\n    this.currentSelectedReport = null;\r\n    this.notificationSystem = React.createRef();\r\n  }\r\n\r\n  // Events.\r\n  componentDidMount() {\r\n    Helpers.CallServer(\r\n      \"/api/amls/bi/DepositeStatusCoding/GetFIUReportTypes\",\r\n      {},\r\n      (successfulResponse) => {\r\n        this.setState({\r\n          reportTypes: successfulResponse,\r\n        });\r\n      },\r\n      (errorResponse) =>\r\n        HandleError(Helpers, this.notificationSystem, errorResponse),\r\n      () => {\r\n        this.setState({ isLoading: false });\r\n      },\r\n      \"GET\"\r\n    );\r\n  }\r\n\r\n  onSearch = () => {\r\n    var reportTypeId = this.state.reportTypeId;\r\n    if (reportTypeId == null || reportTypeId == \"\") {\r\n      Helpers.DisplayErrorMessage(\r\n        this.notificationSystem,\r\n        null,\r\n        \"نوع گزارش را وارد نمایید\"\r\n      );\r\n      return false;\r\n    }\r\n    this.setState({ isLoading: true });\r\n    Helpers.CallServer(\r\n      `/api/amls/bi/DepositeStatusCoding/GetSimpleGridOptions/${this.currentSelectedReport.value}`,\r\n      {},\r\n      (successfulResponse) => {\r\n        this.setState({\r\n          gridHeaders: successfulResponse.headers,\r\n          selectedReport: this.currentSelectedReport,\r\n        });\r\n      },\r\n      (errorResponse) => {\r\n        this.setState({\r\n          gridHeaders: null,\r\n          selectedReport: item,\r\n        });\r\n        return HandleError(Helpers, this.notificationSystem, errorResponse);\r\n      },\r\n      () => {\r\n        this.setState({ isLoading: false });\r\n      },\r\n      \"GET\"\r\n    );\r\n  };\r\n\r\n  onRemoveFilter = () => {\r\n    this.setState({\r\n      reportTypeId: null,\r\n      updateKey: this.state.updateKey + 1,\r\n    });\r\n  };\r\n\r\n  onReportTypeSelected = (item) => {\r\n    if (item == null || item.value == null || item.value == \"\") {\r\n      this.currentSelectedReport = null;\r\n      return;\r\n    }\r\n    this.currentSelectedReport = item;\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <PageMain\r\n          title=\"گزارش کدینگ FIU\"\r\n          icon=\"list-search\"\r\n          isLoading={this.state.isLoading}\r\n          footerLinks={[{ href: \"/\", text: \"صفحه اصلی\" }]}\r\n          key={this.state.updateKey}\r\n        >\r\n          {this.state.reportTypes && (\r\n            <Card\r\n              context={this}\r\n              title=\"گزارشات\"\r\n              icon=\"list-search\"\r\n              hasBackButton={true}\r\n              statusColor=\"primary\"\r\n              onSubmitError={(error) =>\r\n                HandleError(Helpers, this.notificationSystem, error)\r\n              }\r\n              hasDefaultSaveButton={false}\r\n              key={this.state.updateKey}\r\n            >\r\n              <DropDown\r\n                context={this}\r\n                mdCol={4}\r\n                lgCol={4}\r\n                name=\"reportTypeId\"\r\n                title=\"نوع گزارش\"\r\n                options={this.state.reportTypes}\r\n                required\r\n                changeHandler={(e) => this.onReportTypeSelected(e)}\r\n              />\r\n              <div className=\"row\">\r\n                <div className=\"col\">\r\n                  <Button\r\n                    buttonClass={`btn btn-outline-primary m-2`}\r\n                    text=\"جستجو\"\r\n                    onclick={() => this.onSearch()}\r\n                  />\r\n                  <Button\r\n                    buttonClass={`btn btn-outline-danger `}\r\n                    text=\"حذف فیلتر\"\r\n                    onclick={() => this.onRemoveFilter()}\r\n                  />\r\n                </div>\r\n                {/* <Button\r\n                    buttonClass={`btn btn-outline-success col-lg-1.5 mt-2 mb-3 `}\r\n                    text=\"خروجی اکسل\"\r\n                    // onclick={() => this.onRemoveFilter()}\r\n                  /> */}\r\n              </div>\r\n              {this.state.selectedReport && (\r\n                <SimpleGrid\r\n                  context={this}\r\n                  minHeightTableWrapper={constants.MinGridHeight}\r\n                  filterBgColor=\"primary\"\r\n                  hideExportButton\r\n                  name=\"fiuList\"\r\n                  title={`گزارش کدینگ FIU - ${this.state.selectedReport.title}`}\r\n                  listApiUrl=\"/api/amls/bi/DepositeStatusCoding/SearchReport\"\r\n                  extraItemsSentToFetchData={{\r\n                    reportTypeId: this.state.selectedReport.value,\r\n                  }}\r\n                  headers={this.state.gridHeaders}\r\n                  enableAutoFetch\r\n                  filterOptions={null}\r\n                  notificationSystem={this.notificationSystem}\r\n                />\r\n              )}\r\n            </Card>\r\n          )}\r\n        </PageMain>\r\n        <NotificationSystem ref={this.notificationSystem} />\r\n      </>\r\n    );\r\n  }\r\n}\r\n"],"mappings":";AAAA,SAASA,QAAT,EAAmBC,OAAnB,EAA4BC,QAA5B,EAAsCC,UAAtC,EAAkDC,IAAlD,QAA8D,MAA9D;AACA,OAAOC,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,SAAP,MAAsB,uBAAtB;AACA,OAAOC,kBAAP,MAA+B,2BAA/B;AACA,OAAOC,MAAP,MAAmB,uBAAnB;AACA,SAASC,WAAT,QAA4B,sBAA5B;;;AAEA,eAAe,MAAMC,uBAAN,SAAsCL,SAAtC,CAAgD;EAC7DM,WAAW,CAACC,KAAD,EAAQ;IACjB,MAAMA,KAAN;;IADiB,KAgCnBC,QAhCmB,GAgCR,MAAM;MACf,IAAIC,YAAY,GAAG,KAAKC,KAAL,CAAWD,YAA9B;;MACA,IAAIA,YAAY,IAAI,IAAhB,IAAwBA,YAAY,IAAI,EAA5C,EAAgD;QAC9Cd,OAAO,CAACgB,mBAAR,CACE,KAAKC,kBADP,EAEE,IAFF,EAGE,0BAHF;QAKA,OAAO,KAAP;MACD;;MACD,KAAKC,QAAL,CAAc;QAAEC,SAAS,EAAE;MAAb,CAAd;MACAnB,OAAO,CAACoB,UAAR,CACG,0DAAyD,KAAKC,qBAAL,CAA2BC,KAAM,EAD7F,EAEE,EAFF,EAGGC,kBAAD,IAAwB;QACtB,KAAKL,QAAL,CAAc;UACZM,WAAW,EAAED,kBAAkB,CAACE,OADpB;UAEZC,cAAc,EAAE,KAAKL;QAFT,CAAd;MAID,CARH,EASGM,aAAD,IAAmB;QACjB,KAAKT,QAAL,CAAc;UACZM,WAAW,EAAE,IADD;UAEZE,cAAc,EAAEE;QAFJ,CAAd;QAIA,OAAOnB,WAAW,CAACT,OAAD,EAAU,KAAKiB,kBAAf,EAAmCU,aAAnC,CAAlB;MACD,CAfH,EAgBE,MAAM;QACJ,KAAKT,QAAL,CAAc;UAAEC,SAAS,EAAE;QAAb,CAAd;MACD,CAlBH,EAmBE,KAnBF;IAqBD,CAhEkB;;IAAA,KAkEnBU,cAlEmB,GAkEF,MAAM;MACrB,KAAKX,QAAL,CAAc;QACZJ,YAAY,EAAE,IADF;QAEZgB,SAAS,EAAE,KAAKf,KAAL,CAAWe,SAAX,GAAuB;MAFtB,CAAd;IAID,CAvEkB;;IAAA,KAyEnBC,oBAzEmB,GAyEKH,IAAD,IAAU;MAC/B,IAAIA,IAAI,IAAI,IAAR,IAAgBA,IAAI,CAACN,KAAL,IAAc,IAA9B,IAAsCM,IAAI,CAACN,KAAL,IAAc,EAAxD,EAA4D;QAC1D,KAAKD,qBAAL,GAA6B,IAA7B;QACA;MACD;;MACD,KAAKA,qBAAL,GAA6BO,IAA7B;IACD,CA/EkB;;IAEjB,KAAKb,KAAL,GAAa;MACXI,SAAS,EAAE,KADA;MAEXW,SAAS,EAAE,CAFA;MAGXN,WAAW,EAAE,EAHF;MAIXQ,WAAW,EAAE,IAJF;MAKXN,cAAc,EAAE;IALL,CAAb;IAOA,KAAKL,qBAAL,GAA6B,IAA7B;IACA,KAAKJ,kBAAL,gBAA0Bb,KAAK,CAAC6B,SAAN,EAA1B;EACD,CAZ4D,CAc7D;;;EACAC,iBAAiB,GAAG;IAClBlC,OAAO,CAACoB,UAAR,CACE,qDADF,EAEE,EAFF,EAGGG,kBAAD,IAAwB;MACtB,KAAKL,QAAL,CAAc;QACZc,WAAW,EAAET;MADD,CAAd;IAGD,CAPH,EAQGI,aAAD,IACElB,WAAW,CAACT,OAAD,EAAU,KAAKiB,kBAAf,EAAmCU,aAAnC,CATf,EAUE,MAAM;MACJ,KAAKT,QAAL,CAAc;QAAEC,SAAS,EAAE;MAAb,CAAd;IACD,CAZH,EAaE,KAbF;EAeD;;EAmDDgB,MAAM,GAAG;IACP,oBACE;MAAA,wBACE,QAAC,QAAD;QACE,KAAK,EAAC,mEADR;QAEE,IAAI,EAAC,aAFP;QAGE,SAAS,EAAE,KAAKpB,KAAL,CAAWI,SAHxB;QAIE,WAAW,EAAE,CAAC;UAAEiB,IAAI,EAAE,GAAR;UAAaC,IAAI,EAAE;QAAnB,CAAD,CAJf;QAAA,UAOG,KAAKtB,KAAL,CAAWiB,WAAX,iBACC,QAAC,IAAD;UACE,OAAO,EAAE,IADX;UAEE,KAAK,EAAC,4CAFR;UAGE,IAAI,EAAC,aAHP;UAIE,aAAa,EAAE,IAJjB;UAKE,WAAW,EAAC,SALd;UAME,aAAa,EAAGM,KAAD,IACb7B,WAAW,CAACT,OAAD,EAAU,KAAKiB,kBAAf,EAAmCqB,KAAnC,CAPf;UASE,oBAAoB,EAAE,KATxB;UAAA,wBAYE,QAAC,QAAD;YACE,OAAO,EAAE,IADX;YAEE,KAAK,EAAE,CAFT;YAGE,KAAK,EAAE,CAHT;YAIE,IAAI,EAAC,cAJP;YAKE,KAAK,EAAC,mDALR;YAME,OAAO,EAAE,KAAKvB,KAAL,CAAWiB,WANtB;YAOE,QAAQ,MAPV;YAQE,aAAa,EAAGO,CAAD,IAAO,KAAKR,oBAAL,CAA0BQ,CAA1B;UARxB;YAAA;YAAA;YAAA;UAAA,QAZF,eAsBE;YAAK,SAAS,EAAC,KAAf;YAAA,uBACE;cAAK,SAAS,EAAC,KAAf;cAAA,wBACE,QAAC,MAAD;gBACE,WAAW,EAAG,6BADhB;gBAEE,IAAI,EAAC,gCAFP;gBAGE,OAAO,EAAE,MAAM,KAAK1B,QAAL;cAHjB;gBAAA;gBAAA;gBAAA;cAAA,QADF,eAME,QAAC,MAAD;gBACE,WAAW,EAAG,yBADhB;gBAEE,IAAI,EAAC,mDAFP;gBAGE,OAAO,EAAE,MAAM,KAAKgB,cAAL;cAHjB;gBAAA;gBAAA;gBAAA;cAAA,QANF;YAAA;cAAA;cAAA;cAAA;YAAA;UADF;YAAA;YAAA;YAAA;UAAA,QAtBF,EAyCG,KAAKd,KAAL,CAAWW,cAAX,iBACC,QAAC,UAAD;YACE,OAAO,EAAE,IADX;YAEE,qBAAqB,EAAEpB,SAAS,CAACkC,aAFnC;YAGE,aAAa,EAAC,SAHhB;YAIE,gBAAgB,MAJlB;YAKE,IAAI,EAAC,SALP;YAME,KAAK,EAAG,qBAAoB,KAAKzB,KAAL,CAAWW,cAAX,CAA0Be,KAAM,EAN9D;YAOE,UAAU,EAAC,gDAPb;YAQE,yBAAyB,EAAE;cACzB3B,YAAY,EAAE,KAAKC,KAAL,CAAWW,cAAX,CAA0BJ;YADf,CAR7B;YAWE,OAAO,EAAE,KAAKP,KAAL,CAAWS,WAXtB;YAYE,eAAe,MAZjB;YAaE,aAAa,EAAE,IAbjB;YAcE,kBAAkB,EAAE,KAAKP;UAd3B;YAAA;YAAA;YAAA;UAAA,QA1CJ;QAAA,GAUO,KAAKF,KAAL,CAAWe,SAVlB;UAAA;UAAA;UAAA;QAAA;MARJ,GAKO,KAAKf,KAAL,CAAWe,SALlB;QAAA;QAAA;QAAA;MAAA,QADF,eAuEE,QAAC,kBAAD;QAAoB,GAAG,EAAE,KAAKb;MAA9B;QAAA;QAAA;QAAA;MAAA,QAvEF;IAAA,gBADF;EA2ED;;AA9J4D"},"metadata":{},"sourceType":"module"}