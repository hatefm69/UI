{"ast":null,"code":"var _jsxFileName = \"D:\\\\Projects\\\\React\\\\AMLS\\\\src\\\\pages\\\\basePage\\\\formFormulaPage.js\";\nimport React from 'react';\nimport { PageMain, Card, DropDown, Helpers, Table, TextBox } from \"core\";\nimport NotificationSystem from 'react-notification-system';\nimport { GetUrl, HandleError } from '../../utils/generals';\nimport TableItem from '../../models/tableItem';\nimport FormulaInfo from '../../models/formulaInfo';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst ControlNames = {\n  Form: 'formId',\n  Field: 'fieldId',\n  FieldName: 'fieldName',\n  ResultVariableName: 'resultVariableName',\n  Formula: 'formula'\n};\nexport default class FormFormulaPage extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      updateKey: 1,\n      VName: null,\n      TableRows: [],\n      FormId: this.props.match.params.formId,\n      AllForms: [],\n      Fields: [],\n      Formulas: [],\n      isLoading: true\n    };\n    this.notificationSystem = /*#__PURE__*/React.createRef();\n    this.onSubmitError = this.onSubmitError.bind(this);\n    this.DeleteFormFormula = this.DeleteFormFormula.bind(this);\n    this.OnFieldChanged = this.OnFieldChanged.bind(this);\n    this.AddOrEditField = this.AddOrEditField.bind(this);\n    this.LoadData = this.LoadData.bind(this);\n    this.GetFieldId = this.GetFieldId.bind(this);\n  } // Functions.\n\n\n  LoadData(formulaList) {\n    var records = [];\n    var state = {};\n    var formulas = [];\n    formulaList.forEach(formula => {\n      var record = [];\n      record.push(new TableItem(ControlNames.Form, formula.formName, formula.formId));\n      record.push(new TableItem(ControlNames.FieldName, formula.fieldName, formula.fieldId));\n      record.push(new TableItem(ControlNames.ResultVariableName, formula.resultVariableName));\n      record.push(new TableItem(ControlNames.Formula, formula.formula));\n      formulas.push(new FormulaInfo(formula.fieldId, formula.resultVariableName, formula.formula));\n      records.push(record);\n    });\n    state['TableRows'] = records;\n    state[ControlNames.Field] = null;\n    state[ControlNames.ResultVariableName] = null;\n    state['updateKey'] = this.state.updateKey + 1;\n    state['Formulas'] = formulas;\n    this.setState(state);\n  }\n\n  GetFieldId(row) {\n    var fieldId = null;\n    if (row == null || row.length <= 0) return fieldId;\n    row.forEach(cln => {\n      if (fieldId != null) return;\n      if (cln.name == ControlNames.FieldName) fieldId = cln.ExtraData;\n    });\n    return fieldId;\n  } // Events.\n\n\n  componentDidMount() {\n    Helpers.CallServer('/api/FRQST/Form/GetAllFormsAndFormulas/', {\n      Id: this.props.match.params.formId\n    }, successfulResponse => {\n      console.log('Form Data: ', successfulResponse);\n      var forms = [];\n\n      if (successfulResponse.form != null) {\n        forms.push(successfulResponse.form);\n        this.SelectedForm = successfulResponse.form;\n      }\n\n      this.setState({\n        AllForms: forms,\n        Formulas: successfulResponse.formulas == null ? [] : successfulResponse.formulas,\n        Fields: successfulResponse.fields == null ? [] : successfulResponse.fields,\n        [ControlNames.Form]: successfulResponse.form.value\n      });\n      this.LoadData(successfulResponse.formulas);\n    }, errorResponse => {\n      return HandleError(Helpers, this.notificationSystem, errorResponse);\n    }, () => {\n      this.setState({\n        isLoading: false\n      });\n    });\n  }\n\n  onSubmitError(er) {\n    return HandleError(Helpers, this.notificationSystem, er);\n  }\n\n  DeleteFormFormula(option) {\n    var row = option.modalData;\n    var tableRows = this.state.TableRows;\n    var formulas = this.state.Formulas;\n    var fieldId = this.GetFieldId(row);\n    tableRows = tableRows.filter(rd => this.GetFieldId(rd) != fieldId);\n    formulas = formulas.filter(fd => fd.FieldId != fieldId);\n    option.modalOpen = false;\n    this.setState({\n      Formulas: formulas,\n      TableRows: tableRows\n    });\n  }\n\n  OnFieldChanged(item) {\n    if (this.state.Fields.length == 0) return;\n\n    if (item == null || item.value == '') {\n      this.SelectedField = null;\n      Helpers.DisplayWarningMessage(this.notificationSystem, null, 'اطلاعات فیلد پیدا نشد');\n      return;\n    }\n\n    this.SelectedField = item;\n    this.setState({\n      [ControlNames.ResultVariableName]: this.SelectedField.title,\n      VName: this.SelectedField.title == null ? ' ' : this.SelectedField.title\n    });\n  }\n\n  AddOrEditField() {\n    if (this.SelectedForm == null || this.SelectedForm == undefined) {\n      Helpers.DisplayWarningMessage(this.notificationSystem, null, 'یک فرم انتخاب نمایید');\n      return;\n    }\n\n    if (this.SelectedField == null || this.SelectedField == undefined) {\n      Helpers.DisplayWarningMessage(this.notificationSystem, null, 'یک فیلد انتخاب نمایید');\n      return;\n    }\n\n    var variableName = this.state[ControlNames.ResultVariableName];\n\n    if (variableName == null || variableName == '' || variableName.trim() == '') {\n      Helpers.DisplayWarningMessage(this.notificationSystem, null, 'نام متغییر نتیجه را مشخص نمایید');\n      return;\n    }\n\n    var formula = this.state[ControlNames.Formula];\n\n    if (formula == null || formula == '' || formula.trim() == '') {\n      Helpers.DisplayWarningMessage(this.notificationSystem, null, 'فرمول محاسبه را مشخص کنید');\n      return;\n    }\n\n    var record = [];\n    var records = this.state.TableRows;\n    var state = {};\n    var formulas = this.state.Formulas;\n\n    if (formulas.filter(f => f.FieldId == this.SelectedField.value).length >= 1) {\n      Helpers.DisplayWarningMessage(this.notificationSystem, null, 'نام متغییر نتیجه تکراری می باشد');\n      return;\n    }\n\n    record.push(new TableItem(ControlNames.Form, this.SelectedForm.title, this.SelectedForm.value));\n    record.push(new TableItem(ControlNames.FieldName, this.SelectedField.label, this.SelectedField.value));\n    record.push(new TableItem(ControlNames.ResultVariableName, variableName));\n    record.push(new TableItem(ControlNames.Formula, formula));\n    formulas.push(new FormulaInfo(this.SelectedField.value, variableName, formula));\n    records.push(record);\n    state['TableRows'] = records;\n    state[ControlNames.Field] = null;\n    state[ControlNames.Formula] = null;\n    state[\"VName\"] = null;\n    state[ControlNames.ResultVariableName] = null;\n    state['updateKey'] = this.state.updateKey + 1;\n    state['Formulas'] = formulas;\n    this.setState(state);\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(PageMain, {\n        title: \"\\u062B\\u0628\\u062A \\u0641\\u0631\\u0645\\u0648\\u0644\",\n        icon: \"a-b\",\n        isLoading: this.state.isLoading,\n        context: this,\n        footerLinks: [{\n          href: \"/\",\n          text: \"صفحه اصلی\"\n        }, {\n          href: \"https://banksepah.ir\",\n          text: \"وب سایت رسمی بانک سپه\"\n        }],\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          context: this,\n          title: \"\\u062C\\u0632\\u0626\\u06CC\\u0627\\u062A \\u062B\\u0628\\u062A \\u0641\\u0631\\u0645\\u0648\\u0644\",\n          hasBackButton: true,\n          hasDefaultSaveButton: true,\n          submitUrl: '/api/FRQST/Form/SaveFormFormulas',\n          statusColor: \"success\",\n          ignoreValidation: true,\n          onSubmitError: this.onSubmitError,\n          updateKey: this.state.updateKey,\n          topButtons: [{\n            title: \"لیست فرم های پویا\",\n            icon: \"list-details\",\n            color: \"outline-success\",\n            url: GetUrl(\"formListPage\")\n          }],\n          submitFields: \"Formulas, FormId\",\n          children: [/*#__PURE__*/_jsxDEV(DropDown, {\n            context: this,\n            name: ControlNames.Form,\n            title: \"\\u0641\\u0631\\u0645\",\n            options: this.state.AllForms,\n            required: true,\n            disabled: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 234,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(DropDown, {\n            context: this,\n            name: ControlNames.Field,\n            title: \"\\u0641\\u06CC\\u0644\\u062F\",\n            options: this.state.Fields,\n            required: true,\n            changeHandler: this.OnFieldChanged,\n            disabled: this.state.Fields.length == 0\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 241,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(TextBox, {\n            context: this,\n            name: ControlNames.ResultVariableName,\n            title: \"\\u0646\\u0627\\u0645 \\u0645\\u062A\\u063A\\u06CC\\u06CC\\u0631 \\u0646\\u062A\\u06CC\\u062C\\u0647\",\n            readOnly: true,\n            externalChangedValue: this.state.VName\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 249,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(TextBox, {\n            context: this,\n            name: ControlNames.Formula,\n            title: \"\\u0641\\u0631\\u0645\\u0648\\u0644\",\n            required: true,\n            isLTR: true,\n            minLength: 1,\n            maxLength: 100,\n            hint: \"example: ([x] * [y]) + 10\",\n            validateHandler: Helpers.MinMaxLengthValidator\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 255,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col p-2\",\n              children: /*#__PURE__*/_jsxDEV(\"a\", {\n                className: \"btn btn-sm btn-outline-primary float-end\",\n                onClick: this.AddOrEditField,\n                children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"ti me-2 ti-circle-plus\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 268,\n                  columnNumber: 29\n                }, this), \"\\u0627\\u0641\\u0632\\u0648\\u062F\\u0646\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 267,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 266,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 265,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col align-self-center\",\n              children: /*#__PURE__*/_jsxDEV(Table, {\n                headers: [{\n                  title: 'نام فرم',\n                  name: ControlNames.Form\n                }, {\n                  title: 'نام فیلد',\n                  name: ControlNames.FieldName\n                }, {\n                  title: 'نام متغییر نتیجه',\n                  name: ControlNames.ResultVariableName\n                }, {\n                  title: 'فرمول',\n                  name: ControlNames.Formula,\n                  style: 'direction: ltr'\n                }],\n                data: this.state.TableRows,\n                lgCol: 12,\n                minHeightTableWrapper: 200,\n                hasDeleteButton: true,\n                onDeleteButton: this.DeleteFormFormula\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 274,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 273,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 272,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(NotificationSystem, {\n        ref: this.notificationSystem\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 290,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true);\n  }\n\n}","map":{"version":3,"names":["React","PageMain","Card","DropDown","Helpers","Table","TextBox","NotificationSystem","GetUrl","HandleError","TableItem","FormulaInfo","ControlNames","Form","Field","FieldName","ResultVariableName","Formula","FormFormulaPage","Component","constructor","props","state","updateKey","VName","TableRows","FormId","match","params","formId","AllForms","Fields","Formulas","isLoading","notificationSystem","createRef","onSubmitError","bind","DeleteFormFormula","OnFieldChanged","AddOrEditField","LoadData","GetFieldId","formulaList","records","formulas","forEach","formula","record","push","formName","fieldName","fieldId","resultVariableName","setState","row","length","cln","name","ExtraData","componentDidMount","CallServer","Id","successfulResponse","console","log","forms","form","SelectedForm","fields","value","errorResponse","er","option","modalData","tableRows","filter","rd","fd","FieldId","modalOpen","item","SelectedField","DisplayWarningMessage","title","undefined","variableName","trim","f","label","render","href","text","icon","color","url","MinMaxLengthValidator","style"],"sources":["D:/Projects/React/AMLS/src/pages/basePage/formFormulaPage.js"],"sourcesContent":["import React from 'react'\r\nimport { PageMain, Card, DropDown, Helpers, Table, TextBox } from \"core\";\r\nimport NotificationSystem from 'react-notification-system';\r\nimport { GetUrl, HandleError } from '../../utils/generals'\r\nimport TableItem from '../../models/tableItem';\r\nimport FormulaInfo from '../../models/formulaInfo';\r\n\r\nconst ControlNames =\r\n{\r\n    Form: 'formId',\r\n    Field: 'fieldId',\r\n    FieldName: 'fieldName',\r\n    ResultVariableName: 'resultVariableName',\r\n    Formula: 'formula'\r\n}\r\n\r\nexport default class FormFormulaPage extends React.Component\r\n{\r\n    constructor(props)\r\n    {\r\n        super(props);\r\n        this.state = {\r\n            updateKey: 1,\r\n            VName: null,\r\n            TableRows: [],\r\n            FormId: this.props.match.params.formId,\r\n            AllForms: [],\r\n            Fields: [],\r\n            Formulas: [],\r\n            isLoading: true\r\n        };\r\n\r\n        this.notificationSystem = React.createRef();\r\n\r\n        this.onSubmitError = this.onSubmitError.bind(this);\r\n        this.DeleteFormFormula = this.DeleteFormFormula.bind(this);\r\n        this.OnFieldChanged = this.OnFieldChanged.bind(this);\r\n        this.AddOrEditField = this.AddOrEditField.bind(this);\r\n        this.LoadData = this.LoadData.bind(this);\r\n        this.GetFieldId = this.GetFieldId.bind(this);\r\n    }\r\n\r\n    // Functions.\r\n    LoadData(formulaList)\r\n    {\r\n        var records = [];\r\n        var state = { };\r\n        var formulas = [];\r\n\r\n        formulaList.forEach(formula => {\r\n            var record = [];\r\n\r\n            record.push(new TableItem(ControlNames.Form, formula.formName, formula.formId));\r\n            record.push(new TableItem(ControlNames.FieldName, formula.fieldName, formula.fieldId));\r\n            record.push(new TableItem(ControlNames.ResultVariableName, formula.resultVariableName));\r\n            record.push(new TableItem(ControlNames.Formula, formula.formula));\r\n            \r\n            formulas.push(new FormulaInfo(formula.fieldId, formula.resultVariableName, formula.formula));\r\n            records.push(record);\r\n        });        \r\n        state['TableRows'] = records;\r\n        state[ControlNames.Field] = null;\r\n        state[ControlNames.ResultVariableName] = null;\r\n        state['updateKey'] = this.state.updateKey + 1;\r\n        state['Formulas'] = formulas;\r\n        this.setState(state);\r\n    }\r\n\r\n    GetFieldId(row)\r\n    {\r\n        var fieldId = null;\r\n\r\n        if(row == null || row.length <= 0)\r\n            return fieldId;\r\n        row.forEach(cln =>\r\n        {\r\n            if(fieldId != null)\r\n                return;\r\n            if(cln.name == ControlNames.FieldName)\r\n                fieldId = cln.ExtraData;\r\n        });\r\n\r\n        return fieldId;\r\n    }\r\n\r\n    // Events.\r\n    componentDidMount()\r\n    {\r\n        Helpers.CallServer('/api/FRQST/Form/GetAllFormsAndFormulas/',\r\n                            { Id: this.props.match.params.formId },\r\n                            successfulResponse =>\r\n                            {\r\n                                console.log('Form Data: ', successfulResponse);\r\n\r\n                                var forms = [];\r\n\r\n                                if(successfulResponse.form != null)\r\n                                {\r\n                                    forms.push(successfulResponse.form);\r\n                                    this.SelectedForm = successfulResponse.form;\r\n                                }\r\n                                this.setState({\r\n                                    AllForms: forms,\r\n                                    Formulas: successfulResponse.formulas == null ? [] : successfulResponse.formulas,\r\n                                    Fields: successfulResponse.fields == null ? [] : successfulResponse.fields,\r\n                                    [ControlNames.Form]: successfulResponse.form.value\r\n                                });\r\n                                this.LoadData(successfulResponse.formulas);\r\n                            },\r\n                            errorResponse => { return HandleError(Helpers, this.notificationSystem, errorResponse); },\r\n                            () => { this.setState({ isLoading: false }); })\r\n    }\r\n\r\n    onSubmitError(er) {\r\n        return HandleError(Helpers, this.notificationSystem, er);\r\n    }\r\n\r\n    DeleteFormFormula(option)\r\n    {\r\n        var row = option.modalData;\r\n        var tableRows = this.state.TableRows;\r\n        var formulas = this.state.Formulas;\r\n        var fieldId = this.GetFieldId(row);\r\n\r\n        tableRows = tableRows.filter(rd => this.GetFieldId(rd) != fieldId);\r\n        formulas = formulas.filter(fd => fd.FieldId != fieldId);\r\n\r\n        option.modalOpen = false;\r\n        this.setState({\r\n            Formulas: formulas,\r\n            TableRows: tableRows\r\n        });\r\n    }\r\n\r\n    OnFieldChanged(item)\r\n    {\r\n        if(this.state.Fields.length == 0)\r\n            return;\r\n        if(item == null || item.value == '')\r\n        {\r\n            this.SelectedField = null;\r\n            Helpers.DisplayWarningMessage(this.notificationSystem, null, 'اطلاعات فیلد پیدا نشد');\r\n            return;\r\n        }\r\n        this.SelectedField = item;\r\n        this.setState({\r\n            [ControlNames.ResultVariableName]: this.SelectedField.title,\r\n            VName: this.SelectedField.title == null ? ' ' : this.SelectedField.title\r\n        });\r\n    }\r\n\r\n    AddOrEditField()\r\n    {\r\n        if(this.SelectedForm == null || this.SelectedForm == undefined)\r\n        {\r\n            Helpers.DisplayWarningMessage(this.notificationSystem, null, 'یک فرم انتخاب نمایید');\r\n            return;\r\n        }\r\n\r\n        if(this.SelectedField == null || this.SelectedField == undefined)\r\n        {\r\n            Helpers.DisplayWarningMessage(this.notificationSystem, null, 'یک فیلد انتخاب نمایید');\r\n            return;\r\n        }\r\n        var variableName = this.state[ControlNames.ResultVariableName];\r\n\r\n        if(variableName == null || variableName == '' || variableName.trim() == '')\r\n        {\r\n            Helpers.DisplayWarningMessage(this.notificationSystem, null, 'نام متغییر نتیجه را مشخص نمایید');\r\n            return;\r\n        }\r\n        var formula = this.state[ControlNames.Formula];\r\n\r\n        if(formula == null || formula == '' || formula.trim() == '')\r\n        {\r\n            Helpers.DisplayWarningMessage(this.notificationSystem, null, 'فرمول محاسبه را مشخص کنید');\r\n            return;\r\n        }\r\n        var record = [];\r\n        var records = this.state.TableRows;\r\n        var state = { };\r\n        var formulas = this.state.Formulas;\r\n\r\n        if(formulas.filter(f => f.FieldId == this.SelectedField.value).length >= 1)\r\n        {\r\n            Helpers.DisplayWarningMessage(this.notificationSystem, null, 'نام متغییر نتیجه تکراری می باشد');\r\n            return;\r\n        }\r\n        record.push(new TableItem(ControlNames.Form, this.SelectedForm.title, this.SelectedForm.value));\r\n        record.push(new TableItem(ControlNames.FieldName, this.SelectedField.label, this.SelectedField.value));\r\n        record.push(new TableItem(ControlNames.ResultVariableName, variableName));\r\n        record.push(new TableItem(ControlNames.Formula, formula));\r\n\r\n        formulas.push(new FormulaInfo(this.SelectedField.value, variableName, formula));\r\n        records.push(record);\r\n        \r\n        state['TableRows'] = records;\r\n        state[ControlNames.Field] = null;\r\n        state[ControlNames.Formula] = null;\r\n        state[\"VName\"] = null;\r\n        state[ControlNames.ResultVariableName] = null;\r\n        state['updateKey'] = this.state.updateKey + 1;\r\n        state['Formulas'] = formulas;\r\n        this.setState(state);\r\n    }\r\n\r\n    render()\r\n    {\r\n        return <>\r\n        <PageMain title=\"ثبت فرمول\"\r\n                icon=\"a-b\"\r\n                isLoading={ this.state.isLoading }\r\n                context={ this }\r\n                footerLinks={[{ href: \"/\", text: \"صفحه اصلی\" }, { href: \"https://banksepah.ir\", text: \"وب سایت رسمی بانک سپه\" }]}>\r\n            <Card\r\n              context={ this }\r\n              title=\"جزئیات ثبت فرمول\"\r\n              hasBackButton={ true }\r\n              hasDefaultSaveButton\r\n              submitUrl={ '/api/FRQST/Form/SaveFormFormulas' }\r\n              statusColor=\"success\"\r\n              ignoreValidation={ true }\r\n              onSubmitError={ this.onSubmitError }\r\n              updateKey={ this.state.updateKey }\r\n              topButtons={[\r\n                {\r\n                  title: \"لیست فرم های پویا\",\r\n                  icon: \"list-details\",\r\n                  color: \"outline-success\",\r\n                  url: GetUrl(\"formListPage\"),\r\n                },\r\n              ]}\r\n            submitFields={ \"Formulas, FormId\" }>\r\n                <DropDown\r\n                    context={ this }\r\n                    name={ ControlNames.Form }\r\n                    title=\"فرم\" \r\n                    options={ this.state.AllForms }\r\n                    required\r\n                    disabled={ true } />\r\n                <DropDown\r\n                    context={ this }\r\n                    name={ ControlNames.Field }\r\n                    title=\"فیلد\" \r\n                    options={ this.state.Fields }\r\n                    required\r\n                    changeHandler={ this.OnFieldChanged }\r\n                    disabled={ this.state.Fields.length == 0 } />\r\n                <TextBox\r\n                    context={ this }\r\n                    name={ ControlNames.ResultVariableName }\r\n                    title=\"نام متغییر نتیجه\"\r\n                    readOnly\r\n                    externalChangedValue={ this.state.VName } /> \r\n                <TextBox\r\n                    context={ this }\r\n                    name={ ControlNames.Formula }\r\n                    title=\"فرمول\"\r\n                    required\r\n                    isLTR={ true }\r\n                    minLength={ 1 }\r\n                    maxLength={ 100 }\r\n                    hint='example: ([x] * [y]) + 10'\r\n                    validateHandler={ Helpers.MinMaxLengthValidator } /> \r\n                <div className=\"row\">\r\n                    <div className=\"col p-2\">\r\n                        <a className=\"btn btn-sm btn-outline-primary float-end\" onClick={ this.AddOrEditField }>\r\n                            <i className=\"ti me-2 ti-circle-plus\" />افزودن\r\n                        </a>\r\n                    </div>\r\n                </div>\r\n                <div className=\"row\">\r\n                    <div className=\"col align-self-center\">\r\n                        <Table\r\n                            headers={[\r\n                                { title: 'نام فرم', name: ControlNames.Form },\r\n                                { title: 'نام فیلد', name: ControlNames.FieldName },\r\n                                { title: 'نام متغییر نتیجه', name: ControlNames.ResultVariableName },\r\n                                { title: 'فرمول', name: ControlNames.Formula, style: 'direction: ltr' },\r\n                            ]}\r\n                            data={ this.state.TableRows }\r\n                            lgCol={ 12 }\r\n                            minHeightTableWrapper={ 200 }\r\n                            hasDeleteButton\r\n                            onDeleteButton={ this.DeleteFormFormula } />\r\n                    </div>\r\n                </div>\r\n            </Card>\r\n        </PageMain>\r\n        <NotificationSystem ref={ this.notificationSystem } />\r\n    </>\r\n    }\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}