{"ast":null,"code":"function GetNationalId(nationalId, length) {\n  if (nationalId == null) return null;\n  if (typeof nationalId != 'string' || nationalId.length != length) return null;\n  var digits = [];\n\n  for (var index = 0; index < nationalId.length; index++) {\n    var digit = nationalId[index];\n    if (isNaN(digit)) return null;else digits.push(parseInt(digit));\n  }\n\n  return digits;\n}\n\n_c = GetNationalId;\nexport function IsLegalPersonNationalIdValid(nationalId) {\n  var digits = GetNationalId(nationalId, 11);\n  if (digits == null) return false;\n  var ratio1 = digits[9] + 2;\n  var ratioes = [29, 27, 23, 19, 17];\n  var sum = 0;\n\n  for (var index = 0; index < digits.length - 1; index++) sum += (ratio1 + digits[index]) * ratioes[index % 5];\n\n  sum %= digits.length;\n  if (sum == 10) sum = 0;\n  return sum == digits[digits.length - 1];\n}\n_c2 = IsLegalPersonNationalIdValid;\nexport function IsRealPesonNationalIdValid(nationalId) {\n  var digits = GetNationalId(nationalId, 10);\n  if (digits == null) return false;\n  var sum = 0;\n\n  for (var index = 0; index < digits.length - 1; index++) sum += digits[index] * (10 - index);\n\n  sum %= 11;\n  if (sum >= 2) sum = 11 - sum;\n  return sum == digits[digits.length - 1];\n}\n_c3 = IsRealPesonNationalIdValid;\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"GetNationalId\");\n$RefreshReg$(_c2, \"IsLegalPersonNationalIdValid\");\n$RefreshReg$(_c3, \"IsRealPesonNationalIdValid\");","map":{"version":3,"names":["GetNationalId","nationalId","length","digits","index","digit","isNaN","push","parseInt","IsLegalPersonNationalIdValid","ratio1","ratioes","sum","IsRealPesonNationalIdValid"],"sources":["D:/Projects/React/AMLS/src/utils/nationalIdentification.js"],"sourcesContent":["function GetNationalId(nationalId, length)\r\n{\r\n    if(nationalId == null)\r\n        return null;\r\n    if(typeof nationalId != 'string' || nationalId.length != length)\r\n        return null;\r\n    var digits = [];\r\n\r\n    for(var index = 0; index < nationalId.length; index++)\r\n    {\r\n        var digit = nationalId[index];\r\n\r\n        if(isNaN(digit))\r\n            return null;\r\n        else\r\n            digits.push(parseInt(digit));\r\n    }\r\n    return digits;\r\n}\r\n\r\nexport function IsLegalPersonNationalIdValid(nationalId)\r\n{\r\n    var digits = GetNationalId(nationalId, 11);\r\n\r\n    if(digits == null)\r\n        return false;\r\n    var ratio1 = digits[9] + 2;\r\n    var ratioes = [ 29, 27, 23, 19, 17 ];\r\n    var sum = 0;\r\n\r\n    for (var index = 0; index < digits.length - 1; index++)\r\n        sum += (ratio1 + digits[index]) * ratioes[index % 5];\r\n\r\n    sum %= digits.length;\r\n    if (sum == 10)\r\n        sum = 0;\r\n    return sum == digits[digits.length - 1];\r\n}\r\n\r\nexport function IsRealPesonNationalIdValid(nationalId)\r\n{\r\n    var digits = GetNationalId(nationalId, 10);\r\n\r\n    if(digits == null)\r\n        return false;\r\n    var sum = 0;\r\n\r\n    for (var index = 0; index < digits.length - 1; index++)\r\n        sum += (digits[index] * (10 - index));\r\n    sum %= 11;\r\n    if (sum >= 2)\r\n        sum = 11 - sum;\r\n    return sum == digits[digits.length - 1];\r\n}"],"mappings":"AAAA,SAASA,aAAT,CAAuBC,UAAvB,EAAmCC,MAAnC,EACA;EACI,IAAGD,UAAU,IAAI,IAAjB,EACI,OAAO,IAAP;EACJ,IAAG,OAAOA,UAAP,IAAqB,QAArB,IAAiCA,UAAU,CAACC,MAAX,IAAqBA,MAAzD,EACI,OAAO,IAAP;EACJ,IAAIC,MAAM,GAAG,EAAb;;EAEA,KAAI,IAAIC,KAAK,GAAG,CAAhB,EAAmBA,KAAK,GAAGH,UAAU,CAACC,MAAtC,EAA8CE,KAAK,EAAnD,EACA;IACI,IAAIC,KAAK,GAAGJ,UAAU,CAACG,KAAD,CAAtB;IAEA,IAAGE,KAAK,CAACD,KAAD,CAAR,EACI,OAAO,IAAP,CADJ,KAGIF,MAAM,CAACI,IAAP,CAAYC,QAAQ,CAACH,KAAD,CAApB;EACP;;EACD,OAAOF,MAAP;AACH;;KAlBQH,a;AAoBT,OAAO,SAASS,4BAAT,CAAsCR,UAAtC,EACP;EACI,IAAIE,MAAM,GAAGH,aAAa,CAACC,UAAD,EAAa,EAAb,CAA1B;EAEA,IAAGE,MAAM,IAAI,IAAb,EACI,OAAO,KAAP;EACJ,IAAIO,MAAM,GAAGP,MAAM,CAAC,CAAD,CAAN,GAAY,CAAzB;EACA,IAAIQ,OAAO,GAAG,CAAE,EAAF,EAAM,EAAN,EAAU,EAAV,EAAc,EAAd,EAAkB,EAAlB,CAAd;EACA,IAAIC,GAAG,GAAG,CAAV;;EAEA,KAAK,IAAIR,KAAK,GAAG,CAAjB,EAAoBA,KAAK,GAAGD,MAAM,CAACD,MAAP,GAAgB,CAA5C,EAA+CE,KAAK,EAApD,EACIQ,GAAG,IAAI,CAACF,MAAM,GAAGP,MAAM,CAACC,KAAD,CAAhB,IAA2BO,OAAO,CAACP,KAAK,GAAG,CAAT,CAAzC;;EAEJQ,GAAG,IAAIT,MAAM,CAACD,MAAd;EACA,IAAIU,GAAG,IAAI,EAAX,EACIA,GAAG,GAAG,CAAN;EACJ,OAAOA,GAAG,IAAIT,MAAM,CAACA,MAAM,CAACD,MAAP,GAAgB,CAAjB,CAApB;AACH;MAjBeO,4B;AAmBhB,OAAO,SAASI,0BAAT,CAAoCZ,UAApC,EACP;EACI,IAAIE,MAAM,GAAGH,aAAa,CAACC,UAAD,EAAa,EAAb,CAA1B;EAEA,IAAGE,MAAM,IAAI,IAAb,EACI,OAAO,KAAP;EACJ,IAAIS,GAAG,GAAG,CAAV;;EAEA,KAAK,IAAIR,KAAK,GAAG,CAAjB,EAAoBA,KAAK,GAAGD,MAAM,CAACD,MAAP,GAAgB,CAA5C,EAA+CE,KAAK,EAApD,EACIQ,GAAG,IAAKT,MAAM,CAACC,KAAD,CAAN,IAAiB,KAAKA,KAAtB,CAAR;;EACJQ,GAAG,IAAI,EAAP;EACA,IAAIA,GAAG,IAAI,CAAX,EACIA,GAAG,GAAG,KAAKA,GAAX;EACJ,OAAOA,GAAG,IAAIT,MAAM,CAACA,MAAM,CAACD,MAAP,GAAgB,CAAjB,CAApB;AACH;MAdeW,0B"},"metadata":{},"sourceType":"module"}