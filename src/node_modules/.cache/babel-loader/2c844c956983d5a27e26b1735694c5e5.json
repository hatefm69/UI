{"ast":null,"code":"var _jsxFileName = \"D:\\\\Projects\\\\React\\\\AMLS\\\\src\\\\sections\\\\prescribedThresholdSection.js\";\nimport { Component } from \"react\";\nimport React from \"react\";\nimport { Card, DropDown, Helpers, TextBox, CheckBox } from \"core\";\nimport NotificationSystem from \"react-notification-system\";\nimport { HandleError } from \"../utils/generals\";\nimport Constants from '../utils/constants';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default class PrescribedThresholdSection extends Component {\n  constructor(props) {\n    var state = {\n      isCommercial: false,\n      updateKey: 1\n    };\n    super(props);\n\n    if (this.props.record != null) {\n      state[\"personTypeId\"] = this.props.record.personTypeId.toString();\n      state[\"ageScopeId\"] = this.props.record.ageScopeId == null ? null : this.props.record.ageScopeId.toString();\n      state[\"transactionTypeId\"] = this.props.record.transactionTypeId.toString();\n      state[\"isCommercial\"] = this.props.record.isCommercial;\n      state[\"amountThreshold\"] = this.props.record.amountThreshold;\n      state[\"id\"] = this.props.record.id;\n      state[\"isActive\"] = this.props.record.isActive;\n    }\n\n    this.state = state;\n    this.notificationSystem = /*#__PURE__*/React.createRef();\n    this.onSubmitSuccess = this.onSubmitSuccess.bind(this);\n    this.isAgeScopeDisabled = this.isAgeScopeDisabled.bind(this);\n  }\n\n  isAgeScopeDisabled() {\n    if (this.props.record == null) return this.state.personTypeId == Constants.PersonTypes.Legal || this.state.personTypeId == null || this.state.personTypeId == '';\n    return this.props.record != null && this.state.personTypeId == Constants.PersonTypes.Legal;\n  } // Events.\n\n\n  onSubmitSuccess(response) {\n    if (this.props.record == null) this.setState({\n      personTypeId: null,\n      ageScopeId: null,\n      transactionTypeId: null,\n      isCommercial: false,\n      amountThreshold: null,\n      isActive: false,\n      updateKey: this.state.updateKey + 1\n    });\n    Helpers.DisplaySuccessMessage(this.notificationSystem, response.message);\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Card, {\n        context: this,\n        title: this.props.record == null ? \"جزئیات افزودن آستانه مقرر\" : \"جزئیات ویرایش آستانه مقرر\",\n        name: \"crdThreshold\",\n        statusColor: \"primary\",\n        hasDefaultSaveButton: true,\n        onSubmitSuccess: this.onSubmitSuccess,\n        updateKey: this.state.updateKey,\n        submitUrl: this.props.record == null ? \"/api/amls/PrescribedThreshold/AddPrescribedThreshold\" : \"/api/amls/PrescribedThreshold/UpdatePrescribedThreshold\",\n        hasBackButton: true,\n        icon: \"layers-difference\",\n        onSubmitError: error => HandleError(Helpers, this.notificationSystem, error),\n        children: [/*#__PURE__*/_jsxDEV(DropDown, {\n          context: this,\n          name: \"personTypeId\",\n          title: \"\\u0646\\u0648\\u0639 \\u0634\\u062E\\u0635\",\n          options: this.props.dropDowns.personTypes,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(DropDown, {\n          context: this,\n          name: \"ageScopeId\",\n          title: \"\\u0633\\u0646\",\n          options: this.props.dropDowns.ageScopeId,\n          required: true,\n          disabled: this.isAgeScopeDisabled()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(DropDown, {\n          context: this,\n          name: \"transactionTypeId\",\n          title: \"\\u062F\\u0648\\u0631\\u0647 \\u062A\\u0631\\u0627\\u06A9\\u0646\\u0634\",\n          options: this.props.dropDowns.amountThresholdId,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(CheckBox, {\n          context: this,\n          name: \"isCommercial\",\n          title: \"\\u0633\\u067E\\u0631\\u062F\\u0647 \\u062A\\u062C\\u0627\\u0631\\u06CC\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(TextBox, {\n          context: this,\n          name: \"amountThreshold\",\n          title: \"\\u0622\\u0633\\u062A\\u0627\\u0646\\u0647 \\u0645\\u0642\\u0631\\u0631\",\n          required: true,\n          commaSeparated: true,\n          minLength: 1,\n          maxLength: 15,\n          validateHandler: [Helpers.NumberTypeValidator, Helpers.MinMaxLengthValidator],\n          leftText: \"\\u0631\\u06CC\\u0627\\u0644\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(CheckBox, {\n          context: this,\n          name: \"isActive\",\n          title: \"\\u0641\\u0639\\u0627\\u0644\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(NotificationSystem, {\n        ref: this.notificationSystem\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true);\n  }\n\n}","map":{"version":3,"names":["Component","React","Card","DropDown","Helpers","TextBox","CheckBox","NotificationSystem","HandleError","Constants","PrescribedThresholdSection","constructor","props","state","isCommercial","updateKey","record","personTypeId","toString","ageScopeId","transactionTypeId","amountThreshold","id","isActive","notificationSystem","createRef","onSubmitSuccess","bind","isAgeScopeDisabled","PersonTypes","Legal","response","setState","DisplaySuccessMessage","message","render","error","dropDowns","personTypes","amountThresholdId","NumberTypeValidator","MinMaxLengthValidator"],"sources":["D:/Projects/React/AMLS/src/sections/prescribedThresholdSection.js"],"sourcesContent":["import { Component } from \"react\";\r\nimport React from \"react\";\r\nimport { Card, DropDown, Helpers, TextBox, CheckBox } from \"core\";\r\nimport NotificationSystem from \"react-notification-system\";\r\nimport { HandleError } from \"../utils/generals\"\r\nimport Constants from '../utils/constants'\r\n\r\nexport default class PrescribedThresholdSection extends Component\r\n{\r\n    constructor(props)\r\n    {\r\n        var state = {\r\n            isCommercial: false,\r\n            updateKey: 1\r\n        };\r\n\r\n        super(props);\r\n        if(this.props.record != null)\r\n        {\r\n            state[\"personTypeId\"] = this.props.record.personTypeId.toString();\r\n            state[\"ageScopeId\"] = (this.props.record.ageScopeId == null ? null : this.props.record.ageScopeId.toString());\r\n            state[\"transactionTypeId\"] = this.props.record.transactionTypeId.toString();\r\n            state[\"isCommercial\"] = this.props.record.isCommercial;\r\n            state[\"amountThreshold\"] = this.props.record.amountThreshold;\r\n            state[\"id\"] = this.props.record.id;\r\n            state[\"isActive\"] = this.props.record.isActive;\r\n        }\r\n        this.state = state;\r\n        this.notificationSystem = React.createRef();\r\n\r\n        this.onSubmitSuccess = this.onSubmitSuccess.bind(this);\r\n        this.isAgeScopeDisabled = this.isAgeScopeDisabled.bind(this);\r\n    }\r\n\r\n    isAgeScopeDisabled()\r\n    {\r\n        if(this.props.record == null)\r\n            return this.state.personTypeId == Constants.PersonTypes.Legal || this.state.personTypeId == null || this.state.personTypeId == '';\r\n        return this.props.record != null && this.state.personTypeId == Constants.PersonTypes.Legal;\r\n    }\r\n\r\n    // Events.\r\n    onSubmitSuccess(response)\r\n    {\r\n        if(this.props.record == null)\r\n            this.setState({\r\n                personTypeId: null,\r\n                ageScopeId: null,\r\n                transactionTypeId: null,\r\n                isCommercial: false,\r\n                amountThreshold: null,\r\n                isActive: false,\r\n                updateKey: this.state.updateKey + 1\r\n            });\r\n\r\n        Helpers.DisplaySuccessMessage(this.notificationSystem, response.message);\r\n    }\r\n\r\n    render()\r\n    {\r\n        return (\r\n            <>\r\n                <Card context={ this } title={ this.props.record == null ? \"جزئیات افزودن آستانه مقرر\" : \"جزئیات ویرایش آستانه مقرر\" } name=\"crdThreshold\"\r\n                    statusColor=\"primary\" hasDefaultSaveButton onSubmitSuccess={ this.onSubmitSuccess } updateKey={ this.state.updateKey }\r\n                    submitUrl={ this.props.record == null ? \"/api/amls/PrescribedThreshold/AddPrescribedThreshold\" : \"/api/amls/PrescribedThreshold/UpdatePrescribedThreshold\" }\r\n                    hasBackButton icon=\"layers-difference\" onSubmitError={(error) => HandleError(Helpers, this.notificationSystem, error)}>\r\n\r\n                    <DropDown context={ this } name=\"personTypeId\" title=\"نوع شخص\" options={ this.props.dropDowns.personTypes } required />\r\n                    <DropDown context={ this } name=\"ageScopeId\" title=\"سن\" options={ this.props.dropDowns.ageScopeId } required disabled={ this.isAgeScopeDisabled() }/>\r\n                    <DropDown context={ this } name=\"transactionTypeId\" title=\"دوره تراکنش\" options={ this.props.dropDowns.amountThresholdId } required />\r\n                    <CheckBox context={ this } name=\"isCommercial\" title=\"سپرده تجاری\" required  />\r\n                    <TextBox context={ this } name=\"amountThreshold\" title=\"آستانه مقرر\" required commaSeparated minLength={ 1 } maxLength={ 15 }\r\n                        validateHandler={[ Helpers.NumberTypeValidator, Helpers.MinMaxLengthValidator ]} leftText=\"ریال\" />\r\n                    <CheckBox context={ this } name=\"isActive\" title=\"فعال\" />\r\n                </Card>\r\n                <NotificationSystem ref={ this.notificationSystem } />\r\n            </>\r\n        );\r\n    }\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}