{"ast":null,"code":"var _jsxFileName = \"D:\\\\Projects\\\\React\\\\AMLS\\\\src\\\\pages\\\\customerAssistant.js\";\nimport { Helpers, PageMain, SimpleGrid, Card } from \"core\";\nimport React from \"react\";\nimport { GetUrl } from '../utils/generals';\nimport NotificationSystem from 'react-notification-system';\nimport Constants from '../utils/constants';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default class CustomerAssistant extends React.Component {\n  constructor(props) {\n    super(props);\n    this.notificationSystem = /*#__PURE__*/React.createRef();\n    this.state = {\n      updateKey: 1\n    };\n    this.onDataError = this.onDataError.bind(this);\n  } // Functions.\n\n\n  GetFilterOptions() {\n    var filters = [];\n    if (!(Helpers.IsInRole(Constants.Roles.BranchCreditChairman) || Helpers.IsInRole(Constants.Roles.BranchManager) || Helpers.IsInRole(Constants.Roles.BranchDeputy))) filters.push({\n      type: 'auto-complete',\n      name: 'branchCode',\n      title: 'شعبه',\n      lookupApiUrl: '/api/FRQST/LegalCustomer/GetBranches'\n    });\n    filters.push({\n      type: 'text',\n      name: 'customerNumber'\n    });\n    filters.push({\n      type: 'text',\n      name: 'trackingCode'\n    });\n    return filters;\n  } // Events.\n\n\n  onDataError(error) {\n    var response = error.response;\n    if (response.status == 400 || response.status == 500) Helpers.DisplayErrorMessage(this.notificationSystem, null, response.data.message);else Helpers.DisplayErrorMessage(this.notificationSystem, null, 'بروز خطا کد پاسخ : ' + response.status);\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(PageMain, {\n        title: \"\\u0641\\u0647\\u0631\\u0633\\u062A \\u062F\\u0631 \\u062E\\u0648\\u0627\\u0633\\u062A \\u0647\\u0627\\u06CC \\u0645\\u0634\\u062A\\u0631\\u06CC\",\n        icon: \"list-details\",\n        context: this,\n        footerLinks: [{\n          href: \"/\",\n          text: \"صفحه اصلی\"\n        }, {\n          href: \"https://banksepah.ir\",\n          text: \"وب سایت رسمی بانک سپه\"\n        }],\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          title: \"\",\n          context: this,\n          submitUrl: \"\",\n          hasBackButton: false,\n          hasDefaultSaveButton: false,\n          notificationSystem: this.notificationSystem,\n          cssClassName: \"CardWithoutHeader\",\n          updateKey: this.state.updateKey,\n          children: /*#__PURE__*/_jsxDEV(SimpleGrid, {\n            context: this,\n            name: \"grid\",\n            title: \"\\u0641\\u0647\\u0631\\u0633\\u062A \\u062F\\u0631\\u062E\\u0648\\u0627\\u0633\\u062A \\u0647\\u0627\\u06CC \\u062A\\u06A9\\u0645\\u06CC\\u0644 \\u0641\\u0631\\u0645\",\n            enableAutoFetch: true,\n            listApiUrl: \"/api/FRQST/Request/GetCustomerRequestList\",\n            dataKey: \"id\",\n            moreInfoLinks: [{\n              title: 'جزییات درخواست',\n              icon: 'report-search',\n              url: GetUrl('legalCustomerInBranchView/#replaceWith_id#')\n            }, {\n              title: 'تکمیل فرم ها',\n              icon: 'edit',\n              url: GetUrl('requestFormListPage/#replaceWith_id#')\n            }],\n            headers: [{\n              title: \"کد رهگیری\",\n              name: \"trackingCode\"\n            }, {\n              title: \"نام شرکت\",\n              name: \"name\"\n            }, {\n              title: \"شناسه ملی شرکت\",\n              name: \"nationalCode\"\n            }, {\n              title: \"شماره مشتری\",\n              name: \"customerNumber\"\n            }, {\n              title: \"شعبه\",\n              name: \"branchName\"\n            }, {\n              title: \"وضعیت\",\n              name: \"requestStatusTitle\"\n            }],\n            badgeOnCells: [{\n              fieldName: \"requestStatusTitle\",\n              color: x => {\n                switch (x) {\n                  case Constants.RequestStatus.RequestRejected.Label:\n                  case Constants.RequestStatus.Closed.Label:\n                    return \"red\";\n\n                  case Constants.RequestStatus.WaitingToFillFixedFormsByCustomer.Label:\n                  case Constants.RequestStatus.WaitingToCheckOrAssignFormsByCreditBranchManager.Label:\n                  case Constants.RequestStatus.WaitingToFillBranchFormsByCustomer.Label:\n                  case Constants.RequestStatus.WaitingToCheckRequestByBranchManager.Label:\n                  case Constants.RequestStatus.WaitingToCheckOrAssignFormsByRegionManager.Label:\n                  case Constants.RequestStatus.WaitingToFillRegionManagerFormsByCustomer.Label:\n                  case Constants.RequestStatus.WaitingToCheckOrAssignFormsByCenter.Label:\n                  case Constants.RequestStatus.WaitingToFillCenterFormsByCustomer.Label:\n                  case Constants.RequestStatus.WaitingToCheckOrAssignFormsByAdminCommercialCredits.Label:\n                  case Constants.RequestStatus.WaitingToFillAdminCommercialCreditsFormsByCustomer.Label:\n                    return \"yellow\";\n\n                  case Constants.RequestStatus.RequestApproved.Label:\n                    return \"green\";\n\n                  default:\n                    return \"gray\";\n                }\n              }\n            }],\n            minHeightTableWrapper: 200,\n            filterOptions: this.GetFilterOptions(),\n            notificationSystem: this.notificationSystem,\n            onDataError: this.onDataError\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(NotificationSystem, {\n        ref: this.notificationSystem\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true);\n  }\n\n}","map":{"version":3,"names":["Helpers","PageMain","SimpleGrid","Card","React","GetUrl","NotificationSystem","Constants","CustomerAssistant","Component","constructor","props","notificationSystem","createRef","state","updateKey","onDataError","bind","GetFilterOptions","filters","IsInRole","Roles","BranchCreditChairman","BranchManager","BranchDeputy","push","type","name","title","lookupApiUrl","error","response","status","DisplayErrorMessage","data","message","render","href","text","icon","url","fieldName","color","x","RequestStatus","RequestRejected","Label","Closed","WaitingToFillFixedFormsByCustomer","WaitingToCheckOrAssignFormsByCreditBranchManager","WaitingToFillBranchFormsByCustomer","WaitingToCheckRequestByBranchManager","WaitingToCheckOrAssignFormsByRegionManager","WaitingToFillRegionManagerFormsByCustomer","WaitingToCheckOrAssignFormsByCenter","WaitingToFillCenterFormsByCustomer","WaitingToCheckOrAssignFormsByAdminCommercialCredits","WaitingToFillAdminCommercialCreditsFormsByCustomer","RequestApproved"],"sources":["D:/Projects/React/AMLS/src/pages/customerAssistant.js"],"sourcesContent":["import { Helpers, PageMain, SimpleGrid, Card } from \"core\";\r\nimport React from \"react\";\r\nimport { GetUrl } from '../utils/generals'\r\nimport NotificationSystem from 'react-notification-system';\r\nimport Constants from '../utils/constants'\r\n\r\nexport default class CustomerAssistant extends React.Component\r\n{\r\n    constructor(props)\r\n    {\r\n        super(props);\r\n        this.notificationSystem = React.createRef();\r\n        this.state = { updateKey: 1 };\r\n        this.onDataError = this.onDataError.bind(this);\r\n    }\r\n\r\n    // Functions.\r\n    GetFilterOptions()\r\n    {\r\n        var filters = [];\r\n\r\n        if(!(Helpers.IsInRole(Constants.Roles.BranchCreditChairman) || Helpers.IsInRole(Constants.Roles.BranchManager) || Helpers.IsInRole(Constants.Roles.BranchDeputy)))\r\n            filters.push({ type: 'auto-complete', name: 'branchCode', title: 'شعبه' , lookupApiUrl:'/api/FRQST/LegalCustomer/GetBranches' });\r\n        filters.push({ type: 'text', name: 'customerNumber' });\r\n        filters.push({ type: 'text', name: 'trackingCode' });\r\n\r\n        return filters;\r\n    }\r\n\r\n    // Events.\r\n    onDataError(error)\r\n    {\r\n        var response = error.response;\r\n\r\n        if(response.status == 400 || response.status == 500)\r\n            Helpers.DisplayErrorMessage(this.notificationSystem, null, response.data.message);\r\n        else\r\n            Helpers.DisplayErrorMessage(this.notificationSystem, null, 'بروز خطا کد پاسخ : '+ response.status);\r\n    }\r\n\r\n    render()\r\n    {\r\n        return (<>\r\n            <PageMain\r\n                title=\"فهرست در خواست های مشتری\"\r\n                icon=\"list-details\"\r\n                context={ this }\r\n                footerLinks={[\r\n                { href: \"/\", text: \"صفحه اصلی\" },\r\n                { href: \"https://banksepah.ir\", text: \"وب سایت رسمی بانک سپه\" },\r\n                ]}>                      \r\n              <Card\r\n                  title=''\r\n                  context={ this }\r\n                  submitUrl=''\r\n                  hasBackButton={ false }\r\n                  hasDefaultSaveButton= { false }\r\n                  notificationSystem={ this.notificationSystem }\r\n                  cssClassName='CardWithoutHeader'\r\n                  updateKey={ this.state.updateKey }>\r\n                <SimpleGrid context={ this }\r\n                    name=\"grid\"\r\n                    title=\"فهرست درخواست های تکمیل فرم\"\r\n                    enableAutoFetch\r\n                    listApiUrl=\"/api/FRQST/Request/GetCustomerRequestList\"\r\n                    dataKey=\"id\"\r\n                    moreInfoLinks={[\r\n                        { title:'جزییات درخواست', icon:'report-search', url: GetUrl('legalCustomerInBranchView/#replaceWith_id#') },\r\n                        { title:'تکمیل فرم ها', icon:'edit', url: GetUrl('requestFormListPage/#replaceWith_id#') }\r\n                    ]}\r\n                    headers={[  { title: \"کد رهگیری\", name: \"trackingCode\" },\r\n                                { title: \"نام شرکت\", name: \"name\" },\r\n                                { title: \"شناسه ملی شرکت\", name: \"nationalCode\" },\r\n                                { title: \"شماره مشتری\", name: \"customerNumber\" },\r\n                                { title: \"شعبه\", name: \"branchName\" },\r\n                                { title: \"وضعیت\", name: \"requestStatusTitle\" }\r\n                            ]}\r\n                    badgeOnCells={[\r\n                        {\r\n                            fieldName: \"requestStatusTitle\",\r\n                            color: (x) => {\r\n                            switch (x) {\r\n                                case Constants.RequestStatus.RequestRejected.Label:\r\n                                case Constants.RequestStatus.Closed.Label:\r\n                                    return \"red\";\r\n                                case Constants.RequestStatus.WaitingToFillFixedFormsByCustomer.Label:\r\n                                case Constants.RequestStatus.WaitingToCheckOrAssignFormsByCreditBranchManager.Label:\r\n                                case Constants.RequestStatus.WaitingToFillBranchFormsByCustomer.Label:\r\n                                case Constants.RequestStatus.WaitingToCheckRequestByBranchManager.Label:\r\n                                case Constants.RequestStatus.WaitingToCheckOrAssignFormsByRegionManager.Label:\r\n                                case Constants.RequestStatus.WaitingToFillRegionManagerFormsByCustomer.Label:\r\n                                case Constants.RequestStatus.WaitingToCheckOrAssignFormsByCenter.Label:\r\n                                case Constants.RequestStatus.WaitingToFillCenterFormsByCustomer.Label:\r\n                                case Constants.RequestStatus.WaitingToCheckOrAssignFormsByAdminCommercialCredits.Label:\r\n                                case Constants.RequestStatus.WaitingToFillAdminCommercialCreditsFormsByCustomer.Label:\r\n                                    return \"yellow\";\r\n                                case Constants.RequestStatus.RequestApproved.Label:\r\n                                    return \"green\";\r\n                                default:\r\n                                    return \"gray\"\r\n                            }\r\n                            },\r\n                        },\r\n                        ]}\r\n                    minHeightTableWrapper={ 200 }\r\n                    filterOptions={ this.GetFilterOptions() }\r\n                    notificationSystem={ this.notificationSystem }\r\n                    onDataError={ this.onDataError } />\r\n                </Card>\r\n            </PageMain>\r\n            <NotificationSystem ref={ this.notificationSystem } />\r\n        </>);\r\n    }\r\n}"],"mappings":";AAAA,SAASA,OAAT,EAAkBC,QAAlB,EAA4BC,UAA5B,EAAwCC,IAAxC,QAAoD,MAApD;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,MAAT,QAAuB,mBAAvB;AACA,OAAOC,kBAAP,MAA+B,2BAA/B;AACA,OAAOC,SAAP,MAAsB,oBAAtB;;;AAEA,eAAe,MAAMC,iBAAN,SAAgCJ,KAAK,CAACK,SAAtC,CACf;EACIC,WAAW,CAACC,KAAD,EACX;IACI,MAAMA,KAAN;IACA,KAAKC,kBAAL,gBAA0BR,KAAK,CAACS,SAAN,EAA1B;IACA,KAAKC,KAAL,GAAa;MAAEC,SAAS,EAAE;IAAb,CAAb;IACA,KAAKC,WAAL,GAAmB,KAAKA,WAAL,CAAiBC,IAAjB,CAAsB,IAAtB,CAAnB;EACH,CAPL,CASI;;;EACAC,gBAAgB,GAChB;IACI,IAAIC,OAAO,GAAG,EAAd;IAEA,IAAG,EAAEnB,OAAO,CAACoB,QAAR,CAAiBb,SAAS,CAACc,KAAV,CAAgBC,oBAAjC,KAA0DtB,OAAO,CAACoB,QAAR,CAAiBb,SAAS,CAACc,KAAV,CAAgBE,aAAjC,CAA1D,IAA6GvB,OAAO,CAACoB,QAAR,CAAiBb,SAAS,CAACc,KAAV,CAAgBG,YAAjC,CAA/G,CAAH,EACIL,OAAO,CAACM,IAAR,CAAa;MAAEC,IAAI,EAAE,eAAR;MAAyBC,IAAI,EAAE,YAA/B;MAA6CC,KAAK,EAAE,MAApD;MAA6DC,YAAY,EAAC;IAA1E,CAAb;IACJV,OAAO,CAACM,IAAR,CAAa;MAAEC,IAAI,EAAE,MAAR;MAAgBC,IAAI,EAAE;IAAtB,CAAb;IACAR,OAAO,CAACM,IAAR,CAAa;MAAEC,IAAI,EAAE,MAAR;MAAgBC,IAAI,EAAE;IAAtB,CAAb;IAEA,OAAOR,OAAP;EACH,CApBL,CAsBI;;;EACAH,WAAW,CAACc,KAAD,EACX;IACI,IAAIC,QAAQ,GAAGD,KAAK,CAACC,QAArB;IAEA,IAAGA,QAAQ,CAACC,MAAT,IAAmB,GAAnB,IAA0BD,QAAQ,CAACC,MAAT,IAAmB,GAAhD,EACIhC,OAAO,CAACiC,mBAAR,CAA4B,KAAKrB,kBAAjC,EAAqD,IAArD,EAA2DmB,QAAQ,CAACG,IAAT,CAAcC,OAAzE,EADJ,KAGInC,OAAO,CAACiC,mBAAR,CAA4B,KAAKrB,kBAAjC,EAAqD,IAArD,EAA2D,wBAAuBmB,QAAQ,CAACC,MAA3F;EACP;;EAEDI,MAAM,GACN;IACI,oBAAQ;MAAA,wBACJ,QAAC,QAAD;QACI,KAAK,EAAC,8HADV;QAEI,IAAI,EAAC,cAFT;QAGI,OAAO,EAAG,IAHd;QAII,WAAW,EAAE,CACb;UAAEC,IAAI,EAAE,GAAR;UAAaC,IAAI,EAAE;QAAnB,CADa,EAEb;UAAED,IAAI,EAAE,sBAAR;UAAgCC,IAAI,EAAE;QAAtC,CAFa,CAJjB;QAAA,uBAQE,QAAC,IAAD;UACI,KAAK,EAAC,EADV;UAEI,OAAO,EAAG,IAFd;UAGI,SAAS,EAAC,EAHd;UAII,aAAa,EAAG,KAJpB;UAKI,oBAAoB,EAAI,KAL5B;UAMI,kBAAkB,EAAG,KAAK1B,kBAN9B;UAOI,YAAY,EAAC,mBAPjB;UAQI,SAAS,EAAG,KAAKE,KAAL,CAAWC,SAR3B;UAAA,uBASE,QAAC,UAAD;YAAY,OAAO,EAAG,IAAtB;YACI,IAAI,EAAC,MADT;YAEI,KAAK,EAAC,gJAFV;YAGI,eAAe,MAHnB;YAII,UAAU,EAAC,2CAJf;YAKI,OAAO,EAAC,IALZ;YAMI,aAAa,EAAE,CACX;cAAEa,KAAK,EAAC,gBAAR;cAA0BW,IAAI,EAAC,eAA/B;cAAgDC,GAAG,EAAEnC,MAAM,CAAC,4CAAD;YAA3D,CADW,EAEX;cAAEuB,KAAK,EAAC,cAAR;cAAwBW,IAAI,EAAC,MAA7B;cAAqCC,GAAG,EAAEnC,MAAM,CAAC,sCAAD;YAAhD,CAFW,CANnB;YAUI,OAAO,EAAE,CAAG;cAAEuB,KAAK,EAAE,WAAT;cAAsBD,IAAI,EAAE;YAA5B,CAAH,EACG;cAAEC,KAAK,EAAE,UAAT;cAAqBD,IAAI,EAAE;YAA3B,CADH,EAEG;cAAEC,KAAK,EAAE,gBAAT;cAA2BD,IAAI,EAAE;YAAjC,CAFH,EAGG;cAAEC,KAAK,EAAE,aAAT;cAAwBD,IAAI,EAAE;YAA9B,CAHH,EAIG;cAAEC,KAAK,EAAE,MAAT;cAAiBD,IAAI,EAAE;YAAvB,CAJH,EAKG;cAAEC,KAAK,EAAE,OAAT;cAAkBD,IAAI,EAAE;YAAxB,CALH,CAVb;YAiBI,YAAY,EAAE,CACV;cACIc,SAAS,EAAE,oBADf;cAEIC,KAAK,EAAGC,CAAD,IAAO;gBACd,QAAQA,CAAR;kBACI,KAAKpC,SAAS,CAACqC,aAAV,CAAwBC,eAAxB,CAAwCC,KAA7C;kBACA,KAAKvC,SAAS,CAACqC,aAAV,CAAwBG,MAAxB,CAA+BD,KAApC;oBACI,OAAO,KAAP;;kBACJ,KAAKvC,SAAS,CAACqC,aAAV,CAAwBI,iCAAxB,CAA0DF,KAA/D;kBACA,KAAKvC,SAAS,CAACqC,aAAV,CAAwBK,gDAAxB,CAAyEH,KAA9E;kBACA,KAAKvC,SAAS,CAACqC,aAAV,CAAwBM,kCAAxB,CAA2DJ,KAAhE;kBACA,KAAKvC,SAAS,CAACqC,aAAV,CAAwBO,oCAAxB,CAA6DL,KAAlE;kBACA,KAAKvC,SAAS,CAACqC,aAAV,CAAwBQ,0CAAxB,CAAmEN,KAAxE;kBACA,KAAKvC,SAAS,CAACqC,aAAV,CAAwBS,yCAAxB,CAAkEP,KAAvE;kBACA,KAAKvC,SAAS,CAACqC,aAAV,CAAwBU,mCAAxB,CAA4DR,KAAjE;kBACA,KAAKvC,SAAS,CAACqC,aAAV,CAAwBW,kCAAxB,CAA2DT,KAAhE;kBACA,KAAKvC,SAAS,CAACqC,aAAV,CAAwBY,mDAAxB,CAA4EV,KAAjF;kBACA,KAAKvC,SAAS,CAACqC,aAAV,CAAwBa,kDAAxB,CAA2EX,KAAhF;oBACI,OAAO,QAAP;;kBACJ,KAAKvC,SAAS,CAACqC,aAAV,CAAwBc,eAAxB,CAAwCZ,KAA7C;oBACI,OAAO,OAAP;;kBACJ;oBACI,OAAO,MAAP;gBAlBR;cAoBC;YAvBL,CADU,CAjBlB;YA4CI,qBAAqB,EAAG,GA5C5B;YA6CI,aAAa,EAAG,KAAK5B,gBAAL,EA7CpB;YA8CI,kBAAkB,EAAG,KAAKN,kBA9C9B;YA+CI,WAAW,EAAG,KAAKI;UA/CvB;YAAA;YAAA;YAAA;UAAA;QATF;UAAA;UAAA;UAAA;QAAA;MARF;QAAA;QAAA;QAAA;MAAA,QADI,eAoEJ,QAAC,kBAAD;QAAoB,GAAG,EAAG,KAAKJ;MAA/B;QAAA;QAAA;QAAA;MAAA,QApEI;IAAA,gBAAR;EAsEH;;AAzGL"},"metadata":{},"sourceType":"module"}