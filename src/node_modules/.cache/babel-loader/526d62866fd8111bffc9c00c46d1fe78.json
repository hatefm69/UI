{"ast":null,"code":"import _classCallCheck from\"D:/Projects/React/AMLS/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"D:/Projects/React/AMLS/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _assertThisInitialized from\"D:/Projects/React/AMLS/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";import _inherits from\"D:/Projects/React/AMLS/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"D:/Projects/React/AMLS/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import{Component}from\"react\";import React from\"react\";import{Card,DropDown,Helpers,TextBox,CheckBox}from\"core\";import NotificationSystem from\"react-notification-system\";import{HandleError}from\"../utils/generals\";import Constants from'../utils/constants';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var PrescribedThresholdSection=/*#__PURE__*/function(_Component){_inherits(PrescribedThresholdSection,_Component);var _super=_createSuper(PrescribedThresholdSection);function PrescribedThresholdSection(props){var _this;_classCallCheck(this,PrescribedThresholdSection);var state={isCommercial:false,updateKey:1};_this=_super.call(this,props);if(_this.props.record!=null){state[\"personTypeId\"]=_this.props.record.personTypeId.toString();state[\"ageScopeId\"]=_this.props.record.ageScopeId==null?null:_this.props.record.ageScopeId.toString();state[\"transactionTypeId\"]=_this.props.record.transactionTypeId.toString();state[\"isCommercial\"]=_this.props.record.isCommercial;state[\"amountThreshold\"]=_this.props.record.amountThreshold;state[\"id\"]=_this.props.record.id;state[\"isActive\"]=_this.props.record.isActive;}_this.state=state;_this.notificationSystem=/*#__PURE__*/React.createRef();_this.onSubmitSuccess=_this.onSubmitSuccess.bind(_assertThisInitialized(_this));_this.isAgeScopeDisabled=_this.isAgeScopeDisabled.bind(_assertThisInitialized(_this));return _this;}_createClass(PrescribedThresholdSection,[{key:\"isAgeScopeDisabled\",value:function isAgeScopeDisabled(){if(this.props.record==null)return this.state.personTypeId==Constants.PersonTypes.Legal||this.state.personTypeId==null||this.state.personTypeId=='';return this.props.record!=null&&this.state.personTypeId==Constants.PersonTypes.Legal;}// Events.\n},{key:\"onSubmitSuccess\",value:function onSubmitSuccess(response){if(this.props.record==null)this.setState({personTypeId:null,ageScopeId:null,transactionTypeId:null,isCommercial:false,amountThreshold:null,isActive:false,updateKey:this.state.updateKey+1});Helpers.DisplaySuccessMessage(this.notificationSystem,response.message);}},{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(Card,{context:this,title:this.props.record==null?\"جزئیات افزودن آستانه مقرر\":\"جزئیات ویرایش آستانه مقرر\",name:\"crdThreshold\",statusColor:\"primary\",hasDefaultSaveButton:true,onSubmitSuccess:this.onSubmitSuccess,updateKey:this.state.updateKey,submitUrl:this.props.record==null?\"/api/amls/PrescribedThreshold/AddPrescribedThreshold\":\"/api/amls/PrescribedThreshold/UpdatePrescribedThreshold\",hasBackButton:true,icon:\"layers-difference\",onSubmitError:function onSubmitError(error){return HandleError(Helpers,_this2.notificationSystem,error);},children:[/*#__PURE__*/_jsx(DropDown,{context:this,name:\"personTypeId\",title:\"\\u0646\\u0648\\u0639 \\u0634\\u062E\\u0635\",options:this.props.dropDowns.personTypes,required:true}),/*#__PURE__*/_jsx(DropDown,{context:this,name:\"ageScopeId\",title:\"\\u0633\\u0646\",options:this.props.dropDowns.ageScopeId,required:true,disabled:this.isAgeScopeDisabled()}),/*#__PURE__*/_jsx(DropDown,{context:this,name:\"transactionTypeId\",title:\"\\u062F\\u0648\\u0631\\u0647 \\u062A\\u0631\\u0627\\u06A9\\u0646\\u0634\",options:this.props.dropDowns.amountThresholdId,required:true}),/*#__PURE__*/_jsx(CheckBox,{context:this,name:\"isCommercial\",title:\"\\u0633\\u067E\\u0631\\u062F\\u0647 \\u062A\\u062C\\u0627\\u0631\\u06CC\",required:true}),/*#__PURE__*/_jsx(TextBox,{context:this,name:\"amountThreshold\",title:\"\\u0622\\u0633\\u062A\\u0627\\u0646\\u0647 \\u0645\\u0642\\u0631\\u0631\",required:true,commaSeparated:true,minLength:1,maxLength:15,validateHandler:[Helpers.NumberTypeValidator,Helpers.MinMaxLengthValidator],leftText:\"\\u0631\\u06CC\\u0627\\u0644\"}),/*#__PURE__*/_jsx(CheckBox,{context:this,name:\"isActive\",title:\"\\u0641\\u0639\\u0627\\u0644\"})]}),/*#__PURE__*/_jsx(NotificationSystem,{ref:this.notificationSystem})]});}}]);return PrescribedThresholdSection;}(Component);export{PrescribedThresholdSection as default};","map":null,"metadata":{},"sourceType":"module"}