{"ast":null,"code":"var _jsxFileName = \"D:\\\\Projects\\\\React\\\\AMLS\\\\src\\\\pages\\\\requestFormSelectPage.js\";\nimport React from \"react\";\nimport { Helpers, PageMain, SimpleGrid, TextBox, Card } from \"core\";\nimport NotificationSystem from 'react-notification-system';\nimport { HandleError, GetUrl } from '../utils/generals';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default class RequestFormSelectPage extends React.Component {\n  constructor(props) {\n    super(props);\n    this.requestId = this.props.match.params.requestId;\n    this.state = {\n      IsLoading: false\n    };\n    this.notificationSystem = /*#__PURE__*/React.createRef();\n    this.requestId = this.props.match.params.requestId;\n    this.OnFormChecked = this.OnFormChecked.bind(this);\n  }\n\n  OnFormChecked(checkedItems, isAdding) {\n    if (checkedItems == null || checkedItems.length <= 0) {\n      Helpers.DisplayWarningMessage(this.notificationSystem, null, 'هیچ فرمی انتخاب نشده است');\n      return;\n    }\n\n    var data = {\n      RequestId: this.requestId,\n      Forms: []\n    };\n    checkedItems.map(item => data.Forms.push({\n      Id: item,\n      Value: isAdding\n    }));\n    this.setState({\n      IsLoading: true\n    });\n    Helpers.CallServer('/api/FRQST/Request/SaveSelectedRequestForms/', {\n      FormData: data\n    }, successfulResponse => {\n      if (isAdding) Helpers.DisplaySuccessMessage(this.notificationSystem, \"فرم های انتخاب شده به کارتابل مشتری تخصیص داده شد\");else Helpers.DisplaySuccessMessage(this.notificationSystem, \"فرم های انتخاب شده از کارتابل مشتری حذف شد\");\n    }, errorResponse => {\n      return HandleError(Helpers, this.notificationSystem, errorResponse);\n    }, () => {\n      this.setState({\n        IsLoading: false\n      });\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(PageMain, {\n        title: \"\\u062A\\u0639\\u06CC\\u06CC\\u0646 \\u0641\\u0631\\u0645 \\u0647\\u0627\\u06CC \\u062A\\u06A9\\u0645\\u06CC\\u0644\\u06CC\",\n        icon: \"list-details\",\n        context: this,\n        topButtons: [{\n          title: \"فهرست فرم ها\",\n          icon: \"list-details\",\n          color: \"outline-success\",\n          url: GetUrl(\"requestFormListPage/\" + this.requestId)\n        }],\n        isLoading: this.state.IsLoading,\n        footerLinks: [{\n          href: \"/\",\n          text: \"صفحه اصلی\"\n        }, {\n          href: \"https://banksepah.ir\",\n          text: \"وب سایت رسمی بانک سپه\"\n        }],\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          title: \"\",\n          context: this,\n          submitUrl: \"\",\n          hasBackButton: false,\n          hasDefaultSaveButton: false,\n          cssClassName: \"CardWithoutHeader\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-6\",\n              children: /*#__PURE__*/_jsxDEV(SimpleGrid, {\n                context: this,\n                name: \"grid\",\n                idFieldName: \"formId\",\n                title: \"\\u0641\\u0631\\u0645 \\u0647\\u0627\\u06CC \\u062A\\u062E\\u0635\\u06CC\\u0635 \\u062F\\u0627\\u062F\\u0647 \\u0646\\u0634\\u062F\\u0647\",\n                enableAutoFetch: true,\n                listApiUrl: \"/api/FRQST/Form/GetForms/\",\n                extraItemsSentToFetchData: {\n                  RequestId: this.requestId,\n                  SelectedForms: false\n                },\n                disabledPaging: true,\n                headers: [{\n                  title: \"نام فرم\",\n                  name: \"formTitle\"\n                }, {\n                  title: \"ترتیب نمایش فرم\",\n                  name: \"order\"\n                }],\n                hideExportButton: true,\n                minHeightTableWrapper: 200,\n                checkBoxAndAction: {\n                  title: 'تخصیص فرم ها به مشتری',\n                  icon: 'checkbox',\n                  color: 'primary',\n                  action: chekcedItems => this.OnFormChecked(chekcedItems, true)\n                },\n                notificationSystem: this.notificationSystem\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 77,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-6\",\n              children: /*#__PURE__*/_jsxDEV(SimpleGrid, {\n                context: this,\n                name: \"grid\",\n                idFieldName: \"formId\",\n                title: \"\\u0641\\u0631\\u0645 \\u0647\\u0627\\u06CC \\u062A\\u062E\\u0635\\u06CC\\u0635 \\u062F\\u0627\\u062F\\u0647 \\u0634\\u062F\\u0647 \\u0628\\u0647 \\u0645\\u0634\\u062A\\u0631\\u06CC\",\n                enableAutoFetch: true,\n                listApiUrl: \"/api/FRQST/Form/GetForms/\",\n                extraItemsSentToFetchData: {\n                  RequestId: this.requestId,\n                  SelectedForms: true\n                },\n                disabledPaging: true,\n                headers: [{\n                  title: \"نام فرم\",\n                  name: \"formTitle\"\n                }, {\n                  title: \"ترتیب نمایش فرم\",\n                  name: \"order\"\n                }],\n                hideExportButton: true,\n                minHeightTableWrapper: 200,\n                checkBoxAndAction: {\n                  title: 'حذف فرم ها از مشتری',\n                  icon: 'checkbox',\n                  color: 'primary',\n                  action: chekcedItems => this.OnFormChecked(chekcedItems, false)\n                },\n                notificationSystem: this.notificationSystem\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 95,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(NotificationSystem, {\n        ref: this.notificationSystem\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true);\n  }\n\n}","map":{"version":3,"names":["React","Helpers","PageMain","SimpleGrid","TextBox","Card","NotificationSystem","HandleError","GetUrl","RequestFormSelectPage","Component","constructor","props","requestId","match","params","state","IsLoading","notificationSystem","createRef","OnFormChecked","bind","checkedItems","isAdding","length","DisplayWarningMessage","data","RequestId","Forms","map","item","push","Id","Value","setState","CallServer","FormData","successfulResponse","DisplaySuccessMessage","errorResponse","render","title","icon","color","url","href","text","SelectedForms","name","action","chekcedItems"],"sources":["D:/Projects/React/AMLS/src/pages/requestFormSelectPage.js"],"sourcesContent":["import React from \"react\";\r\nimport { Helpers, PageMain, SimpleGrid, TextBox, Card } from \"core\";\r\nimport NotificationSystem from 'react-notification-system'\r\nimport { HandleError, GetUrl } from '../utils/generals'\r\n\r\nexport default class RequestFormSelectPage extends React.Component\r\n{\r\n    constructor(props)\r\n    {\r\n        super(props);\r\n        this.requestId = this.props.match.params.requestId;\r\n        \r\n        this.state = { IsLoading: false };\r\n        this.notificationSystem = React.createRef();\r\n        this.requestId = this.props.match.params.requestId;\r\n\r\n        this.OnFormChecked = this.OnFormChecked.bind(this);\r\n    }\r\n\r\n    OnFormChecked(checkedItems, isAdding)\r\n    {\r\n        if(checkedItems == null || checkedItems.length <= 0)\r\n        {\r\n            Helpers.DisplayWarningMessage(this.notificationSystem, null, 'هیچ فرمی انتخاب نشده است');                                \r\n            return;\r\n        }\r\n        var data = {\r\n            RequestId: this.requestId,\r\n            Forms: []\r\n        }\r\n\r\n        checkedItems.map(item => data.Forms.push({\r\n            Id: item,\r\n            Value: isAdding\r\n        }));\r\n        this.setState({ IsLoading: true });\r\n        Helpers.CallServer('/api/FRQST/Request/SaveSelectedRequestForms/',\r\n                            { FormData: data },\r\n                            successfulResponse =>\r\n                            {\r\n                                if(isAdding)\r\n                                    Helpers.DisplaySuccessMessage(this.notificationSystem, \"فرم های انتخاب شده به کارتابل مشتری تخصیص داده شد\");\r\n                                else\r\n                                    Helpers.DisplaySuccessMessage(this.notificationSystem, \"فرم های انتخاب شده از کارتابل مشتری حذف شد\");\r\n                            },\r\n                            errorResponse => {\r\n                                return HandleError(Helpers, this.notificationSystem, errorResponse);\r\n                            },\r\n                            () =>\r\n                            {\r\n                                this.setState({ IsLoading: false });\r\n                            })\r\n    }\r\n\r\n    render()\r\n    {\r\n        return (<>\r\n                <PageMain\r\n                    title=\"تعیین فرم های تکمیلی\"\r\n                    icon=\"list-details\"\r\n                    context={ this }\r\n                    topButtons={[{ title: \"فهرست فرم ها\", icon: \"list-details\", color: \"outline-success\", url: GetUrl(\"requestFormListPage/\" + this.requestId) } ]}\r\n                    isLoading={ this.state.IsLoading }\r\n                    footerLinks={[\r\n                    { href: \"/\", text: \"صفحه اصلی\" },\r\n                    { href: \"https://banksepah.ir\", text: \"وب سایت رسمی بانک سپه\" },\r\n                    ]}>\r\n                    <Card\r\n                      title=''\r\n                      context={ this }\r\n                      submitUrl=''\r\n                      hasBackButton={ false }\r\n                      hasDefaultSaveButton= { false }\r\n                      cssClassName='CardWithoutHeader'>\r\n                        <div className=\"row\">\r\n                            <div className=\"col-6\">\r\n                            <SimpleGrid context={ this }\r\n                                    name=\"grid\"\r\n                                    idFieldName=\"formId\"\r\n                                    title=\"فرم های تخصیص داده نشده\"\r\n                                    enableAutoFetch\r\n                                    listApiUrl='/api/FRQST/Form/GetForms/'\r\n                                    extraItemsSentToFetchData={ { RequestId: this.requestId, SelectedForms: false } }\r\n                                    disabledPaging\r\n                                    headers={[\r\n                                            { title: \"نام فرم\", name: \"formTitle\" },\r\n                                            { title: \"ترتیب نمایش فرم\", name: \"order\" }\r\n                                            ]}\r\n                                    hideExportButton\r\n                                    minHeightTableWrapper={ 200 }\r\n                                    checkBoxAndAction={ { title: 'تخصیص فرم ها به مشتری', icon: 'checkbox', color: 'primary', action: (chekcedItems) => this.OnFormChecked(chekcedItems, true) } }\r\n                                    notificationSystem={ this.notificationSystem } />\r\n                            </div>\r\n                            <div className=\"col-6\">\r\n                            <SimpleGrid context={ this }\r\n                                    name=\"grid\"\r\n                                    idFieldName=\"formId\"\r\n                                    title=\"فرم های تخصیص داده شده به مشتری\"\r\n                                    enableAutoFetch\r\n                                    listApiUrl='/api/FRQST/Form/GetForms/'\r\n                                    extraItemsSentToFetchData={ { RequestId: this.requestId, SelectedForms: true } }\r\n                                    disabledPaging\r\n                                    headers={[\r\n                                            { title: \"نام فرم\", name: \"formTitle\" },\r\n                                            { title: \"ترتیب نمایش فرم\", name: \"order\" }\r\n                                            ]}\r\n                                    hideExportButton\r\n                                    minHeightTableWrapper={ 200 }\r\n                                    checkBoxAndAction={ { title: 'حذف فرم ها از مشتری', icon: 'checkbox', color: 'primary', action: (chekcedItems) => this.OnFormChecked(chekcedItems, false) } }\r\n                                    notificationSystem={ this.notificationSystem } />\r\n                            </div>\r\n                        </div>\r\n                    </Card>\r\n                </PageMain>\r\n                <NotificationSystem ref={ this.notificationSystem } />\r\n                </>)\r\n    }\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}