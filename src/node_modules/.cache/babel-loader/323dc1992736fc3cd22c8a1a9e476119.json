{"ast":null,"code":"var _jsxFileName = \"D:\\\\Projects\\\\React\\\\AMLS\\\\src\\\\sections\\\\basePage\\\\fieldsSection.js\";\nimport React from 'react';\nimport Constants from '../../utils/constants';\nimport { Card, TextBox, Delimiter, DropDown, Table, AutoComplete, Helpers } from \"core\";\nimport NotificationSystem from 'react-notification-system';\nimport TableItem from '../../models/tableItem';\nimport Item from '../../models/item';\nimport { GetUrl, HandleError } from \"../../utils/generals\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst ControlsNames = {\n  Field: {\n    Id: 'fieldId',\n    Name: 'name',\n    Order: 'order',\n    InitValue: 'initValue',\n    IsRequired: 'isRequired',\n    TypeId: 'typeId',\n    Show: 'show',\n    VariableName: 'variableName'\n  },\n  FieldTypeId: 'fieldTypeId',\n  TextBoxType: {\n    MinLength: 'minLength',\n    MaxLength: 'maxLength',\n    ValidationTypeId: 'validationTypeId',\n    PlaceHolder: 'placeHolder',\n    IsLtr: 'isLTR',\n    ReadOnly: 'readOnly',\n    IsMultiLine: 'isMultiLine',\n    Hint: 'hint',\n    IsMoney: 'isMoney'\n  },\n  DropDownType: {\n    DropDownId: 'dropDownId'\n  },\n  DatePickerType: {\n    UseEpoch: 'useEpoch',\n    HasTime: 'hasTime'\n  },\n  FileUploderType: {\n    SupportedFileExtensions: 'supportedFileExtensions'\n  }\n};\nconst boolean = {\n  True: \"1\",\n  False: \"2\"\n};\nconst AutoCompleteListName = 'DefaultDataListData';\nconst IsNewRecord = \"isNew\";\nexport default class FieldsSection extends React.Component {\n  constructor(props) {\n    super(props);\n    var state = {\n      FixFormControls: null,\n      DynamicFormControls: [],\n      YesNoDropDonws: [],\n      FieldTypes: [],\n      FileTypes: [],\n      FieldValidationTypes: [],\n      updateKey: 1,\n      TableRows: [],\n      FormFieldsInfo: {\n        FormId: this.props.formFieldsInfo == null ? null : this.props.formFieldsInfo.form.formId,\n        FieldRecords: []\n      },\n      ShowSaveButton: true,\n      DefaultDataListData: null,\n      RecordEditInfo: null\n    };\n    if (this.props.formFieldsInfo != null) state['formId'] = this.props.formFieldsInfo.form.formId;\n    this.state = state;\n    this.notificationSystem = /*#__PURE__*/React.createRef();\n    this.FormSeleted = this.FormSeleted.bind(this);\n    this.FieldTypeSelected = this.FieldTypeSelected.bind(this);\n    this.AddFieldInfo = this.AddFieldInfo.bind(this);\n    this.IsParameterValid = this.IsParameterValid.bind(this);\n    this.ReadPageDataAndStoreData = this.ReadPageDataAndStoreData.bind(this);\n    this.ClearInputFields = this.ClearInputFields.bind(this);\n    this.GetControlLabel = this.GetControlLabel.bind(this);\n    this.DropDownItemSelected = this.DropDownItemSelected.bind(this);\n    this.SetFieldShowState = this.SetFieldShowState.bind(this);\n    this.DeleteFieldInfo = this.DeleteFieldInfo.bind(this);\n    this.LoadFieldsAndFieldsTypeInfo = this.LoadFieldsAndFieldsTypeInfo.bind(this);\n    this.onSubmitError = this.onSubmitError.bind(this);\n    this.onBeforeSubmit = this.onBeforeSubmit.bind(this);\n    this.onSubmitSuccess = this.onSubmitSuccess.bind(this);\n    this.IsFieldOrderRepititive = this.IsFieldOrderRepititive.bind(this);\n    this.RemoveRecord = this.RemoveRecord.bind(this);\n    this.EditField = this.EditField.bind(this);\n    this.CheckIfVairableNameIsRepititive = this.CheckIfVairableNameIsRepititive.bind(this);\n    this.GetFieldControls = this.GetFieldControls.bind(this);\n    this.dropDownName = null;\n    this.RowIndex = 1;\n  } // Functions.\n\n\n  GetFieldControls() {\n    const name = 'fld';\n    var controls = [];\n    var counter = 1;\n    controls.push( /*#__PURE__*/_jsxDEV(Delimiter, {}, name + counter++, false, {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 21\n    }, this));\n    controls.push( /*#__PURE__*/_jsxDEV(TextBox, {\n      context: this,\n      name: ControlsNames.Field.Name,\n      title: \"\\u0646\\u0627\\u0645\",\n      required: true,\n      minLength: 1,\n      maxLength: 64,\n      validateHandler: Helpers.MinMaxLengthValidator\n    }, name + counter++, false, {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 21\n    }, this));\n    controls.push( /*#__PURE__*/_jsxDEV(TextBox, {\n      context: this,\n      name: ControlsNames.Field.Order,\n      title: \"\\u062A\\u0631\\u062A\\u06CC\\u0628 \\u0646\\u0645\\u0627\\u06CC\\u0634\",\n      minLength: 1,\n      maxLength: 2,\n      validateHandler: [Helpers.MinMaxLengthValidator, Helpers.NumberTypeValidator],\n      required: true\n    }, name + counter++, false, {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 21\n    }, this));\n    controls.push( /*#__PURE__*/_jsxDEV(TextBox, {\n      context: this,\n      name: ControlsNames.Field.InitValue,\n      title: \"\\u0645\\u0642\\u062F\\u0627\\u0631 \\u067E\\u06CC\\u0634 \\u0641\\u0631\\u0636\",\n      minLength: 0,\n      maxLength: 128,\n      validateHandler: Helpers.MinMaxLengthValidator\n    }, name + counter++, false, {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 21\n    }, this));\n    controls.push( /*#__PURE__*/_jsxDEV(DropDown, {\n      context: this,\n      name: ControlsNames.Field.IsRequired,\n      title: \"\\u0648\\u0636\\u0639\\u06CC\\u062A \\u0627\\u062C\\u0628\\u0627\\u0631\\u06CC\",\n      required: true,\n      options: this.state.YesNoDropDonws\n    }, name + counter++, false, {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 21\n    }, this));\n    controls.push( /*#__PURE__*/_jsxDEV(DropDown, {\n      context: this,\n      name: ControlsNames.Field.TypeId,\n      title: \"\\u0646\\u0648\\u0639 \\u0641\\u06CC\\u0644\\u062F\",\n      options: this.state.FieldTypes,\n      changeHandler: this.FieldTypeSelected,\n      required: true\n    }, name + counter++, false, {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 21\n    }, this));\n    controls.push( /*#__PURE__*/_jsxDEV(DropDown, {\n      context: this,\n      name: ControlsNames.Field.Show,\n      title: \"\\u0648\\u0636\\u0639\\u06CC\\u062A \\u0646\\u0645\\u0627\\u06CC\\u0634\",\n      options: [{\n        title: 'نمایش',\n        value: boolean.True,\n        label: 'نمایش'\n      }, {\n        title: 'پنهان',\n        value: boolean.False,\n        label: 'پنهان'\n      }],\n      required: true\n    }, name + counter++, false, {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 23\n    }, this));\n    controls.push( /*#__PURE__*/_jsxDEV(TextBox, {\n      context: this,\n      name: ControlsNames.Field.VariableName,\n      title: \"\\u0646\\u0627\\u0645 \\u0645\\u062A\\u063A\\u06CC\\u06CC\\u0631\",\n      minLength: 0,\n      maxLength: 10,\n      validateHandler: Helpers.MinMaxLengthValidator\n    }, name + counter++, false, {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 25\n    }, this));\n    return controls;\n  }\n\n  GetTextBoxFields() {\n    const name = 'txt';\n    var controls = [];\n    var counter = 10;\n    controls.push( /*#__PURE__*/_jsxDEV(Delimiter, {}, name + counter++, false, {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 21\n    }, this));\n    controls.push( /*#__PURE__*/_jsxDEV(TextBox, {\n      context: this,\n      name: ControlsNames.TextBoxType.MinLength,\n      minLength: 1,\n      maxLength: 3,\n      validateHandler: Helpers.NumberTypeValidator,\n      title: \"\\u062D\\u062F\\u0627\\u0642\\u0644 \\u0637\\u0648\\u0644\"\n    }, name + counter++, false, {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 21\n    }, this));\n    controls.push( /*#__PURE__*/_jsxDEV(TextBox, {\n      context: this,\n      name: ControlsNames.TextBoxType.MaxLength,\n      minLength: 1,\n      maxLength: 3,\n      validateHandler: Helpers.NumberTypeValidator,\n      title: \"\\u062D\\u062F\\u0627\\u06A9\\u062B\\u0631 \\u0637\\u0648\\u0644\"\n    }, name + counter++, false, {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 21\n    }, this));\n    controls.push( /*#__PURE__*/_jsxDEV(TextBox, {\n      context: this,\n      minLength: 0,\n      maxLength: 128,\n      validateHandler: Helpers.MinMaxLengthValidator,\n      name: ControlsNames.TextBoxType.PlaceHolder,\n      title: \"\\u0645\\u062A\\u0646 \\u0631\\u0627\\u0647\\u0646\\u0645\\u0627\"\n    }, name + counter++, false, {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 21\n    }, this));\n    controls.push( /*#__PURE__*/_jsxDEV(TextBox, {\n      context: this,\n      name: ControlsNames.TextBoxType.Hint,\n      minLength: 0,\n      maxLength: 128,\n      validateHandler: Helpers.MinMaxLengthValidator,\n      title: \"\\u062A\\u0648\\u0636\\u06CC\\u062D\\u0627\\u062A\"\n    }, name + counter++, false, {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 21\n    }, this));\n    controls.push( /*#__PURE__*/_jsxDEV(DropDown, {\n      context: this,\n      name: ControlsNames.TextBoxType.ReadOnly,\n      title: \"\\u0641\\u0642\\u0637 \\u062E\\u0648\\u0627\\u0646\\u062F\\u0646\\u06CC\",\n      options: this.state.YesNoDropDonws\n    }, name + counter++, false, {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 21\n    }, this));\n    controls.push( /*#__PURE__*/_jsxDEV(DropDown, {\n      context: this,\n      name: ControlsNames.TextBoxType.IsMultiLine,\n      title: \"\\u0686\\u0646\\u062F \\u062E\\u0637\\u06CC \",\n      options: this.state.YesNoDropDonws\n    }, name + counter++, false, {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 21\n    }, this));\n    controls.push( /*#__PURE__*/_jsxDEV(DropDown, {\n      context: this,\n      name: ControlsNames.TextBoxType.IsMoney,\n      title: \"\\u0646\\u0648\\u0639 \\u0645\\u0628\\u0644\\u063A\",\n      options: this.state.YesNoDropDonws\n    }, name + counter++, false, {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 21\n    }, this));\n    controls.push( /*#__PURE__*/_jsxDEV(DropDown, {\n      context: this,\n      name: ControlsNames.TextBoxType.IsLtr,\n      title: \"\\u0686\\u067E \\u0628\\u0647 \\u0631\\u0627\\u0633\\u062A\",\n      options: this.state.YesNoDropDonws\n    }, name + counter++, false, {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 21\n    }, this));\n    controls.push( /*#__PURE__*/_jsxDEV(DropDown, {\n      context: this,\n      name: ControlsNames.TextBoxType.ValidationTypeId,\n      title: \"\\u0646\\u0648\\u0639 \\u0627\\u0639\\u062A\\u0628\\u0627\\u0631 \\u0633\\u0646\\u062C\\u06CC\",\n      required: true,\n      options: this.state.FieldValidationTypes\n    }, name + counter++, false, {\n      fileName: _jsxFileName,\n      lineNumber: 238,\n      columnNumber: 21\n    }, this));\n    return controls;\n  }\n\n  GetDropDownFields() {\n    const name = 'drp';\n    var controls = [];\n    var counter = 20;\n    controls.push( /*#__PURE__*/_jsxDEV(Delimiter, {}, name + counter++, false, {\n      fileName: _jsxFileName,\n      lineNumber: 255,\n      columnNumber: 21\n    }, this));\n    controls.push( /*#__PURE__*/_jsxDEV(AutoComplete, {\n      context: this,\n      name: ControlsNames.DropDownType.DropDownId,\n      title: \"\\u062F\\u0627\\u062F\\u0647 \\u0647\\u0627\\u06CC \\u0634\\u0645\\u0627\\u0631\\u0634\\u06CC\",\n      notificationSystem: this.notificationSystem,\n      required: true,\n      remoteUrl: \"/api/FRQST/Field/SearchDropDowns\",\n      externalData: this.state.DefaultDataListData == null ? [] : [this.state.DefaultDataListData],\n      changeHandler: this.DropDownItemSelected\n    }, name + counter++, false, {\n      fileName: _jsxFileName,\n      lineNumber: 256,\n      columnNumber: 21\n    }, this));\n    return controls;\n  }\n\n  GetDatePickerFields() {\n    const name = 'dp';\n    var controls = [];\n    var counter = 40;\n    controls.push( /*#__PURE__*/_jsxDEV(Delimiter, {}, name + counter++, false, {\n      fileName: _jsxFileName,\n      lineNumber: 277,\n      columnNumber: 21\n    }, this));\n    controls.push( /*#__PURE__*/_jsxDEV(DropDown, {\n      context: this,\n      name: ControlsNames.DatePickerType.HasTime,\n      title: \"\\u0634\\u0627\\u0645\\u0644 \\u0633\\u0627\\u0639\\u062A\",\n      options: this.state.YesNoDropDonws\n    }, name + counter++, false, {\n      fileName: _jsxFileName,\n      lineNumber: 278,\n      columnNumber: 21\n    }, this));\n    controls.push( /*#__PURE__*/_jsxDEV(DropDown, {\n      context: this,\n      name: ControlsNames.DatePickerType.UseEpoch,\n      title: \"\\u0646\\u0648\\u0639 \\u062A\\u0627\\u0631\\u06CC\\u062E \\u06CC\\u0648\\u0646\\u06CC\\u06A9\\u0633\",\n      options: this.state.YesNoDropDonws\n    }, name + counter++, false, {\n      fileName: _jsxFileName,\n      lineNumber: 284,\n      columnNumber: 21\n    }, this));\n    return controls;\n  }\n\n  GetFileUploaderFields() {\n    const name = 'ful';\n    var controls = [];\n    var counter = 60;\n    controls.push( /*#__PURE__*/_jsxDEV(Delimiter, {}, name + counter++, false, {\n      fileName: _jsxFileName,\n      lineNumber: 300,\n      columnNumber: 21\n    }, this));\n    controls.push( /*#__PURE__*/_jsxDEV(DropDown, {\n      context: this,\n      name: ControlsNames.FileUploderType.SupportedFileExtensions,\n      title: \"\\u0646\\u0648\\u0639 \\u0641\\u0627\\u06CC\\u0644 \\u0647\\u0627\\u06CC \\u067E\\u0634\\u062A\\u06CC\\u0628\\u0627\\u0646\\u06CC\",\n      required: true,\n      isMulti: true,\n      options: this.state.FileTypes\n    }, name + counter++, false, {\n      fileName: _jsxFileName,\n      lineNumber: 301,\n      columnNumber: 21\n    }, this));\n    return controls;\n  }\n\n  IsParameterValid(name) {\n    var msg = \"\";\n\n    if (this.state[name + 'IsValid'] == false) {\n      msg = this.state[name + 'ValidFeedBack'];\n      Helpers.DisplayErrorMessage(this.notificationSystem, null, msg);\n      return false;\n    }\n\n    return true;\n  }\n\n  IsFieldValid() {\n    if (!this.IsParameterValid(ControlsNames.Field.Name)) return false;\n    if (!this.IsParameterValid(ControlsNames.Field.Order)) return false;\n    if (!this.IsParameterValid(ControlsNames.Field.IsRequired)) return false;\n    if (!this.IsParameterValid(ControlsNames.Field.Show)) return false;\n    return true;\n  }\n\n  IsFieldTextBoxTypesValid() {\n    if (!this.IsParameterValid(ControlsNames.TextBoxType.ValidationTypeId)) return false;\n\n    if (parseInt(this.state[ControlsNames.TextBoxType.ValidationTypeId]) == Constants.ValidationTypes.Text_Min_Max) {\n      if (this.state[ControlsNames.TextBoxType.MinLength] == '') {\n        Helpers.DisplayErrorMessage(this.notificationSystem, null, 'حداقل طول مقدار را وارد نمایید');\n        return false;\n      }\n\n      if (this.state[ControlsNames.TextBoxType.MaxLength] == '') {\n        Helpers.DisplayErrorMessage(this.notificationSystem, null, 'حداکثر طول مقدار را وارد نمایید');\n        return false;\n      }\n    }\n\n    return true;\n  }\n\n  ClearInputFields(all) {\n    var state = {};\n\n    if (all != null && all == true) {\n      state[ControlsNames.Field.Name] = null;\n      state[ControlsNames.Field.Order] = null;\n      state[ControlsNames.Field.InitValue] = null;\n      state[ControlsNames.Field.IsRequired] = null;\n      state[ControlsNames.Field.TypeId] = null;\n      state[ControlsNames.Field.Show] = null;\n      state[ControlsNames.Field.VariableName] = null;\n    }\n\n    state[ControlsNames.TextBoxType.MinLength] = null;\n    state[ControlsNames.TextBoxType.MaxLength] = null;\n    state[ControlsNames.TextBoxType.PlaceHolder] = null;\n    state[ControlsNames.TextBoxType.Hint] = null;\n    state[ControlsNames.TextBoxType.ReadOnly] = null;\n    state[ControlsNames.TextBoxType.IsMultiLine] = null;\n    state[ControlsNames.TextBoxType.IsMoney] = null;\n    state[ControlsNames.TextBoxType.IsLtr] = null;\n    state[ControlsNames.TextBoxType.ValidationTypeId] = null;\n    state[ControlsNames.DatePickerType.HasTime] = null;\n    state[ControlsNames.DatePickerType.UseEpoch] = null;\n    state[ControlsNames.DropDownType.DropDownId] = null;\n    state[ControlsNames.FileUploderType.SupportedFileExtensions] = null;\n    state['DynamicFormControls'] = null;\n    this.dropDownName = null;\n    this.setState(state);\n  }\n\n  GetControlLabel(controlName, value) {\n    if (value == null || value == '') return null;\n    var foundName = '***';\n    var name;\n\n    switch (controlName) {\n      case ControlsNames.Field.IsRequired:\n      case ControlsNames.TextBoxType.ReadOnly:\n      case ControlsNames.TextBoxType.IsMultiLine:\n      case ControlsNames.TextBoxType.IsMoney:\n      case ControlsNames.TextBoxType.IsLtr:\n      case ControlsNames.DatePickerType.HasTime:\n      case ControlsNames.DatePickerType.UseEpoch:\n        name = this.state.YesNoDropDonws.filter(drp => drp.value == value);\n        if (name != null && name.length == 1) foundName = name[0].label;\n        break;\n\n      case ControlsNames.Field.TypeId:\n        name = this.state.FieldTypes.filter(ft => ft.value == value);\n        if (name != null && name.length == 1) foundName = name[0].label;\n        break;\n\n      case ControlsNames.TextBoxType.ValidationTypeId:\n        name = this.state.FieldValidationTypes.filter(fvt => fvt.value == value);\n        if (name != null && name.length == 1) foundName = name[0].label;\n        break;\n\n      case ControlsNames.FileUploderType.SupportedFileExtensions:\n        if (value == null || value.length <= 0) return foundName;\n        value.forEach(sf => {\n          name = this.state.FileTypes.filter(sp => sp.value == sf);\n\n          if (name != null && name.length == 1) {\n            if (foundName == '***') {\n              foundName = '';\n              foundName = name[0].label;\n            } else foundName += ', ' + name[0].label;\n          }\n        });\n        break;\n\n      default:\n        return foundName;\n    }\n\n    return foundName;\n  }\n\n  ReadPageDataAndStoreData() {\n    var order = this.state[ControlsNames.Field.Order];\n    var editRecordInfo = this.state.RecordEditInfo;\n    if (editRecordInfo == null && !this.IsFieldOrderRepititive(order)) return;\n    var tableRows = this.state.TableRows;\n    var formFieldsInfo = this.state.FormFieldsInfo;\n    var record = {\n      Index: this.RowIndex\n    };\n    var row = [];\n    var temp;\n    var label;\n    record[ControlsNames.Field.Id] = editRecordInfo == null ? null : editRecordInfo.FieldId;\n    record[ControlsNames.FieldTypeId] = editRecordInfo == null ? null : editRecordInfo.FieldTypeId;\n    temp = this.state[ControlsNames.Field.Name];\n    record[ControlsNames.Field.Name] = temp;\n    row.push(new TableItem(ControlsNames.Field.Name, temp, new Item(temp, temp, this.RowIndex)));\n    record[ControlsNames.Field.Order] = order;\n    row.push(new TableItem(ControlsNames.Field.Order, order, new Item(temp, order, this.RowIndex)));\n    temp = this.state[ControlsNames.Field.InitValue];\n    record[ControlsNames.Field.InitValue] = temp;\n    row.push(new TableItem(ControlsNames.Field.InitValue, temp, new Item(temp, temp, this.RowIndex)));\n    temp = this.state[ControlsNames.Field.IsRequired];\n    record[ControlsNames.Field.IsRequired] = temp;\n    label = this.GetControlLabel(ControlsNames.Field.IsRequired, temp);\n    row.push(new TableItem(ControlsNames.Field.IsRequired, label, new Item(temp, label, this.RowIndex)));\n    temp = this.state[ControlsNames.Field.TypeId];\n    record[ControlsNames.Field.TypeId] = temp;\n    label = this.GetControlLabel(ControlsNames.Field.TypeId, temp);\n    row.push(new TableItem(ControlsNames.Field.TypeId, label, new Item(temp, label, this.RowIndex)));\n    temp = this.state[ControlsNames.Field.Show] == boolean.True ? true : false;\n    record[ControlsNames.Field.Show] = temp;\n    row.push(new TableItem(ControlsNames.Field.Show, temp, new Item(this.state[ControlsNames.Field.Show], temp, this.RowIndex)));\n    temp = this.state[ControlsNames.Field.VariableName];\n    record[ControlsNames.Field.VariableName] = temp;\n    row.push(new TableItem(ControlsNames.Field.VariableName, temp, new Item(temp, temp, this.RowIndex)));\n    temp = this.state[ControlsNames.TextBoxType.MinLength];\n    record[ControlsNames.TextBoxType.MinLength] = temp;\n    row.push(new TableItem(ControlsNames.TextBoxType.MinLength, temp, new Item(temp, temp, this.RowIndex)));\n    temp = this.state[ControlsNames.TextBoxType.MaxLength];\n    record[ControlsNames.TextBoxType.MaxLength] = temp;\n    row.push(new TableItem(ControlsNames.TextBoxType.MaxLength, temp, new Item(temp, temp, this.RowIndex)));\n    temp = this.state[ControlsNames.TextBoxType.PlaceHolder];\n    record[ControlsNames.TextBoxType.PlaceHolder] = temp;\n    row.push(new TableItem(ControlsNames.TextBoxType.PlaceHolder, temp, new Item(temp, temp, this.RowIndex)));\n    temp = this.state[ControlsNames.TextBoxType.Hint];\n    record[ControlsNames.TextBoxType.Hint] = temp;\n    row.push(new TableItem(ControlsNames.TextBoxType.Hint, temp, new Item(temp, temp, this.RowIndex)));\n    temp = this.state[ControlsNames.TextBoxType.ReadOnly];\n    record[ControlsNames.TextBoxType.ReadOnly] = temp;\n    label = this.GetControlLabel(ControlsNames.TextBoxType.ReadOnly, temp);\n    row.push(new TableItem(ControlsNames.TextBoxType.ReadOnly, label, new Item(temp, label, this.RowIndex)));\n    temp = this.state[ControlsNames.TextBoxType.IsMultiLine];\n    record[ControlsNames.TextBoxType.IsMultiLine] = temp;\n    label = this.GetControlLabel(ControlsNames.TextBoxType.IsMultiLine, temp);\n    row.push(new TableItem(ControlsNames.TextBoxType.IsMultiLine, label, new Item(temp, label, this.RowIndex)));\n    temp = this.state[ControlsNames.TextBoxType.IsMoney];\n    record[ControlsNames.TextBoxType.IsMoney] = temp;\n    label = this.GetControlLabel(ControlsNames.TextBoxType.IsMoney, temp);\n    row.push(new TableItem(ControlsNames.TextBoxType.IsMoney, label, new Item(temp, label, this.RowIndex)));\n    temp = this.state[ControlsNames.TextBoxType.IsLtr];\n    record[ControlsNames.TextBoxType.IsLtr] = temp;\n    label = this.GetControlLabel(ControlsNames.TextBoxType.IsLtr, temp);\n    row.push(new TableItem(ControlsNames.TextBoxType.IsLtr, label, new Item(temp, label, this.RowIndex)));\n    temp = this.state[ControlsNames.TextBoxType.ValidationTypeId];\n    record[ControlsNames.TextBoxType.ValidationTypeId] = temp;\n    label = this.GetControlLabel(ControlsNames.TextBoxType.ValidationTypeId, temp);\n    row.push(new TableItem(ControlsNames.TextBoxType.ValidationTypeId, label, new Item(temp, label, this.RowIndex)));\n    temp = this.state[ControlsNames.DatePickerType.HasTime];\n    record[ControlsNames.DatePickerType.HasTime] = temp;\n    label = this.GetControlLabel(ControlsNames.DatePickerType.HasTime, temp);\n    row.push(new TableItem(ControlsNames.DatePickerType.HasTime, label, new Item(temp, label, this.RowIndex)));\n    temp = this.state[ControlsNames.DatePickerType.UseEpoch];\n    record[ControlsNames.DatePickerType.UseEpoch] = temp;\n    label = this.GetControlLabel(ControlsNames.DatePickerType.UseEpoch, temp);\n    row.push(new TableItem(ControlsNames.DatePickerType.UseEpoch, label, new Item(temp, label, this.RowIndex)));\n    temp = this.state[ControlsNames.DropDownType.DropDownId];\n    record[ControlsNames.DropDownType.DropDownId] = temp;\n    row.push(new TableItem(ControlsNames.DropDownType.DropDownId, this.dropDownName, new Item(temp, this.dropDownName, this.RowIndex)));\n    temp = this.state[ControlsNames.FileUploderType.SupportedFileExtensions];\n    temp = temp != null && temp.length == 1 ? temp[0] : null;\n    record[ControlsNames.FileUploderType.SupportedFileExtensions] = temp;\n    label = this.GetControlLabel(ControlsNames.FileUploderType.SupportedFileExtensions, temp);\n    row.push(new TableItem(ControlsNames.FileUploderType.SupportedFileExtensions, label, new Item(temp, label, this.RowIndex)));\n    this.RowIndex++;\n    record[IsNewRecord] = true;\n\n    if (editRecordInfo != null) {\n      formFieldsInfo.FieldRecords = formFieldsInfo.FieldRecords.filter(rd => rd.Index != editRecordInfo.Index);\n      tableRows = tableRows.filter(rw => rw[0].ExtraData.ExtraData != editRecordInfo.Index);\n    }\n\n    formFieldsInfo.FieldRecords.push(record);\n    tableRows.push(row);\n    this.setState({\n      FormFieldsInfo: formFieldsInfo,\n      TableRows: tableRows,\n      updateKey: this.state.updateKey + 1,\n      RecordEditInfo: null\n    });\n    this.ClearInputFields(true);\n  }\n\n  LoadFieldsAndFieldsTypeInfo(rows) {\n    if (this.props.formFieldsInfo == null) return;\n    var tableRows = this.state.TableRows;\n    var formFieldsInfo = this.state.FormFieldsInfo;\n    tableRows = [];\n    formFieldsInfo.FieldRecords = [];\n    if (rows == null) rows = this.props.formFieldsInfo.fieldsAndFieldTypeInfo;\n    rows.forEach(item => {\n      var record = {\n        Index: this.RowIndex\n      };\n      var row = [];\n      var temp;\n      var label;\n      record[ControlsNames.Field.Id] = item.field.id;\n      record[ControlsNames.FieldTypeId] = item.fieldTypeInfo.id;\n      temp = item.field.name;\n      record[ControlsNames.Field.Name] = temp;\n      row.push(new TableItem(ControlsNames.Field.Name, temp, new Item(temp, temp, this.RowIndex)));\n      temp = item.field.order;\n      record[ControlsNames.Field.Order] = temp;\n      row.push(new TableItem(ControlsNames.Field.Order, temp, new Item(temp, temp, this.RowIndex)));\n      temp = item.field.initValue;\n      record[ControlsNames.Field.InitValue] = temp;\n      row.push(new TableItem(ControlsNames.Field.InitValue, temp, new Item(temp, temp, this.RowIndex)));\n      temp = item.field.isRequired;\n      record[ControlsNames.Field.IsRequired] = temp;\n      label = this.GetControlLabel(ControlsNames.Field.IsRequired, temp);\n      row.push(new TableItem(ControlsNames.Field.IsRequired, label, new Item(temp, label, this.RowIndex)));\n      temp = item.field.typeId;\n      record[ControlsNames.Field.TypeId] = temp;\n      label = this.GetControlLabel(ControlsNames.Field.TypeId, temp);\n      row.push(new TableItem(ControlsNames.Field.TypeId, label, new Item(temp, label, this.RowIndex)));\n      temp = item.field.show;\n      record[ControlsNames.Field.Show] = temp;\n      row.push(new TableItem(ControlsNames.Field.Show, temp, new Item(temp == true ? boolean.True : boolean.False, temp, this.RowIndex)));\n      temp = item.field.variableName;\n      record[ControlsNames.Field.VariableName] = temp;\n      row.push(new TableItem(ControlsNames.Field.VariableName, temp, new Item(temp, temp, this.RowIndex)));\n      temp = item.fieldTypeInfo.minLength;\n      record[ControlsNames.TextBoxType.MinLength] = temp;\n      row.push(new TableItem(ControlsNames.TextBoxType.MinLength, temp, new Item(temp, temp, this.RowIndex)));\n      temp = item.fieldTypeInfo.maxLength;\n      record[ControlsNames.TextBoxType.MaxLength] = temp;\n      row.push(new TableItem(ControlsNames.TextBoxType.MaxLength, temp, new Item(temp, temp, this.RowIndex)));\n      temp = item.fieldTypeInfo.placeHolder;\n      record[ControlsNames.TextBoxType.PlaceHolder] = temp;\n      row.push(new TableItem(ControlsNames.TextBoxType.PlaceHolder, temp, new Item(temp, temp, this.RowIndex)));\n      temp = item.fieldTypeInfo.hint;\n      record[ControlsNames.TextBoxType.Hint] = temp;\n      row.push(new TableItem(ControlsNames.TextBoxType.Hint, temp, new Item(temp, temp, this.RowIndex)));\n      temp = item.fieldTypeInfo.readOnly;\n      record[ControlsNames.TextBoxType.ReadOnly] = temp;\n      label = this.GetControlLabel(ControlsNames.TextBoxType.ReadOnly, temp);\n      row.push(new TableItem(ControlsNames.TextBoxType.ReadOnly, label, new Item(temp, label, this.RowIndex)));\n      temp = item.fieldTypeInfo.isMultiLine;\n      record[ControlsNames.TextBoxType.IsMultiLine] = temp;\n      label = this.GetControlLabel(ControlsNames.TextBoxType.IsMultiLine, temp);\n      row.push(new TableItem(ControlsNames.TextBoxType.IsMultiLine, label, new Item(temp, label, this.RowIndex)));\n      temp = item.fieldTypeInfo.isMoney;\n      record[ControlsNames.TextBoxType.IsMoney] = temp;\n      label = this.GetControlLabel(ControlsNames.TextBoxType.IsMoney, temp);\n      row.push(new TableItem(ControlsNames.TextBoxType.IsMoney, label, new Item(temp, label, this.RowIndex)));\n      temp = item.fieldTypeInfo.isLTR;\n      record[ControlsNames.TextBoxType.IsLtr] = temp;\n      label = this.GetControlLabel(ControlsNames.TextBoxType.IsLtr, temp);\n      row.push(new TableItem(ControlsNames.TextBoxType.IsLtr, label, new Item(temp, label, this.RowIndex)));\n      temp = item.fieldTypeInfo.validationTypeId;\n      record[ControlsNames.TextBoxType.ValidationTypeId] = temp;\n      label = this.GetControlLabel(ControlsNames.TextBoxType.ValidationTypeId, temp);\n      row.push(new TableItem(ControlsNames.TextBoxType.ValidationTypeId, label, new Item(temp, label, this.RowIndex)));\n      temp = item.fieldTypeInfo.hasTime;\n      record[ControlsNames.DatePickerType.HasTime] = temp;\n      label = this.GetControlLabel(ControlsNames.DatePickerType.HasTime, temp);\n      row.push(new TableItem(ControlsNames.DatePickerType.HasTime, label, new Item(temp, label, this.RowIndex)));\n      temp = item.fieldTypeInfo.useEpoch;\n      record[ControlsNames.DatePickerType.UseEpoch] = temp;\n      label = this.GetControlLabel(ControlsNames.DatePickerType.UseEpoch, temp);\n      row.push(new TableItem(ControlsNames.DatePickerType.UseEpoch, label, new Item(temp, label, this.RowIndex)));\n      temp = item.fieldTypeInfo.dropDownId;\n      record[ControlsNames.DropDownType.DropDownId] = temp;\n      row.push(new TableItem(ControlsNames.DropDownType.DropDownId, item.fieldTypeInfo.dropDownName, new Item(temp, item.fieldTypeInfo.dropDownName, this.RowIndex)));\n      temp = item.fieldTypeInfo.supportedFileExtensions;\n      record[ControlsNames.FileUploderType.SupportedFileExtensions] = temp;\n      label = this.GetControlLabel(ControlsNames.FileUploderType.SupportedFileExtensions, temp);\n      row.push(new TableItem(ControlsNames.FileUploderType.SupportedFileExtensions, label, new Item(temp, label, this.RowIndex)));\n      this.RowIndex++;\n      record[IsNewRecord] = false;\n      formFieldsInfo.FieldRecords.push(record);\n      tableRows.push(row);\n    });\n    this.setState({\n      FormFieldsInfo: formFieldsInfo,\n      TableRows: tableRows\n    });\n  }\n\n  IsFieldOrderRepititive(newOrder) {\n    var isValid = true;\n    var orders = [];\n    if (newOrder != null) orders.push(newOrder);\n    this.state.FormFieldsInfo.FieldRecords.forEach(item => {\n      if (isValid == false) return;\n      if (orders.filter(order => order == item.order).length >= 1) isValid = false;\n      orders.push(item.order);\n    });\n    if (isValid == false) Helpers.DisplayErrorMessage(this.notificationSystem, null, 'ترتیب نمایش فیلد تکراری می باشد');\n    return isValid;\n  }\n\n  GetTableColumn(row, columnName) {\n    var column = row.filter(cls => cls.name == columnName);\n\n    if (column == null || column.length <= 0) {\n      Helpers.DisplayErrorMessage(this.notificationSystem, null, \"ستون با نام \" + columnName + \" پیدا نشد\");\n      return null;\n    }\n\n    return column[0];\n  }\n\n  EditField(row) {\n    if (row == null || row.length <= 0) {\n      Helpers.DisplayWarningMessage(this.notificationSystem, null, \"اطلاعات فیلد پیدا نشد\");\n      return;\n    }\n\n    var fieldTyppeColumn = this.GetTableColumn(row, ControlsNames.Field.TypeId);\n    if (fieldTyppeColumn == null) return;\n    var recordData = this.state.FormFieldsInfo.FieldRecords.filter(rd => rd.Index == fieldTyppeColumn.ExtraData.ExtraData);\n\n    if (recordData == null || recordData.length <= 0) {\n      Helpers.DisplayErrorMessage(this.notificationSystem, null, \"اطلاعات فیلد انتخاب شده پیدا نشد\");\n      return;\n    }\n\n    fieldTyppeColumn.ExtraData.Id = fieldTyppeColumn.ExtraData.Id + '';\n    this.FieldTypeSelected({\n      label: fieldTyppeColumn.value,\n      value: fieldTyppeColumn.ExtraData.Id\n    });\n    this.setState({\n      [ControlsNames.Field.TypeId]: fieldTyppeColumn.ExtraData.Id + '',\n      RecordEditInfo: {\n        FieldId: recordData[0].fieldId,\n        FieldTypeId: recordData[0].fieldTypeId,\n        Index: fieldTyppeColumn.ExtraData.ExtraData\n      }\n    }, () => {\n      var state = this.state;\n      row.forEach(item => {\n        var value = null;\n\n        switch (item.name) {\n          case ControlsNames.Field.Show:\n          case ControlsNames.Field.TypeId:\n          case ControlsNames.Field.IsRequired:\n          case ControlsNames.TextBoxType.ValidationTypeId:\n          case ControlsNames.TextBoxType.ReadOnly:\n          case ControlsNames.TextBoxType.IsMultiLine:\n          case ControlsNames.TextBoxType.IsMoney:\n          case ControlsNames.TextBoxType.IsLtr:\n          case ControlsNames.DatePickerType.HasTime:\n          case ControlsNames.DatePickerType.UseEpoch:\n            value = item.ExtraData.Id;\n            break;\n\n          default:\n            value = item.ExtraData.Value;\n            break;\n        }\n\n        state[item.name] = value == null ? null : value + '';\n      });\n      state[\"updateKey\"] = this.state.updateKey + 1;\n\n      switch (fieldTyppeColumn.ExtraData.Id) {\n        case Constants.FieldTypes.TextBox:\n        case Constants.FieldTypes.DatePicker:\n        case Constants.FieldTypes.CitySelect:\n          break;\n\n        case Constants.FieldTypes.DropDown:\n          var dataListColumn = this.GetTableColumn(row, ControlsNames.DropDownType.DropDownId);\n\n          if (dataListColumn != null) {\n            state[ControlsNames.DropDownType.DropDownId] = dataListColumn.ExtraData.Id + '';\n            this.DropDownItemSelected({\n              label: dataListColumn.value\n            });\n            state[AutoCompleteListName] = {\n              label: dataListColumn.ExtraData.Value,\n              value: dataListColumn.ExtraData.Id\n            };\n          }\n\n          break;\n\n        case Constants.FieldTypes.FileUploader:\n        case Constants.FieldTypes.ImageUploader:\n          var uploaderColumn = this.GetTableColumn(row, ControlsNames.FileUploderType.SupportedFileExtensions);\n          if (uploaderColumn != null) state[ControlsNames.FileUploderType.SupportedFileExtensions] = uploaderColumn.ExtraData.Id;\n          break;\n\n        default:\n          Helpers.DisplayErrorMessage(this.notificationSystem, null, 'نوع فیلد معتبر نمی باشد');\n          break;\n      }\n\n      this.setState(state, () => this.setState({\n        updateKey: this.state.updateKey + 1\n      }));\n    });\n  } // Events.\n\n\n  componentDidMount() {\n    Helpers.CallServer('/api/FRQST/Field/GetDefaultFieldData', {}, successfulResponse => {\n      this.setState({\n        YesNoDropDonws: successfulResponse.data.yesNoDropDownItems,\n        FieldTypes: successfulResponse.data.fieldTypeItems,\n        FileTypes: successfulResponse.data.fileTypeItems,\n        FieldValidationTypes: successfulResponse.data.fieldValidationTypeItems,\n        NewForms: successfulResponse.data.newForms\n      }, () => this.LoadFieldsAndFieldsTypeInfo());\n    }, errorResponse => {\n      return HandleError(Helpers, this.notificationSystem, errorResponse);\n    }, () => {\n      // Do tasks if it is neccessary\n      console.log('Done');\n    }, 'Get');\n  }\n\n  FormSeleted(item) {\n    var formFieldsInfo = this.state.FormFieldsInfo;\n\n    if (item == null) {\n      formFieldsInfo.FormId = null;\n      this.setState({\n        FormFieldsInfo: formFieldsInfo\n      });\n      return;\n    }\n\n    formFieldsInfo.FormId = item.value;\n    var formControls = [];\n    this.GetFieldControls().forEach(ctl => formControls.push(ctl));\n    this.setState({\n      FormFieldsInfo: formFieldsInfo,\n      FixFormControls: formControls\n    });\n  }\n\n  FieldTypeSelected(item) {\n    if (item == null) return;\n    this.ClearInputFields();\n    var formControls = [];\n\n    switch (item.value) {\n      case Constants.FieldTypes.TextBox:\n        this.GetTextBoxFields().forEach(ctl => formControls.push(ctl));\n        break;\n\n      case Constants.FieldTypes.DatePicker:\n        this.GetDatePickerFields().forEach(ctl => formControls.push(ctl));\n        break;\n\n      case Constants.FieldTypes.DropDown:\n        this.GetDropDownFields().forEach(ctl => formControls.push(ctl));\n        break;\n\n      case Constants.FieldTypes.FileUploader:\n      case Constants.FieldTypes.ImageUploader:\n        this.GetFileUploaderFields().forEach(ctl => formControls.push(ctl));\n        break;\n\n      case Constants.FieldTypes.CitySelect:\n        // No fields is needed to add\n        break;\n\n      default:\n        Helpers.DisplayErrorMessage(this.notificationSystem, null, 'نوع فیلد انتخابی پیدا نشد');\n        return;\n    }\n\n    this.setState({\n      DynamicFormControls: formControls\n    });\n  }\n\n  CheckIfVairableNameIsRepititive() {\n    var variableName = this.state[ControlsNames.Field.VariableName];\n    var variableIsRepititive = false;\n    var recordEditInfo = this.state.RecordEditInfo;\n    this.state.FormFieldsInfo.FieldRecords.forEach(item => {\n      if (variableIsRepititive) return;\n      var value = item[ControlsNames.Field.VariableName];\n\n      if (recordEditInfo == null) {\n        if (value != null && value != \"\" && value == variableName) variableIsRepititive = true;\n      } else {\n        if (item[ControlsNames.Field.Id] != recordEditInfo.FieldId && value != null && value != \"\" && value == variableName) variableIsRepititive = true;\n      }\n    });\n    return variableIsRepititive;\n  }\n\n  AddFieldInfo() {\n    if (!this.IsFieldValid()) return;\n\n    switch (this.state[ControlsNames.Field.TypeId]) {\n      case Constants.FieldTypes.TextBox:\n        if (!this.IsFieldTextBoxTypesValid()) return;\n        var variableName = this.state[ControlsNames.Field.VariableName];\n\n        if (variableName != null && (variableName.includes('[') || variableName.includes(']'))) {\n          Helpers.DisplayWarningMessage(this.notificationSystem, null, \"حروف های ] و [ مجاز نمی باشند\");\n          return;\n        }\n\n        break;\n\n      case Constants.FieldTypes.DatePicker:\n        break;\n\n      case Constants.FieldTypes.DropDown:\n        if (!this.IsParameterValid(ControlsNames.DropDownType.DropDownId)) return;\n        break;\n\n      case Constants.FieldTypes.FileUploader:\n      case Constants.FieldTypes.ImageUploader:\n        if (!this.IsParameterValid(ControlsNames.FileUploderType.SupportedFileExtensions)) return;\n        break;\n\n      case Constants.FieldTypes.CitySelect:\n        break;\n\n      default:\n        Helpers.DisplayErrorMessage(this.notificationSystem, null, 'نوع فیلد انتخابی معتبر نمی باشد');\n        break;\n    }\n\n    if (this.CheckIfVairableNameIsRepititive()) {\n      Helpers.DisplayWarningMessage(this.notificationSystem, null, 'نام متغییر قبلا استفاده شده است');\n      return;\n    }\n\n    this.ReadPageDataAndStoreData();\n  }\n\n  DropDownItemSelected(item) {\n    if (item == null) {\n      this.dropDownName = null;\n      return;\n    }\n\n    this.dropDownName = item.label;\n  }\n\n  SetFieldShowState(row, show) {\n    var tableRows = this.state.TableRows;\n    var formFieldsInfo = this.state.FormFieldsInfo;\n    var index = row[0].ExtraData.ExtraData;\n    var record = formFieldsInfo.FieldRecords.filter(rd => rd.Index == index);\n\n    if (record.length <= 0) {\n      Helpers.DisplayErrorMessage(this.notificationSystem, null, 'داده ی مورد نظر پیدا نشد');\n      return;\n    }\n\n    Helpers.CallServer('/api/FRQST/Field/SetFieldShowState', {\n      FieldId: record[0].fieldId,\n      Show: show ? \"True\" : \"False\"\n    }, successfulResponse => {\n      row.forEach(column => {\n        if (column.name == ControlsNames.Field.Show) column.value = show;\n      });\n      record.show = show;\n      this.setState({\n        FormFieldsInfo: formFieldsInfo,\n        TableRows: tableRows\n      });\n      Helpers.DisplaySuccessMessage(this.notificationSystem, successfulResponse.message);\n    }, errorResponse => {\n      return HandleError(Helpers, this.notificationSystem, errorResponse);\n    }, () => {\n      // Do tasks if it is neccessary\n      console.log('Done');\n    });\n  }\n\n  RemoveRecord(tableRows, formFieldsInfo, index, option) {\n    tableRows = tableRows.filter(rw => rw[0].ExtraData.ExtraData != index);\n    formFieldsInfo.FieldRecords = formFieldsInfo.FieldRecords.filter(rd => rd.Index != index);\n    option.modalOpen = false;\n    this.setState({\n      FormFieldsInfo: formFieldsInfo,\n      TableRows: tableRows\n    });\n  }\n\n  DeleteFieldInfo(option) {\n    var tableRows = this.state.TableRows;\n    var formFieldsInfo = this.state.FormFieldsInfo;\n    var row = option.modalData;\n    var index = row[0].ExtraData.ExtraData;\n    var record = formFieldsInfo.FieldRecords.filter(rd => rd.Index == index);\n\n    if (record.length <= 0) {\n      Helpers.DisplayErrorMessage(this.notificationSystem, null, 'داده ی مورد نظر پیدا نشد');\n      return;\n    }\n\n    if (record[0].fieldId != null && record[0].fieldTypeId != null) Helpers.CallServer('/api/FRQST/Field/DeleteField', {\n      Id: record[0].fieldId\n    }, successfulResponse => {\n      this.RemoveRecord(tableRows, formFieldsInfo, index, option);\n      Helpers.DisplaySuccessMessage(this.notificationSystem, successfulResponse.message);\n    }, errorResponse => {\n      return HandleError(Helpers, this.notificationSystem, errorResponse);\n    }, () => {\n      // Do tasks if it is neccessary\n      console.log('Done');\n    });else this.RemoveRecord(tableRows, formFieldsInfo, index, option);\n  }\n\n  onSubmitError(er) {\n    return HandleError(Helpers, this.notificationSystem, er);\n  }\n\n  onBeforeSubmit() {\n    return this.IsFieldOrderRepititive();\n  }\n\n  onSubmitSuccess() {\n    var formId = this.state.FormFieldsInfo.FormId;\n    Helpers.DisplaySuccessMessage(this.notificationSystem, 'اطلاعات با موفقیت ثبت گردید');\n    if (formId != null) Helpers.CallServer('/api/FRQST/Field/GetFormFieldsInfo', {\n      Id: formId\n    }, successfulResponse => {\n      this.LoadFieldsAndFieldsTypeInfo(successfulResponse.data.fieldsAndFieldTypeInfo);\n    }, errorResponse => {\n      return HandleError(Helpers, this.notificationSystem, errorResponse);\n    }, () => {\n      // Do tasks if it is neccessary\n      console.log('Done');\n    });\n    if (this.props.formFieldsInfo != null) return;\n    this.setState({\n      ShowSaveButton: false\n    });\n  }\n\n  render() {\n    return this.state.YesNoDropDonws.length > 0 && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Card, {\n        context: this,\n        title: \"\\u062C\\u0632\\u0626\\u06CC\\u0627\\u062A \\u0641\\u06CC\\u0644\\u062F\\u0647\\u0627\\u06CC \\u0641\\u0631\\u0645 \",\n        icon: \"forms\",\n        submitUrl: \"/api/FRQST/Field/SaveFormFeildsInfo\",\n        hasBackButton: true,\n        hasDefaultSaveButton: this.state.ShowSaveButton,\n        updateKey: this.state.updateKey,\n        submitFields: \"FormFieldsInfo\",\n        onSubmitError: this.onSubmitError,\n        onBeforeSubmit: this.onBeforeSubmit,\n        onSubmitSuccess: this.onSubmitSuccess,\n        ignoreValidation: true,\n        statusColor: \"success\",\n        topButtons: [{\n          title: \"لیست فرم های پویا\",\n          icon: \"list-details\",\n          color: \"outline-success\",\n          url: GetUrl(\"formListPage\")\n        }],\n        children: [/*#__PURE__*/_jsxDEV(DropDown, {\n          context: this,\n          name: \"formId\",\n          title: \"\\u0641\\u0631\\u0645 \\u067E\\u0648\\u06CC\\u0627\",\n          required: true,\n          changeHandler: this.FormSeleted,\n          disabled: this.props.formFieldsInfo == null ? false : true,\n          options: this.props.formFieldsInfo == null ? this.state.NewForms : [{\n            title: this.props.formFieldsInfo.form.formTitle,\n            label: this.props.formFieldsInfo.form.formTitle,\n            value: this.props.formFieldsInfo.form.formId\n          }]\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1129,\n          columnNumber: 13\n        }, this), this.state.FixFormControls, this.state.DynamicFormControls, /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col p-2\",\n            children: /*#__PURE__*/_jsxDEV(\"a\", {\n              className: \"btn btn-sm btn-outline-primary float-end\",\n              onClick: this.AddFieldInfo,\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"ti me-2 ti-circle-plus\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1143,\n                columnNumber: 23\n              }, this), this.state.RecordEditInfo == null ? \"افزودن\" : \"ویرایش\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1142,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1141,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1140,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col align-self-center\",\n            children: /*#__PURE__*/_jsxDEV(Table, {\n              headers: [{\n                title: 'وضعیت نمایش',\n                name: ControlsNames.Field.Show\n              }, {\n                title: 'نام',\n                name: ControlsNames.Field.Name\n              }, {\n                title: 'ترتیب نمایش',\n                name: ControlsNames.Field.Order\n              }, {\n                title: 'مقدار پیش فرض',\n                name: ControlsNames.Field.InitValue\n              }, {\n                title: 'اجباری',\n                name: ControlsNames.Field.IsRequired\n              }, {\n                title: 'نوع فیلد',\n                name: ControlsNames.Field.TypeId\n              }, {\n                title: 'نام متغییر',\n                name: ControlsNames.Field.VariableName\n              }, {\n                title: 'حداقل طول',\n                name: ControlsNames.TextBoxType.MinLength\n              }, {\n                title: 'حداکثر طول',\n                name: ControlsNames.TextBoxType.MaxLength\n              }, {\n                title: 'متن راهنما',\n                name: ControlsNames.TextBoxType.PlaceHolder\n              }, {\n                title: 'توضیحات',\n                name: ControlsNames.TextBoxType.Hint\n              }, {\n                title: 'فقط خواندنی',\n                name: ControlsNames.TextBoxType.ReadOnly\n              }, {\n                title: 'چند خطی',\n                name: ControlsNames.TextBoxType.IsMultiLine\n              }, {\n                title: 'نوع مبلغ',\n                name: ControlsNames.TextBoxType.IsMoney\n              }, {\n                title: 'چپ به راست',\n                name: ControlsNames.TextBoxType.IsLtr\n              }, {\n                title: 'نوع اعتبار سنجی',\n                name: ControlsNames.TextBoxType.ValidationTypeId\n              }, {\n                title: 'داده لیستی',\n                name: ControlsNames.DropDownType.DropDownId\n              }, {\n                title: 'شامل ساعت',\n                name: ControlsNames.DatePickerType.HasTime\n              }, {\n                title: 'نوع تاریخ یونیکس',\n                name: ControlsNames.DatePickerType.UseEpoch\n              }, {\n                title: 'نوع فایل های پشتیبانی',\n                name: ControlsNames.FileUploderType.SupportedFileExtensions\n              }],\n              deleteModalFieldNames: [ControlsNames.Field.Name, ControlsNames.Field.Order, ControlsNames.Field.TypeId],\n              badgeOnCells: [{\n                fieldName: ControlsNames.Field.Show,\n                color: x => {\n                  switch (x) {\n                    case true:\n                      return \"green\";\n\n                    default:\n                      return \"red\";\n                  }\n                }\n              }],\n              data: this.state.TableRows,\n              lgCol: 12,\n              minHeightTableWrapper: 200,\n              rowOptions: [{\n                title: 'ویرایش',\n                icon: 'edit',\n                func: this.EditField\n              }, {\n                title: 'نمایش',\n                icon: 'presentation',\n                func: row => this.SetFieldShowState(row, true)\n              }, {\n                title: 'پنهان',\n                icon: 'presentation-off',\n                func: row => this.SetFieldShowState(row, false)\n              }],\n              hasDeleteButton: true,\n              onDeleteButton: this.DeleteFieldInfo\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1149,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1148,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1147,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1107,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(NotificationSystem, {\n        ref: this.notificationSystem\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1199,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true);\n  }\n\n}","map":{"version":3,"names":["React","Constants","Card","TextBox","Delimiter","DropDown","Table","AutoComplete","Helpers","NotificationSystem","TableItem","Item","GetUrl","HandleError","ControlsNames","Field","Id","Name","Order","InitValue","IsRequired","TypeId","Show","VariableName","FieldTypeId","TextBoxType","MinLength","MaxLength","ValidationTypeId","PlaceHolder","IsLtr","ReadOnly","IsMultiLine","Hint","IsMoney","DropDownType","DropDownId","DatePickerType","UseEpoch","HasTime","FileUploderType","SupportedFileExtensions","boolean","True","False","AutoCompleteListName","IsNewRecord","FieldsSection","Component","constructor","props","state","FixFormControls","DynamicFormControls","YesNoDropDonws","FieldTypes","FileTypes","FieldValidationTypes","updateKey","TableRows","FormFieldsInfo","FormId","formFieldsInfo","form","formId","FieldRecords","ShowSaveButton","DefaultDataListData","RecordEditInfo","notificationSystem","createRef","FormSeleted","bind","FieldTypeSelected","AddFieldInfo","IsParameterValid","ReadPageDataAndStoreData","ClearInputFields","GetControlLabel","DropDownItemSelected","SetFieldShowState","DeleteFieldInfo","LoadFieldsAndFieldsTypeInfo","onSubmitError","onBeforeSubmit","onSubmitSuccess","IsFieldOrderRepititive","RemoveRecord","EditField","CheckIfVairableNameIsRepititive","GetFieldControls","dropDownName","RowIndex","name","controls","counter","push","MinMaxLengthValidator","NumberTypeValidator","title","value","label","GetTextBoxFields","GetDropDownFields","GetDatePickerFields","GetFileUploaderFields","msg","DisplayErrorMessage","IsFieldValid","IsFieldTextBoxTypesValid","parseInt","ValidationTypes","Text_Min_Max","all","setState","controlName","foundName","filter","drp","length","ft","fvt","forEach","sf","sp","order","editRecordInfo","tableRows","record","Index","row","temp","FieldId","rd","rw","ExtraData","rows","fieldsAndFieldTypeInfo","item","field","id","fieldTypeInfo","initValue","isRequired","typeId","show","variableName","minLength","maxLength","placeHolder","hint","readOnly","isMultiLine","isMoney","isLTR","validationTypeId","hasTime","useEpoch","dropDownId","supportedFileExtensions","newOrder","isValid","orders","GetTableColumn","columnName","column","cls","DisplayWarningMessage","fieldTyppeColumn","recordData","fieldId","fieldTypeId","Value","DatePicker","CitySelect","dataListColumn","FileUploader","ImageUploader","uploaderColumn","componentDidMount","CallServer","successfulResponse","data","yesNoDropDownItems","fieldTypeItems","fileTypeItems","fieldValidationTypeItems","NewForms","newForms","errorResponse","console","log","formControls","ctl","variableIsRepititive","recordEditInfo","includes","index","DisplaySuccessMessage","message","option","modalOpen","modalData","er","render","icon","color","url","formTitle","fieldName","x","func"],"sources":["D:/Projects/React/AMLS/src/sections/basePage/fieldsSection.js"],"sourcesContent":["import React from 'react';\r\nimport Constants from '../../utils/constants'\r\nimport { Card, TextBox, Delimiter, DropDown, Table, AutoComplete, Helpers } from \"core\";\r\nimport NotificationSystem from 'react-notification-system';\r\nimport TableItem from '../../models/tableItem';\r\nimport Item from '../../models/item'\r\nimport { GetUrl, HandleError } from \"../../utils/generals\";\r\n\r\nconst ControlsNames =\r\n{\r\n  Field: {\r\n    Id: 'fieldId',\r\n    Name: 'name',\r\n    Order: 'order',\r\n    InitValue: 'initValue',\r\n    IsRequired: 'isRequired',\r\n    TypeId: 'typeId',\r\n    Show: 'show',\r\n    VariableName: 'variableName'\r\n  },\r\n  FieldTypeId: 'fieldTypeId',\r\n  TextBoxType: {\r\n    MinLength: 'minLength',\r\n    MaxLength: 'maxLength',\r\n    ValidationTypeId: 'validationTypeId',\r\n    PlaceHolder: 'placeHolder',\r\n    IsLtr: 'isLTR',\r\n    ReadOnly: 'readOnly',\r\n    IsMultiLine: 'isMultiLine',\r\n    Hint: 'hint',\r\n    IsMoney: 'isMoney'\r\n  },\r\n  DropDownType: {\r\n    DropDownId: 'dropDownId'\r\n  },\r\n  DatePickerType: {\r\n    UseEpoch: 'useEpoch',\r\n    HasTime: 'hasTime'\r\n  },\r\n  FileUploderType: {\r\n    SupportedFileExtensions: 'supportedFileExtensions'\r\n  }\r\n}\r\n\r\nconst boolean = {\r\n  True: \"1\",\r\n  False: \"2\"\r\n}\r\n\r\nconst AutoCompleteListName = 'DefaultDataListData';\r\nconst IsNewRecord = \"isNew\";\r\n\r\nexport default class FieldsSection extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        \r\n        var state = {\r\n          FixFormControls: null,\r\n          DynamicFormControls: [],\r\n          YesNoDropDonws: [],\r\n          FieldTypes: [],\r\n          FileTypes: [],\r\n          FieldValidationTypes: [],\r\n          updateKey: 1,\r\n          TableRows: [],\r\n          FormFieldsInfo: {\r\n            FormId: (this.props.formFieldsInfo == null ? null : this.props.formFieldsInfo.form.formId),\r\n            FieldRecords: []\r\n          },\r\n          ShowSaveButton: true,\r\n          DefaultDataListData: null,\r\n          RecordEditInfo: null\r\n        };\r\n\r\n        if(this.props.formFieldsInfo != null)\r\n          state['formId'] = this.props.formFieldsInfo.form.formId;\r\n\r\n        this.state = state;\r\n        this.notificationSystem = React.createRef();\r\n\r\n        this.FormSeleted = this.FormSeleted.bind(this);\r\n        this.FieldTypeSelected = this.FieldTypeSelected.bind(this);\r\n        this.AddFieldInfo = this.AddFieldInfo.bind(this);\r\n        this.IsParameterValid = this.IsParameterValid.bind(this);\r\n        this.ReadPageDataAndStoreData = this.ReadPageDataAndStoreData.bind(this);\r\n        this.ClearInputFields = this.ClearInputFields.bind(this);\r\n        this.GetControlLabel = this.GetControlLabel.bind(this);\r\n        this.DropDownItemSelected = this.DropDownItemSelected.bind(this);\r\n        this.SetFieldShowState = this.SetFieldShowState.bind(this);\r\n        this.DeleteFieldInfo = this.DeleteFieldInfo.bind(this);\r\n        this.LoadFieldsAndFieldsTypeInfo = this.LoadFieldsAndFieldsTypeInfo.bind(this);\r\n        this.onSubmitError = this.onSubmitError.bind(this);\r\n        this.onBeforeSubmit = this.onBeforeSubmit.bind(this);\r\n        this.onSubmitSuccess = this.onSubmitSuccess.bind(this);\r\n        this.IsFieldOrderRepititive = this.IsFieldOrderRepititive.bind(this);\r\n        this.RemoveRecord = this.RemoveRecord.bind(this);\r\n        this.EditField = this.EditField.bind(this);\r\n        this.CheckIfVairableNameIsRepititive = this.CheckIfVairableNameIsRepititive.bind(this);\r\n        this.GetFieldControls = this.GetFieldControls.bind(this);\r\n\r\n        this.dropDownName = null;\r\n        this.RowIndex = 1;\r\n    }\r\n\r\n    // Functions.\r\n    GetFieldControls()\r\n    {\r\n      const name = 'fld'\r\n      var controls = [];\r\n      var counter = 1;\r\n\r\n      controls.push(<Delimiter key={ name + counter++ } />);\r\n      controls.push(<TextBox\r\n                      context={ this }\r\n                      key={ name + counter++ }\r\n                      name={ ControlsNames.Field.Name }\r\n                      title=\"نام\"\r\n                      required\r\n                      minLength={ 1 }\r\n                      maxLength={ 64 }\r\n                      validateHandler={ Helpers.MinMaxLengthValidator } />);\r\n      controls.push(<TextBox\r\n                      context={ this }\r\n                      key={ name + counter++ }\r\n                      name={ ControlsNames.Field.Order }\r\n                      title=\"ترتیب نمایش\"\r\n                      minLength={ 1 }\r\n                      maxLength={ 2 }\r\n                      validateHandler={[ Helpers.MinMaxLengthValidator, Helpers.NumberTypeValidator ]}\r\n                      required />);\r\n      controls.push(<TextBox\r\n                      context={ this }\r\n                      key={ name + counter++ }\r\n                      name={ ControlsNames.Field.InitValue }\r\n                      title=\"مقدار پیش فرض\"\r\n                      minLength={ 0 }\r\n                      maxLength={ 128 }\r\n                      validateHandler={ Helpers.MinMaxLengthValidator } />);\r\n      controls.push(<DropDown\r\n                      context={ this }\r\n                      key={ name + counter++ }\r\n                      name={ ControlsNames.Field.IsRequired }\r\n                      title=\"وضعیت اجباری\"\r\n                      required\r\n                      options={ this.state.YesNoDropDonws } />);\r\n      controls.push(<DropDown\r\n                      context={ this }\r\n                      key={ name + counter++ }\r\n                      name={ ControlsNames.Field.TypeId }\r\n                      title=\"نوع فیلد\" \r\n                      options={ this.state.FieldTypes }\r\n                      changeHandler={ this.FieldTypeSelected }\r\n                      required />);\r\n        controls.push(<DropDown\r\n                      context={ this }\r\n                      key={ name + counter++ }\r\n                      name={ ControlsNames.Field.Show }\r\n                      title=\"وضعیت نمایش\" \r\n                      options={[\r\n                          { title: 'نمایش', value: boolean.True, label: 'نمایش' },\r\n                          { title: 'پنهان', value: boolean.False, label: 'پنهان' }\r\n                      ]}\r\n                      required />);\r\n          controls.push(<TextBox\r\n                        context={ this }\r\n                        key={ name + counter++ }\r\n                        name={ ControlsNames.Field.VariableName }\r\n                        title=\"نام متغییر\"\r\n                        minLength={ 0 }\r\n                        maxLength={ 10 }\r\n                        validateHandler={ Helpers.MinMaxLengthValidator } />)\r\n      return controls;\r\n    }\r\n\r\n    GetTextBoxFields()\r\n    {\r\n      const name = 'txt'\r\n      var controls = [];\r\n      var counter = 10;\r\n\r\n      controls.push(<Delimiter key={ name + counter++ } />);\r\n      controls.push(<TextBox\r\n                    context={ this }\r\n                    key={ name + counter++ }\r\n                    name={ ControlsNames.TextBoxType.MinLength }\r\n                    minLength={ 1 }\r\n                    maxLength={ 3 }\r\n                    validateHandler={ Helpers.NumberTypeValidator }\r\n                    title=\"حداقل طول\" />);\r\n      controls.push(<TextBox\r\n                    context={ this }\r\n                    key={ name + counter++ }\r\n                    name={ ControlsNames.TextBoxType.MaxLength }\r\n                    minLength={ 1 }\r\n                    maxLength={ 3 }\r\n                    validateHandler={ Helpers.NumberTypeValidator }\r\n                    title=\"حداکثر طول\" />);\r\n      controls.push(<TextBox\r\n                    context={ this }\r\n                    key={ name + counter++ }\r\n                    minLength={ 0 }\r\n                    maxLength={ 128 }\r\n                    validateHandler={ Helpers.MinMaxLengthValidator }\r\n                    name={ ControlsNames.TextBoxType.PlaceHolder }\r\n                    title=\"متن راهنما\" />);\r\n      controls.push(<TextBox\r\n                    context={ this }\r\n                    key={ name + counter++ }\r\n                    name={ ControlsNames.TextBoxType.Hint }\r\n                    minLength={ 0 }\r\n                    maxLength={ 128 }\r\n                    validateHandler={ Helpers.MinMaxLengthValidator }\r\n                    title=\"توضیحات\" />);\r\n      controls.push(<DropDown\r\n                    context={ this }\r\n                    key={ name + counter++ }\r\n                    name={ ControlsNames.TextBoxType.ReadOnly }\r\n                    title=\"فقط خواندنی\"  \r\n                    options={ this.state.YesNoDropDonws } />);\r\n      controls.push(<DropDown\r\n                    context={ this }\r\n                    key={ name + counter++ }\r\n                    name={ ControlsNames.TextBoxType.IsMultiLine }\r\n                    title=\"چند خطی \"\r\n                    options={ this.state.YesNoDropDonws } />);\r\n      controls.push(<DropDown\r\n                    context={ this }\r\n                    key={ name + counter++ }\r\n                    name={ ControlsNames.TextBoxType.IsMoney }\r\n                    title=\"نوع مبلغ\"\r\n                    options={ this.state.YesNoDropDonws } />);\r\n      controls.push(<DropDown\r\n                    context={ this }\r\n                    key={ name + counter++ }\r\n                    name={ ControlsNames.TextBoxType.IsLtr }\r\n                    title=\"چپ به راست\"  \r\n                    options={ this.state.YesNoDropDonws } />);\r\n      controls.push(<DropDown\r\n                    context={ this }\r\n                    key={ name + counter++ }\r\n                    name={ ControlsNames.TextBoxType.ValidationTypeId }\r\n                    title=\"نوع اعتبار سنجی\"\r\n                    required\r\n                    options={ this.state.FieldValidationTypes } /> );\r\n\r\n      return controls;\r\n    }\r\n\r\n    GetDropDownFields()\r\n    {\r\n      const name = 'drp'\r\n      var controls = [];\r\n      var counter = 20;\r\n\r\n      controls.push(<Delimiter key={ name + counter++ } />);\r\n      controls.push(<AutoComplete \r\n                    context={ this }\r\n                    key={ name + counter++ }\r\n                    name={ ControlsNames.DropDownType.DropDownId }\r\n                    title=\"داده های شمارشی\"\r\n                    notificationSystem={ this.notificationSystem }\r\n                    required\r\n                    remoteUrl=\"/api/FRQST/Field/SearchDropDowns\"\r\n                    externalData={ this.state.DefaultDataListData == null\r\n                      ? []\r\n                      : [ this.state.DefaultDataListData ]}\r\n                    changeHandler={ this.DropDownItemSelected } />);\r\n      return controls;\r\n    }\r\n\r\n    GetDatePickerFields()\r\n    {\r\n      const name = 'dp'\r\n      var controls = [];\r\n      var counter = 40;\r\n\r\n      controls.push(<Delimiter key={ name + counter++ } />);\r\n      controls.push(<DropDown\r\n                    context={ this }\r\n                    key={ name + counter++ }\r\n                    name={ ControlsNames.DatePickerType.HasTime }\r\n                    title=\"شامل ساعت\"  \r\n                    options={ this.state.YesNoDropDonws } />);\r\n      controls.push(<DropDown\r\n                  context={ this }\r\n                  key={ name + counter++ }\r\n                  name={ ControlsNames.DatePickerType.UseEpoch }\r\n                  title=\"نوع تاریخ یونیکس\"  \r\n                  options={ this.state.YesNoDropDonws } />);\r\n\r\n      return controls;\r\n    }\r\n\r\n    GetFileUploaderFields()\r\n    {\r\n      const name = 'ful'\r\n      var controls = [];\r\n      var counter = 60;\r\n\r\n      controls.push(<Delimiter key={ name + counter++ } />);\r\n      controls.push(<DropDown\r\n                    context={ this }\r\n                    key={ name + counter++ }\r\n                    name={ ControlsNames.FileUploderType.SupportedFileExtensions }\r\n                    title=\"نوع فایل های پشتیبانی\"\r\n                    required\r\n                    isMulti\r\n                    options={ this.state.FileTypes } />);\r\n\r\n      return controls;\r\n    }\r\n\r\n    IsParameterValid(name)\r\n    {\r\n      var msg = \"\";\r\n      \r\n      if(this.state[name + 'IsValid'] == false)\r\n      {\r\n        msg = this.state[name + 'ValidFeedBack'];\r\n        Helpers.DisplayErrorMessage(this.notificationSystem, null, msg);\r\n        return false;\r\n      }\r\n\r\n      return true;\r\n    }\r\n\r\n    IsFieldValid()\r\n    {\r\n      if(!this.IsParameterValid(ControlsNames.Field.Name))\r\n        return false;\r\n      if(!this.IsParameterValid(ControlsNames.Field.Order))\r\n        return false;\r\n      if(!this.IsParameterValid(ControlsNames.Field.IsRequired))\r\n        return false;\r\n      if(!this.IsParameterValid(ControlsNames.Field.Show))\r\n        return false;\r\n\r\n      return true;\r\n    }\r\n\r\n    IsFieldTextBoxTypesValid()\r\n    {\r\n      if(!this.IsParameterValid(ControlsNames.TextBoxType.ValidationTypeId))\r\n        return false;\r\n      if(parseInt(this.state[ControlsNames.TextBoxType.ValidationTypeId]) == Constants.ValidationTypes.Text_Min_Max)\r\n      {\r\n        if(this.state[ControlsNames.TextBoxType.MinLength] == '')\r\n        {\r\n          Helpers.DisplayErrorMessage(this.notificationSystem, null, 'حداقل طول مقدار را وارد نمایید');\r\n          return false;\r\n        }\r\n        if(this.state[ControlsNames.TextBoxType.MaxLength] == '')\r\n        {\r\n          Helpers.DisplayErrorMessage(this.notificationSystem, null, 'حداکثر طول مقدار را وارد نمایید');\r\n          return false;\r\n        }\r\n      }\r\n\r\n      return true;\r\n    }\r\n\r\n    ClearInputFields(all)\r\n    {\r\n      var state = {};\r\n\r\n      if(all != null && all == true)\r\n      {\r\n        state[ControlsNames.Field.Name] = null;\r\n        state[ControlsNames.Field.Order] = null;\r\n        state[ControlsNames.Field.InitValue] = null;\r\n        state[ControlsNames.Field.IsRequired] = null;\r\n        state[ControlsNames.Field.TypeId] = null;\r\n        state[ControlsNames.Field.Show] = null;\r\n        state[ControlsNames.Field.VariableName] = null;\r\n      }\r\n      state[ControlsNames.TextBoxType.MinLength] = null;\r\n      state[ControlsNames.TextBoxType.MaxLength] = null;\r\n      state[ControlsNames.TextBoxType.PlaceHolder] = null;\r\n      state[ControlsNames.TextBoxType.Hint] = null;\r\n      state[ControlsNames.TextBoxType.ReadOnly] = null;\r\n      state[ControlsNames.TextBoxType.IsMultiLine] = null;\r\n      state[ControlsNames.TextBoxType.IsMoney] = null;\r\n      state[ControlsNames.TextBoxType.IsLtr] = null;\r\n      state[ControlsNames.TextBoxType.ValidationTypeId] = null;\r\n      state[ControlsNames.DatePickerType.HasTime] = null;\r\n      state[ControlsNames.DatePickerType.UseEpoch] = null;\r\n      state[ControlsNames.DropDownType.DropDownId] = null;\r\n      state[ControlsNames.FileUploderType.SupportedFileExtensions] = null;\r\n      \r\n      state['DynamicFormControls'] = null;\r\n\r\n      this.dropDownName = null;\r\n\r\n      this.setState(state);\r\n    }\r\n\r\n    GetControlLabel(controlName, value)\r\n    {\r\n      if(value == null || value == '')\r\n        return null;\r\n      var foundName = '***';\r\n      var name;\r\n\r\n      switch(controlName)\r\n      {\r\n        case ControlsNames.Field.IsRequired:\r\n        case ControlsNames.TextBoxType.ReadOnly:\r\n        case ControlsNames.TextBoxType.IsMultiLine:\r\n        case ControlsNames.TextBoxType.IsMoney:\r\n        case ControlsNames.TextBoxType.IsLtr:\r\n        case ControlsNames.DatePickerType.HasTime:\r\n        case ControlsNames.DatePickerType.UseEpoch:\r\n          name = this.state.YesNoDropDonws.filter(drp => drp.value == value);\r\n\r\n          if(name != null && name.length == 1)\r\n            foundName = name[0].label;\r\n        break;\r\n        case ControlsNames.Field.TypeId:\r\n          name = this.state.FieldTypes.filter(ft => ft.value == value);\r\n\r\n          if(name != null && name.length == 1)\r\n            foundName = name[0].label;\r\n        break;\r\n        case ControlsNames.TextBoxType.ValidationTypeId:\r\n          name = this.state.FieldValidationTypes.filter(fvt => fvt.value == value);\r\n\r\n          if(name != null && name.length == 1)\r\n            foundName = name[0].label;\r\n        break;\r\n        case ControlsNames.FileUploderType.SupportedFileExtensions:\r\n          if(value == null || value.length <= 0)\r\n            return foundName;\r\n          value.forEach(sf =>\r\n            {\r\n              name = this.state.FileTypes.filter(sp => sp.value == sf);\r\n              if(name != null && name.length == 1)\r\n              {\r\n                if(foundName == '***')\r\n                {\r\n                  foundName = '';\r\n                  foundName = name[0].label;\r\n                }\r\n                else\r\n                  foundName += ', ' + name[0].label;\r\n              }\r\n            });\r\n        break;\r\n        default:\r\n          return foundName;\r\n      }\r\n      return foundName;\r\n    }\r\n\r\n    ReadPageDataAndStoreData()\r\n    {\r\n      var order = this.state[ControlsNames.Field.Order];\r\n      var editRecordInfo = this.state.RecordEditInfo;\r\n\r\n      if(editRecordInfo == null && !this.IsFieldOrderRepititive(order))\r\n        return;\r\n      var tableRows = this.state.TableRows;\r\n      var formFieldsInfo = this.state.FormFieldsInfo;\r\n      var record = { Index: this.RowIndex };\r\n      var row = [];\r\n      var temp;\r\n      var label;\r\n\r\n      record[ControlsNames.Field.Id] = editRecordInfo == null ? null : editRecordInfo.FieldId;\r\n      record[ControlsNames.FieldTypeId] = editRecordInfo == null ? null : editRecordInfo.FieldTypeId;\r\n\r\n      temp = this.state[ControlsNames.Field.Name];\r\n      record[ControlsNames.Field.Name] = temp\r\n      row.push(new TableItem(ControlsNames.Field.Name, temp, new Item(temp, temp, this.RowIndex)));\r\n\r\n      record[ControlsNames.Field.Order] = order;\r\n      row.push(new TableItem(ControlsNames.Field.Order, order, new Item(temp, order, this.RowIndex)));\r\n      \r\n      temp = this.state[ControlsNames.Field.InitValue];\r\n      record[ControlsNames.Field.InitValue] = temp;\r\n      row.push(new TableItem(ControlsNames.Field.InitValue, temp, new Item(temp, temp, this.RowIndex)));\r\n      \r\n      temp = this.state[ControlsNames.Field.IsRequired];\r\n      record[ControlsNames.Field.IsRequired] = temp;\r\n      label = this.GetControlLabel(ControlsNames.Field.IsRequired, temp);\r\n      row.push(new TableItem(ControlsNames.Field.IsRequired, label, new Item(temp, label, this.RowIndex)));\r\n\r\n      temp = this.state[ControlsNames.Field.TypeId];\r\n      record[ControlsNames.Field.TypeId] = temp;\r\n      label = this.GetControlLabel(ControlsNames.Field.TypeId, temp);\r\n      row.push(new TableItem(ControlsNames.Field.TypeId, label, new Item(temp, label, this.RowIndex)));\r\n\r\n      temp = this.state[ControlsNames.Field.Show] == boolean.True ? true : false;\r\n      record[ControlsNames.Field.Show] = temp\r\n      row.push(new TableItem(ControlsNames.Field.Show, temp, new Item(this.state[ControlsNames.Field.Show], temp, this.RowIndex)));\r\n\r\n      temp = this.state[ControlsNames.Field.VariableName];\r\n      record[ControlsNames.Field.VariableName] = temp;\r\n      row.push(new TableItem(ControlsNames.Field.VariableName, temp, new Item(temp, temp, this.RowIndex)));\r\n\r\n      temp = this.state[ControlsNames.TextBoxType.MinLength];\r\n      record[ControlsNames.TextBoxType.MinLength] = temp;\r\n      row.push(new TableItem(ControlsNames.TextBoxType.MinLength, temp, new Item(temp, temp, this.RowIndex)));\r\n\r\n      temp = this.state[ControlsNames.TextBoxType.MaxLength];\r\n      record[ControlsNames.TextBoxType.MaxLength] = temp;\r\n      row.push(new TableItem(ControlsNames.TextBoxType.MaxLength, temp, new Item(temp, temp, this.RowIndex)));\r\n\r\n      temp = this.state[ControlsNames.TextBoxType.PlaceHolder];\r\n      record[ControlsNames.TextBoxType.PlaceHolder] = temp;\r\n      row.push(new TableItem(ControlsNames.TextBoxType.PlaceHolder, temp, new Item(temp, temp, this.RowIndex)));\r\n\r\n      temp = this.state[ControlsNames.TextBoxType.Hint];\r\n      record[ControlsNames.TextBoxType.Hint] = temp;\r\n      row.push(new TableItem(ControlsNames.TextBoxType.Hint, temp, new Item(temp, temp, this.RowIndex)));\r\n      \r\n      temp = this.state[ControlsNames.TextBoxType.ReadOnly];\r\n      record[ControlsNames.TextBoxType.ReadOnly] = temp;\r\n      label = this.GetControlLabel(ControlsNames.TextBoxType.ReadOnly, temp);\r\n      row.push(new TableItem(ControlsNames.TextBoxType.ReadOnly, label, new Item(temp, label, this.RowIndex)));\r\n\r\n      temp = this.state[ControlsNames.TextBoxType.IsMultiLine];\r\n      record[ControlsNames.TextBoxType.IsMultiLine] = temp;\r\n      label = this.GetControlLabel(ControlsNames.TextBoxType.IsMultiLine, temp);\r\n      row.push(new TableItem(ControlsNames.TextBoxType.IsMultiLine, label, new Item(temp, label, this.RowIndex)));\r\n\r\n      temp = this.state[ControlsNames.TextBoxType.IsMoney];\r\n      record[ControlsNames.TextBoxType.IsMoney] = temp;\r\n      label = this.GetControlLabel(ControlsNames.TextBoxType.IsMoney, temp);\r\n      row.push(new TableItem(ControlsNames.TextBoxType.IsMoney, label, new Item(temp, label, this.RowIndex)));\r\n\r\n      temp = this.state[ControlsNames.TextBoxType.IsLtr];\r\n      record[ControlsNames.TextBoxType.IsLtr] = temp;\r\n      label = this.GetControlLabel(ControlsNames.TextBoxType.IsLtr, temp);\r\n      row.push(new TableItem(ControlsNames.TextBoxType.IsLtr, label, new Item(temp, label, this.RowIndex)));\r\n\r\n      temp = this.state[ControlsNames.TextBoxType.ValidationTypeId];\r\n      record[ControlsNames.TextBoxType.ValidationTypeId] = temp;\r\n      label = this.GetControlLabel(ControlsNames.TextBoxType.ValidationTypeId, temp)\r\n      row.push(new TableItem(ControlsNames.TextBoxType.ValidationTypeId, label, new Item(temp, label, this.RowIndex)));\r\n\r\n      temp = this.state[ControlsNames.DatePickerType.HasTime];\r\n      record[ControlsNames.DatePickerType.HasTime] = temp;\r\n      label = this.GetControlLabel(ControlsNames.DatePickerType.HasTime, temp);\r\n      row.push(new TableItem(ControlsNames.DatePickerType.HasTime, label, new Item(temp, label, this.RowIndex)));\r\n\r\n      temp = this.state[ControlsNames.DatePickerType.UseEpoch];\r\n      record[ControlsNames.DatePickerType.UseEpoch] = temp;\r\n      label = this.GetControlLabel(ControlsNames.DatePickerType.UseEpoch, temp);\r\n      row.push(new TableItem(ControlsNames.DatePickerType.UseEpoch, label, new Item(temp, label, this.RowIndex)));\r\n\r\n      temp = this.state[ControlsNames.DropDownType.DropDownId];\r\n      record[ControlsNames.DropDownType.DropDownId] = temp;\r\n      row.push(new TableItem(ControlsNames.DropDownType.DropDownId, this.dropDownName, new Item(temp, this.dropDownName, this.RowIndex)));\r\n\r\n      temp = this.state[ControlsNames.FileUploderType.SupportedFileExtensions];\r\n      temp = (temp != null && temp.length == 1 ? temp[0] : null);\r\n      record[ControlsNames.FileUploderType.SupportedFileExtensions] = temp;\r\n      label = this.GetControlLabel(ControlsNames.FileUploderType.SupportedFileExtensions, temp);\r\n      row.push(new TableItem(ControlsNames.FileUploderType.SupportedFileExtensions, label, new Item(temp, label, this.RowIndex)));\r\n\r\n      this.RowIndex++;\r\n\r\n      record[IsNewRecord] = true;\r\n      if(editRecordInfo != null)\r\n      {\r\n        formFieldsInfo.FieldRecords = formFieldsInfo.FieldRecords.filter(rd => rd.Index != editRecordInfo.Index);\r\n        tableRows = tableRows.filter(rw => rw[0].ExtraData.ExtraData != editRecordInfo.Index);\r\n      }\r\n      formFieldsInfo.FieldRecords.push(record);\r\n      tableRows.push(row);\r\n\r\n      this.setState({\r\n        FormFieldsInfo: formFieldsInfo,\r\n        TableRows: tableRows,\r\n        updateKey: this.state.updateKey + 1,\r\n        RecordEditInfo: null\r\n      });\r\n      this.ClearInputFields(true);\r\n    }\r\n\r\n    LoadFieldsAndFieldsTypeInfo(rows)\r\n    {\r\n      if(this.props.formFieldsInfo == null)\r\n        return;\r\n      var tableRows = this.state.TableRows;\r\n      var formFieldsInfo = this.state.FormFieldsInfo;\r\n      \r\n      tableRows = [];\r\n      formFieldsInfo.FieldRecords = [];\r\n      if(rows == null)\r\n        rows = this.props.formFieldsInfo.fieldsAndFieldTypeInfo;\r\n      rows.forEach(item =>\r\n      {    \r\n        var record = { Index: this.RowIndex };\r\n        var row = [];\r\n        var temp;\r\n        var label;\r\n\r\n        record[ControlsNames.Field.Id] = item.field.id;\r\n        record[ControlsNames.FieldTypeId] = item.fieldTypeInfo.id;\r\n\r\n        temp = item.field.name;\r\n        record[ControlsNames.Field.Name] = temp;\r\n        row.push(new TableItem(ControlsNames.Field.Name, temp, new Item(temp, temp, this.RowIndex)));\r\n  \r\n        temp = item.field.order;\r\n        record[ControlsNames.Field.Order] = temp;\r\n        row.push(new TableItem(ControlsNames.Field.Order, temp, new Item(temp, temp, this.RowIndex)));\r\n        \r\n        temp = item.field.initValue;\r\n        record[ControlsNames.Field.InitValue] = temp;\r\n        row.push(new TableItem(ControlsNames.Field.InitValue, temp, new Item(temp, temp, this.RowIndex)));\r\n        \r\n        temp = item.field.isRequired;\r\n        record[ControlsNames.Field.IsRequired] = temp;\r\n        label = this.GetControlLabel(ControlsNames.Field.IsRequired, temp);\r\n        row.push(new TableItem(ControlsNames.Field.IsRequired, label, new Item(temp, label, this.RowIndex)));\r\n  \r\n        temp = item.field.typeId;\r\n        record[ControlsNames.Field.TypeId] = temp;\r\n        label = this.GetControlLabel(ControlsNames.Field.TypeId, temp);\r\n        row.push(new TableItem(ControlsNames.Field.TypeId, label, new Item(temp, label, this.RowIndex)));\r\n  \r\n        temp = item.field.show;\r\n        record[ControlsNames.Field.Show] = temp;\r\n        row.push(new TableItem(ControlsNames.Field.Show, temp, new Item((temp == true ? boolean.True : boolean.False), temp, this.RowIndex)));\r\n\r\n        temp = item.field.variableName;\r\n        record[ControlsNames.Field.VariableName] = temp;\r\n        row.push(new TableItem(ControlsNames.Field.VariableName, temp, new Item(temp, temp, this.RowIndex)));\r\n\r\n        temp = item.fieldTypeInfo.minLength;\r\n        record[ControlsNames.TextBoxType.MinLength] = temp;\r\n        row.push(new TableItem(ControlsNames.TextBoxType.MinLength, temp, new Item(temp, temp, this.RowIndex)));\r\n  \r\n        temp = item.fieldTypeInfo.maxLength;\r\n        record[ControlsNames.TextBoxType.MaxLength] = temp;\r\n        row.push(new TableItem(ControlsNames.TextBoxType.MaxLength, temp, new Item(temp, temp, this.RowIndex)));\r\n  \r\n        temp = item.fieldTypeInfo.placeHolder;\r\n        record[ControlsNames.TextBoxType.PlaceHolder] = temp;\r\n        row.push(new TableItem(ControlsNames.TextBoxType.PlaceHolder, temp, new Item(temp, temp, this.RowIndex)));\r\n  \r\n        temp = item.fieldTypeInfo.hint;\r\n        record[ControlsNames.TextBoxType.Hint] = temp;\r\n        row.push(new TableItem(ControlsNames.TextBoxType.Hint, temp, new Item(temp, temp, this.RowIndex)));\r\n        \r\n        temp = item.fieldTypeInfo.readOnly;\r\n        record[ControlsNames.TextBoxType.ReadOnly] = temp;\r\n        label = this.GetControlLabel(ControlsNames.TextBoxType.ReadOnly, temp);\r\n        row.push(new TableItem(ControlsNames.TextBoxType.ReadOnly, label, new Item(temp, label, this.RowIndex)));\r\n  \r\n        temp = item.fieldTypeInfo.isMultiLine;\r\n        record[ControlsNames.TextBoxType.IsMultiLine] = temp;\r\n        label = this.GetControlLabel(ControlsNames.TextBoxType.IsMultiLine, temp);\r\n        row.push(new TableItem(ControlsNames.TextBoxType.IsMultiLine, label, new Item(temp, label, this.RowIndex)));\r\n  \r\n        temp = item.fieldTypeInfo.isMoney;\r\n        record[ControlsNames.TextBoxType.IsMoney] = temp;\r\n        label = this.GetControlLabel(ControlsNames.TextBoxType.IsMoney, temp);\r\n        row.push(new TableItem(ControlsNames.TextBoxType.IsMoney, label, new Item(temp, label, this.RowIndex)));\r\n  \r\n        temp = item.fieldTypeInfo.isLTR\r\n        record[ControlsNames.TextBoxType.IsLtr] = temp;\r\n        label = this.GetControlLabel(ControlsNames.TextBoxType.IsLtr, temp);\r\n        row.push(new TableItem(ControlsNames.TextBoxType.IsLtr, label, new Item(temp, label, this.RowIndex)));\r\n  \r\n        temp = item.fieldTypeInfo.validationTypeId;\r\n        record[ControlsNames.TextBoxType.ValidationTypeId] = temp;\r\n        label = this.GetControlLabel(ControlsNames.TextBoxType.ValidationTypeId, temp);\r\n        row.push(new TableItem(ControlsNames.TextBoxType.ValidationTypeId, label, new Item(temp, label, this.RowIndex)));\r\n  \r\n        temp = item.fieldTypeInfo.hasTime;\r\n        record[ControlsNames.DatePickerType.HasTime] = temp;\r\n        label = this.GetControlLabel(ControlsNames.DatePickerType.HasTime, temp);\r\n        row.push(new TableItem(ControlsNames.DatePickerType.HasTime, label, new Item(temp, label, this.RowIndex)));\r\n  \r\n        temp = item.fieldTypeInfo.useEpoch;\r\n        record[ControlsNames.DatePickerType.UseEpoch] = temp;\r\n        label = this.GetControlLabel(ControlsNames.DatePickerType.UseEpoch, temp);\r\n        row.push(new TableItem(ControlsNames.DatePickerType.UseEpoch, label, new Item(temp, label, this.RowIndex)));\r\n  \r\n        temp = item.fieldTypeInfo.dropDownId;\r\n        record[ControlsNames.DropDownType.DropDownId] = temp;\r\n        row.push(new TableItem(ControlsNames.DropDownType.DropDownId, item.fieldTypeInfo.dropDownName, new Item(temp, item.fieldTypeInfo.dropDownName, this.RowIndex)));\r\n  \r\n        temp = item.fieldTypeInfo.supportedFileExtensions;\r\n        record[ControlsNames.FileUploderType.SupportedFileExtensions] = temp;\r\n        label = this.GetControlLabel(ControlsNames.FileUploderType.SupportedFileExtensions, temp);\r\n        row.push(new TableItem(ControlsNames.FileUploderType.SupportedFileExtensions, label, new Item(temp, label, this.RowIndex)));\r\n\r\n        this.RowIndex++;\r\n  \r\n        record[IsNewRecord] = false;\r\n        formFieldsInfo.FieldRecords.push(record);\r\n        tableRows.push(row);\r\n      });\r\n\r\n      this.setState({\r\n        FormFieldsInfo: formFieldsInfo,\r\n        TableRows: tableRows\r\n      });\r\n    }\r\n\r\n    IsFieldOrderRepititive(newOrder)\r\n    {\r\n      var isValid = true;\r\n      var orders = [];\r\n      \r\n      if(newOrder != null)\r\n        orders.push(newOrder);\r\n      this.state.FormFieldsInfo.FieldRecords.forEach(item =>\r\n      {\r\n        if(isValid == false)\r\n          return;\r\n        if(orders.filter(order => order == item.order).length >= 1)\r\n          isValid = false;\r\n        orders.push(item.order);\r\n      });\r\n  \r\n      if(isValid == false)\r\n        Helpers.DisplayErrorMessage(this.notificationSystem, null, 'ترتیب نمایش فیلد تکراری می باشد');\r\n      return isValid;\r\n    }\r\n\r\n    GetTableColumn(row, columnName)\r\n    {\r\n      var column = row.filter(cls => cls.name == columnName);\r\n\r\n      if(column == null || column.length <= 0)\r\n      {\r\n        Helpers.DisplayErrorMessage(this.notificationSystem, null, \"ستون با نام \" + columnName + \" پیدا نشد\");\r\n        return null;\r\n      }\r\n      return column[0];\r\n    }\r\n\r\n    EditField(row)\r\n    {\r\n      if(row == null || row.length <= 0)\r\n      {\r\n        Helpers.DisplayWarningMessage(this.notificationSystem, null, \"اطلاعات فیلد پیدا نشد\");\r\n        return;\r\n      }\r\n      var fieldTyppeColumn = this.GetTableColumn(row, ControlsNames.Field.TypeId);\r\n\r\n      if(fieldTyppeColumn == null)\r\n        return;\r\n      var recordData = this.state.FormFieldsInfo.FieldRecords.filter(rd => rd.Index == fieldTyppeColumn.ExtraData.ExtraData);\r\n\r\n      if(recordData == null || recordData.length <= 0)\r\n      {\r\n        Helpers.DisplayErrorMessage(this.notificationSystem, null, \"اطلاعات فیلد انتخاب شده پیدا نشد\");\r\n        return;\r\n      }\r\n      fieldTyppeColumn.ExtraData.Id = fieldTyppeColumn.ExtraData.Id + '';\r\n      this.FieldTypeSelected({ label: fieldTyppeColumn.value, value: fieldTyppeColumn.ExtraData.Id });\r\n      this.setState({\r\n        [ControlsNames.Field.TypeId]: fieldTyppeColumn.ExtraData.Id + '',\r\n        RecordEditInfo: {\r\n          FieldId: recordData[0].fieldId,\r\n          FieldTypeId: recordData[0].fieldTypeId,\r\n          Index: fieldTyppeColumn.ExtraData.ExtraData\r\n        }\r\n      }, () =>\r\n      {\r\n        var state = this.state;\r\n\r\n        row.forEach(item =>\r\n        {\r\n          var value = null;\r\n\r\n          switch(item.name)\r\n          {\r\n            case ControlsNames.Field.Show:\r\n            case ControlsNames.Field.TypeId:\r\n            case ControlsNames.Field.IsRequired:\r\n            case ControlsNames.TextBoxType.ValidationTypeId:\r\n            case ControlsNames.TextBoxType.ReadOnly:\r\n            case ControlsNames.TextBoxType.IsMultiLine:\r\n            case ControlsNames.TextBoxType.IsMoney:\r\n            case ControlsNames.TextBoxType.IsLtr:\r\n            case ControlsNames.DatePickerType.HasTime:\r\n            case ControlsNames.DatePickerType.UseEpoch:\r\n              value = item.ExtraData.Id;\r\n            break;\r\n            default:\r\n              value = item.ExtraData.Value;\r\n            break;\r\n          }\r\n          state[item.name] = (value == null ? null : value + '');\r\n        });\r\n        state[\"updateKey\"] = this.state.updateKey + 1;\r\n        switch(fieldTyppeColumn.ExtraData.Id)\r\n        {\r\n          case Constants.FieldTypes.TextBox:\r\n          case Constants.FieldTypes.DatePicker:\r\n          case Constants.FieldTypes.CitySelect:\r\n            \r\n          break;\r\n          case Constants.FieldTypes.DropDown:\r\n            var dataListColumn = this.GetTableColumn(row, ControlsNames.DropDownType.DropDownId);\r\n\r\n            if(dataListColumn != null)\r\n            {\r\n              state[ControlsNames.DropDownType.DropDownId] = dataListColumn.ExtraData.Id + '';\r\n              this.DropDownItemSelected({ label: dataListColumn.value});\r\n              state[AutoCompleteListName] = { label: dataListColumn.ExtraData.Value, value: dataListColumn.ExtraData.Id };\r\n            }\r\n          break;\r\n          case Constants.FieldTypes.FileUploader:\r\n          case Constants.FieldTypes.ImageUploader:\r\n            var uploaderColumn = this.GetTableColumn(row, ControlsNames.FileUploderType.SupportedFileExtensions);\r\n\r\n            if(uploaderColumn != null)\r\n                state[ControlsNames.FileUploderType.SupportedFileExtensions] = uploaderColumn.ExtraData.Id;\r\n          break;\r\n          default:\r\n            Helpers.DisplayErrorMessage(this.notificationSystem, null, 'نوع فیلد معتبر نمی باشد');\r\n          break;\r\n        }\r\n        this.setState(state, ()=> this.setState({ updateKey: this.state.updateKey + 1 }));\r\n      });\r\n    }\r\n\r\n    // Events.\r\n    componentDidMount() {\r\n      Helpers.CallServer('/api/FRQST/Field/GetDefaultFieldData',\r\n      { },\r\n      successfulResponse =>\r\n      {\r\n          this.setState({\r\n            YesNoDropDonws: successfulResponse.data.yesNoDropDownItems,\r\n            FieldTypes: successfulResponse.data.fieldTypeItems,\r\n            FileTypes: successfulResponse.data.fileTypeItems,\r\n            FieldValidationTypes: successfulResponse.data.fieldValidationTypeItems,\r\n            NewForms: successfulResponse.data.newForms\r\n          }, () => this.LoadFieldsAndFieldsTypeInfo());\r\n      },\r\n      errorResponse => {\r\n          return HandleError(Helpers, this.notificationSystem, errorResponse);\r\n      },\r\n      () =>\r\n      {\r\n          // Do tasks if it is neccessary\r\n          console.log('Done');\r\n      }, 'Get');\r\n    }\r\n\r\n    FormSeleted(item)\r\n    {\r\n      var formFieldsInfo = this.state.FormFieldsInfo;\r\n\r\n      if(item == null)\r\n      {\r\n        formFieldsInfo.FormId = null;\r\n        this.setState({ FormFieldsInfo: formFieldsInfo });\r\n        return;\r\n      }\r\n      formFieldsInfo.FormId = item.value;\r\n\r\n      var formControls = [];\r\n\r\n      this.GetFieldControls().forEach(ctl => formControls.push(ctl));\r\n      this.setState({\r\n        FormFieldsInfo: formFieldsInfo,\r\n        FixFormControls: formControls\r\n      });\r\n    }\r\n\r\n    FieldTypeSelected(item)\r\n    {\r\n      if(item == null)\r\n        return;\r\n      this.ClearInputFields();\r\n      var formControls = [];\r\n\r\n      switch(item.value)\r\n      {\r\n        case Constants.FieldTypes.TextBox:\r\n          this.GetTextBoxFields().forEach(ctl => formControls.push(ctl));\r\n        break;\r\n        case Constants.FieldTypes.DatePicker:\r\n          this.GetDatePickerFields().forEach(ctl => formControls.push(ctl));\r\n        break;\r\n        case Constants.FieldTypes.DropDown:\r\n          this.GetDropDownFields().forEach(ctl => formControls.push(ctl));\r\n        break;\r\n        case Constants.FieldTypes.FileUploader:\r\n        case Constants.FieldTypes.ImageUploader:\r\n          this.GetFileUploaderFields().forEach(ctl => formControls.push(ctl));\r\n        break;\r\n        case Constants.FieldTypes.CitySelect:\r\n          // No fields is needed to add\r\n        break;\r\n        default:\r\n          Helpers.DisplayErrorMessage(this.notificationSystem, null, 'نوع فیلد انتخابی پیدا نشد');\r\n        return;\r\n      }\r\n      this.setState({ DynamicFormControls: formControls });\r\n    }\r\n\r\n    CheckIfVairableNameIsRepititive()\r\n    {\r\n      var variableName = this.state[ControlsNames.Field.VariableName];\r\n      var variableIsRepititive = false;\r\n      var recordEditInfo = this.state.RecordEditInfo;\r\n\r\n      this.state.FormFieldsInfo.FieldRecords.forEach(item =>\r\n      {\r\n        if(variableIsRepititive)\r\n          return;\r\n        var value = item[ControlsNames.Field.VariableName];\r\n\r\n        if(recordEditInfo == null)\r\n        {\r\n          if(value != null && value != \"\" && value == variableName)\r\n            variableIsRepititive = true;\r\n        }\r\n        else\r\n        {\r\n          if(item[ControlsNames.Field.Id] != recordEditInfo.FieldId && value != null && value != \"\" && value == variableName)\r\n            variableIsRepititive = true;\r\n        }\r\n      });\r\n\r\n      return variableIsRepititive;\r\n    }\r\n\r\n    AddFieldInfo()\r\n    {\r\n      if(!this.IsFieldValid())\r\n        return;\r\n      switch(this.state[ControlsNames.Field.TypeId])\r\n      {\r\n        case Constants.FieldTypes.TextBox:\r\n          if(!this.IsFieldTextBoxTypesValid())\r\n            return;\r\n          var variableName = this.state[ControlsNames.Field.VariableName];\r\n\r\n          if(variableName != null && (variableName.includes('[') || variableName.includes(']')))\r\n          {\r\n            Helpers.DisplayWarningMessage(this.notificationSystem, null, \"حروف های ] و [ مجاز نمی باشند\");\r\n            return;\r\n          }\r\n        break;\r\n        case Constants.FieldTypes.DatePicker:\r\n          \r\n        break;\r\n        case Constants.FieldTypes.DropDown:\r\n          if(!this.IsParameterValid(ControlsNames.DropDownType.DropDownId))\r\n            return;          \r\n        break;\r\n        case Constants.FieldTypes.FileUploader:\r\n        case Constants.FieldTypes.ImageUploader:\r\n          if(!this.IsParameterValid(ControlsNames.FileUploderType.SupportedFileExtensions))\r\n            return;\r\n        break;\r\n        case Constants.FieldTypes.CitySelect:\r\n\r\n        break;\r\n        default:\r\n          Helpers.DisplayErrorMessage(this.notificationSystem, null, 'نوع فیلد انتخابی معتبر نمی باشد');\r\n        break;\r\n      }\r\n      if(this.CheckIfVairableNameIsRepititive())\r\n      {\r\n        Helpers.DisplayWarningMessage(this.notificationSystem, null, 'نام متغییر قبلا استفاده شده است');\r\n        return;\r\n      }\r\n      this.ReadPageDataAndStoreData();\r\n    }\r\n\r\n    DropDownItemSelected(item)\r\n    {\r\n      if(item == null)\r\n      {\r\n        this.dropDownName = null;\r\n        return;\r\n      }\r\n      this.dropDownName = item.label;\r\n    }\r\n\r\n    SetFieldShowState(row, show)\r\n    {\r\n      var tableRows = this.state.TableRows;\r\n      var formFieldsInfo = this.state.FormFieldsInfo;\r\n      var index = row[0].ExtraData.ExtraData;\r\n      var record = formFieldsInfo.FieldRecords.filter(rd => rd.Index == index);\r\n\r\n      if(record.length <= 0)\r\n      {\r\n        Helpers.DisplayErrorMessage(this.notificationSystem, null, 'داده ی مورد نظر پیدا نشد');\r\n        return;\r\n      }      \r\n      Helpers.CallServer('/api/FRQST/Field/SetFieldShowState',\r\n      {\r\n        FieldId: record[0].fieldId,\r\n        Show: show ? \"True\" : \"False\"\r\n      },\r\n      successfulResponse =>\r\n      {\r\n        row.forEach(column =>\r\n          {\r\n            if(column.name == ControlsNames.Field.Show)\r\n              column.value = show;\r\n          });\r\n          record.show = show;\r\n          this.setState({\r\n            FormFieldsInfo: formFieldsInfo,\r\n            TableRows: tableRows\r\n          });\r\n          Helpers.DisplaySuccessMessage(this.notificationSystem, successfulResponse.message);\r\n      },\r\n      errorResponse => {\r\n          return HandleError(Helpers, this.notificationSystem, errorResponse);\r\n      },\r\n      () =>\r\n      {\r\n          // Do tasks if it is neccessary\r\n          console.log('Done');\r\n      });\r\n    }\r\n\r\n    RemoveRecord(tableRows, formFieldsInfo, index, option)\r\n    {\r\n      tableRows = tableRows.filter(rw => rw[0].ExtraData.ExtraData != index);\r\n      formFieldsInfo.FieldRecords = formFieldsInfo.FieldRecords.filter(rd => rd.Index != index);\r\n\r\n      option.modalOpen = false;\r\n      this.setState({\r\n        FormFieldsInfo: formFieldsInfo,\r\n        TableRows: tableRows\r\n      });\r\n    }\r\n\r\n    DeleteFieldInfo(option)\r\n    {\r\n      var tableRows = this.state.TableRows;\r\n      var formFieldsInfo = this.state.FormFieldsInfo;\r\n      var row = option.modalData;\r\n      var index = row[0].ExtraData.ExtraData;\r\n      var record = formFieldsInfo.FieldRecords.filter(rd => rd.Index == index);\r\n\r\n      if(record.length <= 0)\r\n      {\r\n        Helpers.DisplayErrorMessage(this.notificationSystem, null, 'داده ی مورد نظر پیدا نشد');\r\n        return;\r\n      }\r\n      if(record[0].fieldId != null && record[0].fieldTypeId != null)\r\n        Helpers.CallServer('/api/FRQST/Field/DeleteField',\r\n        { Id: record[0].fieldId },\r\n        successfulResponse =>\r\n        {\r\n            this.RemoveRecord(tableRows, formFieldsInfo, index, option);\r\n            Helpers.DisplaySuccessMessage(this.notificationSystem, successfulResponse.message);\r\n        },\r\n        errorResponse => {\r\n            return HandleError(Helpers, this.notificationSystem, errorResponse);\r\n        },\r\n        () =>\r\n        {\r\n            // Do tasks if it is neccessary\r\n            console.log('Done');\r\n        });\r\n      else\r\n        this.RemoveRecord(tableRows, formFieldsInfo, index, option);\r\n    }\r\n\r\n    onSubmitError(er) {\r\n      return HandleError(Helpers, this.notificationSystem, er);\r\n  }\r\n\r\n  onBeforeSubmit() {\r\n    return this.IsFieldOrderRepititive();\r\n  }\r\n\r\n  onSubmitSuccess()\r\n  {\r\n    var formId = this.state.FormFieldsInfo.FormId;\r\n\r\n    Helpers.DisplaySuccessMessage(this.notificationSystem, 'اطلاعات با موفقیت ثبت گردید');\r\n    \r\n    if(formId != null)\r\n      Helpers.CallServer('/api/FRQST/Field/GetFormFieldsInfo',\r\n      { Id: formId },\r\n      successfulResponse =>\r\n      {\r\n          this.LoadFieldsAndFieldsTypeInfo(successfulResponse.data.fieldsAndFieldTypeInfo);\r\n      },\r\n      errorResponse => {\r\n          return HandleError(Helpers, this.notificationSystem, errorResponse);\r\n      },\r\n      () =>\r\n      {\r\n          // Do tasks if it is neccessary\r\n          console.log('Done');\r\n      });\r\n    if(this.props.formFieldsInfo != null)\r\n      return;\r\n    this.setState({ ShowSaveButton: false });\r\n  }\r\n\r\n  render() {\r\n    return this.state.YesNoDropDonws.length > 0 && (\r\n      <>\r\n        <Card\r\n          context={ this }\r\n          title=\"جزئیات فیلدهای فرم \"\r\n          icon=\"forms\"\r\n          submitUrl=\"/api/FRQST/Field/SaveFormFeildsInfo\"\r\n          hasBackButton={ true }\r\n          hasDefaultSaveButton={ this.state.ShowSaveButton }\r\n          updateKey={ this.state.updateKey }\r\n          submitFields='FormFieldsInfo'\r\n          onSubmitError={ this.onSubmitError }\r\n          onBeforeSubmit={ this.onBeforeSubmit }\r\n          onSubmitSuccess={ this.onSubmitSuccess }\r\n          ignoreValidation={ true }\r\n          statusColor=\"success\"\r\n          topButtons={[\r\n            {\r\n              title: \"لیست فرم های پویا\",\r\n              icon: \"list-details\",\r\n              color: \"outline-success\",\r\n              url: GetUrl(\"formListPage\"),\r\n            },\r\n          ]}>\r\n            <DropDown context={ this }\r\n              name=\"formId\"\r\n              title=\"فرم پویا\"\r\n              required\r\n              changeHandler={ this.FormSeleted } \r\n              disabled={ this.props.formFieldsInfo == null ? false: true }\r\n              options={ this.props.formFieldsInfo == null\r\n                          ? this.state.NewForms\r\n                          : [{ title: this.props.formFieldsInfo.form.formTitle, label: this.props.formFieldsInfo.form.formTitle, value: this.props.formFieldsInfo.form.formId }] } /> \r\n            { this.state.FixFormControls }\r\n            { this.state.DynamicFormControls }\r\n            <div className=\"row\">\r\n              <div className=\"col p-2\">\r\n                  <a className=\"btn btn-sm btn-outline-primary float-end\" onClick={ this.AddFieldInfo }>\r\n                      <i className=\"ti me-2 ti-circle-plus\" />{ this.state.RecordEditInfo == null ? \"افزودن\" : \"ویرایش\" }\r\n                  </a>\r\n              </div>\r\n          </div>\r\n          <div className=\"row\">\r\n              <div className=\"col align-self-center\">\r\n                  <Table\r\n                      headers={[\r\n                        { title: 'وضعیت نمایش', name: ControlsNames.Field.Show },\r\n                        { title: 'نام', name: ControlsNames.Field.Name },\r\n                        { title: 'ترتیب نمایش', name: ControlsNames.Field.Order },\r\n                        { title: 'مقدار پیش فرض', name: ControlsNames.Field.InitValue },\r\n                        { title: 'اجباری', name: ControlsNames.Field.IsRequired },\r\n                        { title: 'نوع فیلد', name: ControlsNames.Field.TypeId },\r\n                        { title: 'نام متغییر', name: ControlsNames.Field.VariableName },\r\n                        { title: 'حداقل طول', name: ControlsNames.TextBoxType.MinLength },\r\n                        { title: 'حداکثر طول', name: ControlsNames.TextBoxType.MaxLength },\r\n                        { title: 'متن راهنما', name: ControlsNames.TextBoxType.PlaceHolder },\r\n                        { title: 'توضیحات', name: ControlsNames.TextBoxType.Hint },\r\n                        { title: 'فقط خواندنی', name: ControlsNames.TextBoxType.ReadOnly },\r\n                        { title: 'چند خطی', name: ControlsNames.TextBoxType.IsMultiLine },\r\n                        { title: 'نوع مبلغ', name: ControlsNames.TextBoxType.IsMoney },\r\n                        { title: 'چپ به راست', name: ControlsNames.TextBoxType.IsLtr },\r\n                        { title: 'نوع اعتبار سنجی', name: ControlsNames.TextBoxType.ValidationTypeId },\r\n                        { title: 'داده لیستی', name: ControlsNames.DropDownType.DropDownId },\r\n                        { title: 'شامل ساعت', name: ControlsNames.DatePickerType.HasTime },\r\n                        { title: 'نوع تاریخ یونیکس', name: ControlsNames.DatePickerType.UseEpoch },\r\n                        { title: 'نوع فایل های پشتیبانی', name: ControlsNames.FileUploderType.SupportedFileExtensions },\r\n                      ]}\r\n                      deleteModalFieldNames={[ ControlsNames.Field.Name, ControlsNames.Field.Order, ControlsNames.Field.TypeId ]}\r\n                      badgeOnCells={[\r\n                        {\r\n                            fieldName: ControlsNames.Field.Show,\r\n                            color: (x) => {\r\n                            switch (x) {\r\n                                case true:\r\n                                    return \"green\";\r\n                                default:\r\n                                    return \"red\"\r\n                            }\r\n                            },\r\n                        },\r\n                        ]}\r\n                      data={ this.state.TableRows }\r\n                      lgCol={ 12 }\r\n                      minHeightTableWrapper={ 200 }\r\n                      rowOptions={[\r\n                        { title: 'ویرایش', icon:'edit', func: this.EditField },\r\n                        { title: 'نمایش', icon:'presentation', func: (row) => this.SetFieldShowState(row, true) },\r\n                        { title: 'پنهان', icon:'presentation-off', func: (row) => this.SetFieldShowState(row, false) },\r\n                      ]}\r\n                      hasDeleteButton\r\n                      onDeleteButton={ this.DeleteFieldInfo } />\r\n              </div>\r\n          </div>\r\n      </Card>\r\n      <NotificationSystem ref={ this.notificationSystem } />\r\n      </>\r\n    );\r\n  }\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}